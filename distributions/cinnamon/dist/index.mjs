import * as _fs from 'fs';
import _fs__default from 'fs';
import require$$9, { promisify as promisify$4 } from 'util';
import * as require$$0$3 from 'path';
import require$$0__default from 'path';
import require$$0$5 from 'os';
import require$$0$4 from 'tty';
import require$$0$6 from 'buffer';
import require$$1 from 'stream';
import require$$7 from 'assert';
import require$$0$7 from 'events';
import require$$0$8 from 'crypto';
import require$$2 from 'http';
import require$$0$9 from 'url';
import require$$1$1 from 'net';
import require$$5$1 from 'querystring';
import * as Module from 'module';

function _mergeNamespaces(n, m) {
  m.forEach(function (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default' && !(k in n)) {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  });
  return Object.freeze(n);
}

function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else {obj[key]=value;}return obj}

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function getDefaultExportFromCjs (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function getAugmentedNamespace(n) {
	if (n.__esModule) return n;
	var a = Object.defineProperty({}, '__esModule', {value: true});
	Object.keys(n).forEach(function (k) {
		var d = Object.getOwnPropertyDescriptor(n, k);
		Object.defineProperty(a, k, d.get ? d : {
			enumerable: true,
			get: function () {
				return n[k];
			}
		});
	});
	return a;
}

function commonjsRequire (path) {
	throw new Error('Could not dynamically require "' + path + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}

var parser$1=function(){function peg$subclass(child,parent){function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor;}function SyntaxError(message,expected,found,offset,line,column){this.message=message;this.expected=expected;this.found=found;this.offset=offset;this.line=line;this.column=column;this.name="SyntaxError";}peg$subclass(SyntaxError,Error);function parse(input){var options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c1=function(){return nodes},peg$c2=peg$FAILED,peg$c3="#",peg$c4={type:"literal",value:"#",description:"\"#\""},peg$c5=void 0,peg$c6={type:"any",description:"any character"},peg$c7="[",peg$c8={type:"literal",value:"[",description:"\"[\""},peg$c9="]",peg$c10={type:"literal",value:"]",description:"\"]\""},peg$c11=function(name){addNode(node("ObjectPath",name,line,column));},peg$c12=function(name){addNode(node("ArrayPath",name,line,column));},peg$c13=function(parts,name){return parts.concat(name)},peg$c14=function(name){return [name]},peg$c15=function(name){return name},peg$c16=".",peg$c17={type:"literal",value:".",description:"\".\""},peg$c18="=",peg$c19={type:"literal",value:"=",description:"\"=\""},peg$c20=function(key,value){addNode(node("Assign",value,line,column,key));},peg$c21=function(chars){return chars.join("")},peg$c22=function(node){return node.value},peg$c23="\"\"\"",peg$c24={type:"literal",value:"\"\"\"",description:"\"\\\"\\\"\\\"\""},peg$c25=null,peg$c26=function(chars){return node("String",chars.join(""),line,column)},peg$c27="\"",peg$c28={type:"literal",value:"\"",description:"\"\\\"\""},peg$c29="'''",peg$c30={type:"literal",value:"'''",description:"\"'''\""},peg$c31="'",peg$c32={type:"literal",value:"'",description:"\"'\""},peg$c33=function(char){return char},peg$c34=function(char){return char},peg$c35="\\",peg$c36={type:"literal",value:"\\",description:"\"\\\\\""},peg$c37=function(){return ""},peg$c38="e",peg$c39={type:"literal",value:"e",description:"\"e\""},peg$c40="E",peg$c41={type:"literal",value:"E",description:"\"E\""},peg$c42=function(left,right){return node("Float",parseFloat(left+"e"+right),line,column)},peg$c43=function(text){return node("Float",parseFloat(text),line,column)},peg$c44="+",peg$c45={type:"literal",value:"+",description:"\"+\""},peg$c46=function(digits){return digits.join("")},peg$c47="-",peg$c48={type:"literal",value:"-",description:"\"-\""},peg$c49=function(digits){return "-"+digits.join("")},peg$c50=function(text){return node("Integer",parseInt(text,10),line,column)},peg$c51="true",peg$c52={type:"literal",value:"true",description:"\"true\""},peg$c53=function(){return node("Boolean",true,line,column)},peg$c54="false",peg$c55={type:"literal",value:"false",description:"\"false\""},peg$c56=function(){return node("Boolean",false,line,column)},peg$c57=function(){return node("Array",[],line,column)},peg$c58=function(value){return node("Array",value?[value]:[],line,column)},peg$c59=function(values){return node("Array",values,line,column)},peg$c60=function(values,value){return node("Array",values.concat(value),line,column)},peg$c61=function(value){return value},peg$c62=",",peg$c63={type:"literal",value:",",description:"\",\""},peg$c64="{",peg$c65={type:"literal",value:"{",description:"\"{\""},peg$c66="}",peg$c67={type:"literal",value:"}",description:"\"}\""},peg$c68=function(values){return node("InlineTable",values,line,column)},peg$c69=function(key,value){return node("InlineTableValue",value,line,column,key)},peg$c70=function(digits){return "."+digits},peg$c71=function(date){return date.join("")},peg$c72=":",peg$c73={type:"literal",value:":",description:"\":\""},peg$c74=function(time){return time.join("")},peg$c75="T",peg$c76={type:"literal",value:"T",description:"\"T\""},peg$c77="Z",peg$c78={type:"literal",value:"Z",description:"\"Z\""},peg$c79=function(date,time){return node("Date",new Date(date+"T"+time+"Z"),line,column)},peg$c80=function(date,time){return node("Date",new Date(date+"T"+time),line,column)},peg$c81=/^[ \t]/,peg$c82={type:"class",value:"[ \\t]",description:"[ \\t]"},peg$c83="\n",peg$c84={type:"literal",value:"\n",description:"\"\\n\""},peg$c85="\r",peg$c86={type:"literal",value:"\r",description:"\"\\r\""},peg$c87=/^[0-9a-f]/i,peg$c88={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},peg$c89=/^[0-9]/,peg$c90={type:"class",value:"[0-9]",description:"[0-9]"},peg$c91="_",peg$c92={type:"literal",value:"_",description:"\"_\""},peg$c93=function(){return ""},peg$c94=/^[A-Za-z0-9_\-]/,peg$c95={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},peg$c96=function(d){return d.join("")},peg$c97="\\\"",peg$c98={type:"literal",value:"\\\"",description:"\"\\\\\\\"\""},peg$c99=function(){return "\""},peg$c100="\\\\",peg$c101={type:"literal",value:"\\\\",description:"\"\\\\\\\\\""},peg$c102=function(){return "\\"},peg$c103="\\b",peg$c104={type:"literal",value:"\\b",description:"\"\\\\b\""},peg$c105=function(){return "\b"},peg$c106="\\t",peg$c107={type:"literal",value:"\\t",description:"\"\\\\t\""},peg$c108=function(){return "\t"},peg$c109="\\n",peg$c110={type:"literal",value:"\\n",description:"\"\\\\n\""},peg$c111=function(){return "\n"},peg$c112="\\f",peg$c113={type:"literal",value:"\\f",description:"\"\\\\f\""},peg$c114=function(){return "\f"},peg$c115="\\r",peg$c116={type:"literal",value:"\\r",description:"\"\\\\r\""},peg$c117=function(){return "\r"},peg$c118="\\U",peg$c119={type:"literal",value:"\\U",description:"\"\\\\U\""},peg$c120=function(digits){return convertCodePoint(digits.join(""))},peg$c121="\\u",peg$c122={type:"literal",value:"\\u",description:"\"\\\\u\""},peg$currPos=0,peg$reportedPos=0,peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:false},peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$cache={},peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+"\".")}peg$startRuleFunction=peg$startRuleFunctions[options.startRule];}function line(){return peg$computePosDetails(peg$reportedPos).line}function column(){return peg$computePosDetails(peg$reportedPos).column}function peg$computePosDetails(pos){function advance(details,startPos,endPos){var p,ch;for(p=startPos;p<endPos;p++){ch=input.charAt(p);if(ch==="\n"){if(!details.seenCR){details.line++;}details.column=1;details.seenCR=false;}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){details.line++;details.column=1;details.seenCR=true;}else {details.column++;details.seenCR=false;}}}if(peg$cachedPos!==pos){if(peg$cachedPos>pos){peg$cachedPos=0;peg$cachedPosDetails={line:1,column:1,seenCR:false};}advance(peg$cachedPosDetails,peg$cachedPos,pos);peg$cachedPos=pos;}return peg$cachedPosDetails}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[];}peg$maxFailExpected.push(expected);}function peg$buildException(message,expected,pos){function cleanupExpected(expected){var i=1;expected.sort(function(a,b){if(a.description<b.description){return -1}else if(a.description>b.description){return 1}else {return 0}});while(i<expected.length){if(expected[i-1]===expected[i]){expected.splice(i,1);}else {i++;}}}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return "\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return "\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return "\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return "\\u"+hex(ch)})}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++){expectedDescs[i]=expected[i].description;}expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0];foundDesc=found?"\""+stringEscape(found)+"\"":"end of input";return "Expected "+expectedDesc+" but "+foundDesc+" found."}var posDetails=peg$computePosDetails(pos),found=pos<input.length?input.charAt(pos):null;if(expected!==null){cleanupExpected(expected);}return new SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,pos,posDetails.line,posDetails.column)}function peg$parsestart(){var s0,s1,s2;var key=peg$currPos*49+0,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseline();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseline();}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c1();}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseline(){var s0,s1,s2,s3,s4,s5,s6;var key=peg$currPos*49+1,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parseexpression();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){s4=[];s5=peg$parsecomment();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parsecomment();}if(s4!==peg$FAILED){s5=[];s6=peg$parseNL();if(s6!==peg$FAILED){while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseNL();}}else {s5=peg$c2;}if(s5===peg$FAILED){s5=peg$parseEOF();}if(s5!==peg$FAILED){s1=[s1,s2,s3,s4,s5];s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=[];s2=peg$parseS();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}}else {s1=peg$c2;}if(s1!==peg$FAILED){s2=[];s3=peg$parseNL();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseNL();}}else {s2=peg$c2;}if(s2===peg$FAILED){s2=peg$parseEOF();}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$parseNL();}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseexpression(){var s0;var key=peg$currPos*49+2,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parsecomment();if(s0===peg$FAILED){s0=peg$parsepath();if(s0===peg$FAILED){s0=peg$parsetablearray();if(s0===peg$FAILED){s0=peg$parseassignment();}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsecomment(){var s0,s1,s2,s3,s4,s5;var key=peg$currPos*49+3,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===35){s1=peg$c3;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c4);}}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseNL();if(s5===peg$FAILED){s5=peg$parseEOF();}peg$silentFails--;if(s5===peg$FAILED){s4=peg$c5;}else {peg$currPos=s4;s4=peg$c2;}if(s4!==peg$FAILED){if(input.length>peg$currPos){s5=input.charAt(peg$currPos);peg$currPos++;}else {s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else {peg$currPos=s3;s3=peg$c2;}}else {peg$currPos=s3;s3=peg$c2;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseNL();if(s5===peg$FAILED){s5=peg$parseEOF();}peg$silentFails--;if(s5===peg$FAILED){s4=peg$c5;}else {peg$currPos=s4;s4=peg$c2;}if(s4!==peg$FAILED){if(input.length>peg$currPos){s5=input.charAt(peg$currPos);peg$currPos++;}else {s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else {peg$currPos=s3;s3=peg$c2;}}else {peg$currPos=s3;s3=peg$c2;}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsepath(){var s0,s1,s2,s3,s4,s5;var key=peg$currPos*49+4,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){s2=[];s3=peg$parseS();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseS();}if(s2!==peg$FAILED){s3=peg$parsetable_key();if(s3!==peg$FAILED){s4=[];s5=peg$parseS();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseS();}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s5=peg$c9;peg$currPos++;}else {s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c11(s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsetablearray(){var s0,s1,s2,s3,s4,s5,s6,s7;var key=peg$currPos*49+5,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===91){s2=peg$c7;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){s4=peg$parsetable_key();if(s4!==peg$FAILED){s5=[];s6=peg$parseS();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseS();}if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s6=peg$c9;peg$currPos++;}else {s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s7=peg$c9;peg$currPos++;}else {s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s7!==peg$FAILED){peg$reportedPos=s0;s1=peg$c12(s4);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsetable_key(){var s0,s1,s2;var key=peg$currPos*49+6,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parsedot_ended_table_key_part();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsedot_ended_table_key_part();}}else {s1=peg$c2;}if(s1!==peg$FAILED){s2=peg$parsetable_key_part();if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c13(s1,s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsetable_key_part();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c14(s1);}s0=s1;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsetable_key_part(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+7,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsekey();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c15(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsequoted_key();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c15(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsedot_ended_table_key_part(){var s0,s1,s2,s3,s4,s5,s6;var key=peg$currPos*49+8,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsekey();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s4!==peg$FAILED){s5=[];s6=peg$parseS();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseS();}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c15(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsequoted_key();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s4!==peg$FAILED){s5=[];s6=peg$parseS();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseS();}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c15(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseassignment(){var s0,s1,s2,s3,s4,s5;var key=peg$currPos*49+9,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$parsekey();if(s1!==peg$FAILED){s2=[];s3=peg$parseS();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseS();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c18;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19);}}if(s3!==peg$FAILED){s4=[];s5=peg$parseS();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseS();}if(s4!==peg$FAILED){s5=peg$parsevalue();if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c20(s1,s5);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsequoted_key();if(s1!==peg$FAILED){s2=[];s3=peg$parseS();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseS();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c18;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19);}}if(s3!==peg$FAILED){s4=[];s5=peg$parseS();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseS();}if(s4!==peg$FAILED){s5=peg$parsevalue();if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c20(s1,s5);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsekey(){var s0,s1,s2;var key=peg$currPos*49+10,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseASCII_BASIC();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseASCII_BASIC();}}else {s1=peg$c2;}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c21(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsequoted_key(){var s0,s1;var key=peg$currPos*49+11,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$parsedouble_quoted_single_line_string();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c22(s1);}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesingle_quoted_single_line_string();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c22(s1);}s0=s1;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsevalue(){var s0;var key=peg$currPos*49+12,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parsestring();if(s0===peg$FAILED){s0=peg$parsedatetime();if(s0===peg$FAILED){s0=peg$parsefloat();if(s0===peg$FAILED){s0=peg$parseinteger();if(s0===peg$FAILED){s0=peg$parseboolean();if(s0===peg$FAILED){s0=peg$parsearray();if(s0===peg$FAILED){s0=peg$parseinline_table();}}}}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsestring(){var s0;var key=peg$currPos*49+13,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parsedouble_quoted_multiline_string();if(s0===peg$FAILED){s0=peg$parsedouble_quoted_single_line_string();if(s0===peg$FAILED){s0=peg$parsesingle_quoted_multiline_string();if(s0===peg$FAILED){s0=peg$parsesingle_quoted_single_line_string();}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsedouble_quoted_multiline_string(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+14,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c23){s1=peg$c23;peg$currPos+=3;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}if(s1!==peg$FAILED){s2=peg$parseNL();if(s2===peg$FAILED){s2=peg$c25;}if(s2!==peg$FAILED){s3=[];s4=peg$parsemultiline_string_char();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsemultiline_string_char();}if(s3!==peg$FAILED){if(input.substr(peg$currPos,3)===peg$c23){s4=peg$c23;peg$currPos+=3;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c26(s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsedouble_quoted_single_line_string(){var s0,s1,s2,s3;var key=peg$currPos*49+15,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c27;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsestring_char();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsestring_char();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c27;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c26(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsesingle_quoted_multiline_string(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+16,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c29){s1=peg$c29;peg$currPos+=3;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30);}}if(s1!==peg$FAILED){s2=peg$parseNL();if(s2===peg$FAILED){s2=peg$c25;}if(s2!==peg$FAILED){s3=[];s4=peg$parsemultiline_literal_char();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsemultiline_literal_char();}if(s3!==peg$FAILED){if(input.substr(peg$currPos,3)===peg$c29){s4=peg$c29;peg$currPos+=3;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30);}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c26(s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsesingle_quoted_single_line_string(){var s0,s1,s2,s3;var key=peg$currPos*49+17,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c31;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c32);}}if(s1!==peg$FAILED){s2=[];s3=peg$parseliteral_char();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseliteral_char();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c31;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c32);}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c26(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsestring_char(){var s0,s1,s2;var key=peg$currPos*49+18,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parseESCAPED();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===34){s2=peg$c27;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c5;}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c33(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseliteral_char(){var s0,s1,s2;var key=peg$currPos*49+19,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===39){s2=peg$c31;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c32);}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c5;}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c33(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsemultiline_string_char(){var s0,s1,s2;var key=peg$currPos*49+20,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parseESCAPED();if(s0===peg$FAILED){s0=peg$parsemultiline_string_delim();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,3)===peg$c23){s2=peg$c23;peg$currPos+=3;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24);}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c5;}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c34(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsemultiline_string_delim(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+21,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c35;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c36);}}if(s1!==peg$FAILED){s2=peg$parseNL();if(s2!==peg$FAILED){s3=[];s4=peg$parseNLS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseNLS();}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c37();s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsemultiline_literal_char(){var s0,s1,s2;var key=peg$currPos*49+22,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,3)===peg$c29){s2=peg$c29;peg$currPos+=3;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30);}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c5;}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c33(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsefloat(){var s0,s1,s2,s3;var key=peg$currPos*49+23,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$parsefloat_text();if(s1===peg$FAILED){s1=peg$parseinteger_text();}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===101){s2=peg$c38;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39);}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===69){s2=peg$c40;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c41);}}}if(s2!==peg$FAILED){s3=peg$parseinteger_text();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c42(s1,s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsefloat_text();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c43(s1);}s0=s1;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsefloat_text(){var s0,s1,s2,s3,s4,s5;var key=peg$currPos*49+24,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===43){s1=peg$c44;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}if(s1===peg$FAILED){s1=peg$c25;}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseDIGITS();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s4!==peg$FAILED){s5=peg$parseDIGITS();if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3;}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c46(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c47;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseDIGITS();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s4!==peg$FAILED){s5=peg$parseDIGITS();if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3;}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c49(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseinteger(){var s0,s1;var key=peg$currPos*49+25,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$parseinteger_text();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c50(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseinteger_text(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+26,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===43){s1=peg$c44;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}if(s1===peg$FAILED){s1=peg$c25;}if(s1!==peg$FAILED){s2=[];s3=peg$parseDIGIT_OR_UNDER();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseDIGIT_OR_UNDER();}}else {s2=peg$c2;}if(s2!==peg$FAILED){s3=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}peg$silentFails--;if(s4===peg$FAILED){s3=peg$c5;}else {peg$currPos=s3;s3=peg$c2;}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c46(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c47;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s1!==peg$FAILED){s2=[];s3=peg$parseDIGIT_OR_UNDER();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseDIGIT_OR_UNDER();}}else {s2=peg$c2;}if(s2!==peg$FAILED){s3=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===46){s4=peg$c16;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}peg$silentFails--;if(s4===peg$FAILED){s3=peg$c5;}else {peg$currPos=s3;s3=peg$c2;}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c49(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseboolean(){var s0,s1;var key=peg$currPos*49+27,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c51){s1=peg$c51;peg$currPos+=4;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c53();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c54){s1=peg$c54;peg$currPos+=5;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c55);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c56();}s0=s1;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsearray(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+28,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsearray_sep();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsearray_sep();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s3=peg$c9;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c57();s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){s2=peg$parsearray_value();if(s2===peg$FAILED){s2=peg$c25;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s3=peg$c9;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c58(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsearray_value_list();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsearray_value_list();}}else {s2=peg$c2;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s3=peg$c9;peg$currPos++;}else {s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c59(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c7;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c8);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsearray_value_list();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsearray_value_list();}}else {s2=peg$c2;}if(s2!==peg$FAILED){s3=peg$parsearray_value();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s4=peg$c9;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c10);}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c60(s2,s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsearray_value(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+29,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parsearray_sep();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsearray_sep();}if(s1!==peg$FAILED){s2=peg$parsevalue();if(s2!==peg$FAILED){s3=[];s4=peg$parsearray_sep();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsearray_sep();}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c61(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsearray_value_list(){var s0,s1,s2,s3,s4,s5,s6;var key=peg$currPos*49+30,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parsearray_sep();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsearray_sep();}if(s1!==peg$FAILED){s2=peg$parsevalue();if(s2!==peg$FAILED){s3=[];s4=peg$parsearray_sep();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsearray_sep();}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s4=peg$c62;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c63);}}if(s4!==peg$FAILED){s5=[];s6=peg$parsearray_sep();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parsearray_sep();}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c61(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsearray_sep(){var s0;var key=peg$currPos*49+31,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parseS();if(s0===peg$FAILED){s0=peg$parseNL();if(s0===peg$FAILED){s0=peg$parsecomment();}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseinline_table(){var s0,s1,s2,s3,s4,s5;var key=peg$currPos*49+32,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c64;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65);}}if(s1!==peg$FAILED){s2=[];s3=peg$parseS();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseS();}if(s2!==peg$FAILED){s3=[];s4=peg$parseinline_table_assignment();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseinline_table_assignment();}if(s3!==peg$FAILED){s4=[];s5=peg$parseS();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseS();}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c66;peg$currPos++;}else {s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c67);}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c68(s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseinline_table_assignment(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;var key=peg$currPos*49+33,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsekey();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s4=peg$c18;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19);}}if(s4!==peg$FAILED){s5=[];s6=peg$parseS();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseS();}if(s5!==peg$FAILED){s6=peg$parsevalue();if(s6!==peg$FAILED){s7=[];s8=peg$parseS();while(s8!==peg$FAILED){s7.push(s8);s8=peg$parseS();}if(s7!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s8=peg$c62;peg$currPos++;}else {s8=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c63);}}if(s8!==peg$FAILED){s9=[];s10=peg$parseS();while(s10!==peg$FAILED){s9.push(s10);s10=peg$parseS();}if(s9!==peg$FAILED){peg$reportedPos=s0;s1=peg$c69(s2,s6);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=[];s2=peg$parseS();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseS();}if(s1!==peg$FAILED){s2=peg$parsekey();if(s2!==peg$FAILED){s3=[];s4=peg$parseS();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseS();}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s4=peg$c18;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19);}}if(s4!==peg$FAILED){s5=[];s6=peg$parseS();while(s6!==peg$FAILED){s5.push(s6);s6=peg$parseS();}if(s5!==peg$FAILED){s6=peg$parsevalue();if(s6!==peg$FAILED){peg$reportedPos=s0;s1=peg$c69(s2,s6);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsesecfragment(){var s0,s1,s2;var key=peg$currPos*49+34,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s1=peg$c16;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s1!==peg$FAILED){s2=peg$parseDIGITS();if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c70(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsedate(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11;var key=peg$currPos*49+35,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$currPos;s2=peg$parseDIGIT_OR_UNDER();if(s2!==peg$FAILED){s3=peg$parseDIGIT_OR_UNDER();if(s3!==peg$FAILED){s4=peg$parseDIGIT_OR_UNDER();if(s4!==peg$FAILED){s5=peg$parseDIGIT_OR_UNDER();if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s6=peg$c47;peg$currPos++;}else {s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s6!==peg$FAILED){s7=peg$parseDIGIT_OR_UNDER();if(s7!==peg$FAILED){s8=peg$parseDIGIT_OR_UNDER();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s9=peg$c47;peg$currPos++;}else {s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s9!==peg$FAILED){s10=peg$parseDIGIT_OR_UNDER();if(s10!==peg$FAILED){s11=peg$parseDIGIT_OR_UNDER();if(s11!==peg$FAILED){s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10,s11];s1=s2;}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsetime(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;var key=peg$currPos*49+36,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$currPos;s2=peg$parseDIGIT_OR_UNDER();if(s2!==peg$FAILED){s3=peg$parseDIGIT_OR_UNDER();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s4=peg$c72;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73);}}if(s4!==peg$FAILED){s5=peg$parseDIGIT_OR_UNDER();if(s5!==peg$FAILED){s6=peg$parseDIGIT_OR_UNDER();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s7=peg$c72;peg$currPos++;}else {s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73);}}if(s7!==peg$FAILED){s8=peg$parseDIGIT_OR_UNDER();if(s8!==peg$FAILED){s9=peg$parseDIGIT_OR_UNDER();if(s9!==peg$FAILED){s10=peg$parsesecfragment();if(s10===peg$FAILED){s10=peg$c25;}if(s10!==peg$FAILED){s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10];s1=s2;}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c74(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsetime_with_offset(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16;var key=peg$currPos*49+37,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$currPos;s2=peg$parseDIGIT_OR_UNDER();if(s2!==peg$FAILED){s3=peg$parseDIGIT_OR_UNDER();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s4=peg$c72;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73);}}if(s4!==peg$FAILED){s5=peg$parseDIGIT_OR_UNDER();if(s5!==peg$FAILED){s6=peg$parseDIGIT_OR_UNDER();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s7=peg$c72;peg$currPos++;}else {s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73);}}if(s7!==peg$FAILED){s8=peg$parseDIGIT_OR_UNDER();if(s8!==peg$FAILED){s9=peg$parseDIGIT_OR_UNDER();if(s9!==peg$FAILED){s10=peg$parsesecfragment();if(s10===peg$FAILED){s10=peg$c25;}if(s10!==peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s11=peg$c47;peg$currPos++;}else {s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s11===peg$FAILED){if(input.charCodeAt(peg$currPos)===43){s11=peg$c44;peg$currPos++;}else {s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}}if(s11!==peg$FAILED){s12=peg$parseDIGIT_OR_UNDER();if(s12!==peg$FAILED){s13=peg$parseDIGIT_OR_UNDER();if(s13!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s14=peg$c72;peg$currPos++;}else {s14=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c73);}}if(s14!==peg$FAILED){s15=peg$parseDIGIT_OR_UNDER();if(s15!==peg$FAILED){s16=peg$parseDIGIT_OR_UNDER();if(s16!==peg$FAILED){s2=[s2,s3,s4,s5,s6,s7,s8,s9,s10,s11,s12,s13,s14,s15,s16];s1=s2;}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}}else {peg$currPos=s1;s1=peg$c2;}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c74(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parsedatetime(){var s0,s1,s2,s3,s4;var key=peg$currPos*49+38,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=peg$parsedate();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===84){s2=peg$c75;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}if(s2!==peg$FAILED){s3=peg$parsetime();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===90){s4=peg$c77;peg$currPos++;}else {s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78);}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c79(s1,s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsedate();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===84){s2=peg$c75;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}if(s2!==peg$FAILED){s3=peg$parsetime_with_offset();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c80(s1,s3);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseS(){var s0;var key=peg$currPos*49+39,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}if(peg$c81.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else {s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseNL(){var s0,s1,s2;var key=peg$currPos*49+40,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}if(input.charCodeAt(peg$currPos)===10){s0=peg$c83;peg$currPos++;}else {s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c84);}}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===13){s1=peg$c85;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86);}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===10){s2=peg$c83;peg$currPos++;}else {s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c84);}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseNLS(){var s0;var key=peg$currPos*49+41,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$parseNL();if(s0===peg$FAILED){s0=peg$parseS();}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseEOF(){var s0,s1;var key=peg$currPos*49+42,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;peg$silentFails++;if(input.length>peg$currPos){s1=input.charAt(peg$currPos);peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}peg$silentFails--;if(s1===peg$FAILED){s0=peg$c5;}else {peg$currPos=s0;s0=peg$c2;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseHEX(){var s0;var key=peg$currPos*49+43,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}if(peg$c87.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else {s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c88);}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseDIGIT_OR_UNDER(){var s0,s1;var key=peg$currPos*49+44,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}if(peg$c89.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else {s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c90);}}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===95){s1=peg$c91;peg$currPos++;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c92);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c93();}s0=s1;}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseASCII_BASIC(){var s0;var key=peg$currPos*49+45,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}if(peg$c94.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else {s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c95);}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseDIGITS(){var s0,s1,s2;var key=peg$currPos*49+46,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;s1=[];s2=peg$parseDIGIT_OR_UNDER();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseDIGIT_OR_UNDER();}}else {s1=peg$c2;}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c96(s1);}s0=s1;peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseESCAPED(){var s0,s1;var key=peg$currPos*49+47,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c97){s1=peg$c97;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c98);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c99();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c100){s1=peg$c100;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c101);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c102();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c103){s1=peg$c103;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c104);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c105();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c106){s1=peg$c106;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c107);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c108();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c109){s1=peg$c109;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c110);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c111();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c112){s1=peg$c112;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c114();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c115){s1=peg$c115;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c116);}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c117();}s0=s1;if(s0===peg$FAILED){s0=peg$parseESCAPED_UNICODE();}}}}}}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}function peg$parseESCAPED_UNICODE(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;var key=peg$currPos*49+48,cached=peg$cache[key];if(cached){peg$currPos=cached.nextPos;return cached.result}s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c118){s1=peg$c118;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c119);}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseHEX();if(s3!==peg$FAILED){s4=peg$parseHEX();if(s4!==peg$FAILED){s5=peg$parseHEX();if(s5!==peg$FAILED){s6=peg$parseHEX();if(s6!==peg$FAILED){s7=peg$parseHEX();if(s7!==peg$FAILED){s8=peg$parseHEX();if(s8!==peg$FAILED){s9=peg$parseHEX();if(s9!==peg$FAILED){s10=peg$parseHEX();if(s10!==peg$FAILED){s3=[s3,s4,s5,s6,s7,s8,s9,s10];s2=s3;}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c120(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c121){s1=peg$c121;peg$currPos+=2;}else {s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c122);}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseHEX();if(s3!==peg$FAILED){s4=peg$parseHEX();if(s4!==peg$FAILED){s5=peg$parseHEX();if(s5!==peg$FAILED){s6=peg$parseHEX();if(s6!==peg$FAILED){s3=[s3,s4,s5,s6];s2=s3;}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}}else {peg$currPos=s2;s2=peg$c2;}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c120(s2);s0=s1;}else {peg$currPos=s0;s0=peg$c2;}}else {peg$currPos=s0;s0=peg$c2;}}peg$cache[key]={nextPos:peg$currPos,result:s0};return s0}var nodes=[];function genError(err,line,col){var ex=new Error(err);ex.line=line;ex.column=col;throw ex}function addNode(node){nodes.push(node);}function node(type,value,line,column,key){var obj={type:type,value:value,line:line(),column:column()};if(key)obj.key=key;return obj}function convertCodePoint(str,line,col){var num=parseInt("0x"+str);if(!isFinite(num)||Math.floor(num)!=num||num<0||num>1114111||num>55295&&num<57344){genError("Invalid Unicode escape code: "+str,line,col);}else {return fromCodePoint(num)}}function fromCodePoint(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length){return ""}var result="";while(++index<length){var codePoint=Number(arguments[index]);if(codePoint<=65535){codeUnits.push(codePoint);}else {codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate);}if(index+1==length||codeUnits.length>MAX_SIZE){result+=String.fromCharCode.apply(null,codeUnits);codeUnits.length=0;}}return result}peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else {if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail({type:"end",description:"end of input"});}throw peg$buildException(null,peg$maxFailExpected,peg$maxFailPos)}}return {SyntaxError:SyntaxError,parse:parse}}();

function compile$4(nodes){var assignedPaths=[];var valueAssignments=[];var currentPath="";var data=Object.create(null);var context=data;return reduce(nodes);function reduce(nodes){var node;for(var i=0;i<nodes.length;i++){node=nodes[i];switch(node.type){case"Assign":assign(node);break;case"ObjectPath":setPath(node);break;case"ArrayPath":addTableArray(node);break;}}return data}function genError(err,line,col){var ex=new Error(err);ex.line=line;ex.column=col;throw ex}function assign(node){var key=node.key;var value=node.value;var line=node.line;var column=node.column;var fullPath;if(currentPath){fullPath=currentPath+"."+key;}else {fullPath=key;}if(typeof context[key]!=="undefined"){genError("Cannot redefine existing key '"+fullPath+"'.",line,column);}context[key]=reduceValueNode(value);if(!pathAssigned(fullPath)){assignedPaths.push(fullPath);valueAssignments.push(fullPath);}}function pathAssigned(path){return assignedPaths.indexOf(path)!==-1}function reduceValueNode(node){if(node.type==="Array"){return reduceArrayWithTypeChecking(node.value)}else if(node.type==="InlineTable"){return reduceInlineTableNode(node.value)}else {return node.value}}function reduceInlineTableNode(values){var obj=Object.create(null);for(var i=0;i<values.length;i++){var val=values[i];if(val.value.type==="InlineTable"){obj[val.key]=reduceInlineTableNode(val.value.value);}else if(val.type==="InlineTableValue"){obj[val.key]=reduceValueNode(val.value);}}return obj}function setPath(node){var path=node.value;var quotedPath=path.map(quoteDottedString).join(".");var line=node.line;var column=node.column;if(pathAssigned(quotedPath)){genError("Cannot redefine existing key '"+path+"'.",line,column);}assignedPaths.push(quotedPath);context=deepRef(data,path,Object.create(null),line,column);currentPath=path;}function addTableArray(node){var path=node.value;var quotedPath=path.map(quoteDottedString).join(".");var line=node.line;var column=node.column;if(!pathAssigned(quotedPath)){assignedPaths.push(quotedPath);}assignedPaths=assignedPaths.filter(function(p){return p.indexOf(quotedPath)!==0});assignedPaths.push(quotedPath);context=deepRef(data,path,[],line,column);currentPath=quotedPath;if(context instanceof Array){var newObj=Object.create(null);context.push(newObj);context=newObj;}else {genError("Cannot redefine existing key '"+path+"'.",line,column);}}function deepRef(start,keys,value,line,column){var traversed=[];var traversedPath="";keys.join(".");var ctx=start;for(var i=0;i<keys.length;i++){var key=keys[i];traversed.push(key);traversedPath=traversed.join(".");if(typeof ctx[key]==="undefined"){if(i===keys.length-1){ctx[key]=value;}else {ctx[key]=Object.create(null);}}else if(i!==keys.length-1&&valueAssignments.indexOf(traversedPath)>-1){genError("Cannot redefine existing key '"+traversedPath+"'.",line,column);}ctx=ctx[key];if(ctx instanceof Array&&ctx.length&&i<keys.length-1){ctx=ctx[ctx.length-1];}}return ctx}function reduceArrayWithTypeChecking(array){var firstType=null;for(var i=0;i<array.length;i++){var node=array[i];if(firstType===null){firstType=node.type;}else {if(node.type!==firstType){genError("Cannot add value of type "+node.type+" to array of type "+firstType+".",node.line,node.column);}}}return array.map(reduceValueNode)}function quoteDottedString(str){if(str.indexOf(".")>-1){return "\""+str+"\""}else {return str}}}var compiler$1={compile:compile$4};

var parser=parser$1;var compiler=compiler$1;var toml={parse:function(input){var nodes=parser.parse(input.toString());return compiler.compile(nodes)}};

class CinnamonModule{constructor(framework){_defineProperty(this,"framework",void 0);this.framework=framework;}}

let Config$1;let Logger$1;function initializeCoreModules(modules){Config$1=modules.Config;Logger$1=modules.Logger;}

var data;(function(data){data.NESTED_OBJECT_DELIMITER=".";function arrayEquals(a,b){if(!Array.isArray(a)||!Array.isArray(b))return false;if(a.length!==b.length)return false;let aValuesInB=[...a];b.forEach(element=>{if(aValuesInB.includes(element))aValuesInB.splice(aValuesInB.indexOf(element),1);});return aValuesInB.length===0}data.arrayEquals=arrayEquals;function resolveObjectDeep(key,obj){const keyParts=key.split(data.NESTED_OBJECT_DELIMITER);const isFinalKey=keyParts.length<=1;const imperativeKey=keyParts.shift();if(!Object.keys(obj).includes(imperativeKey))return undefined;if(isFinalKey)return obj[imperativeKey];else return resolveObjectDeep(keyParts.join(data.NESTED_OBJECT_DELIMITER),obj[imperativeKey])}data.resolveObjectDeep=resolveObjectDeep;function setObjectDeep(key,value,obj,options,_entireKey){if(!options)options={createChildrenIfNeeded:true};const keyParts=key.split(data.NESTED_OBJECT_DELIMITER);const isFinalKey=keyParts.length<=1;const imperativeKey=keyParts.shift();if(!Object.keys(obj).includes(imperativeKey)){if(!options.createChildrenIfNeeded){throw new Error(`Failed to locate key: ${_entireKey}.`)}else obj[imperativeKey]={};}if(isFinalKey){obj[imperativeKey]=value;return}else setObjectDeep(keyParts.join(data.NESTED_OBJECT_DELIMITER),value,obj[imperativeKey],options,_entireKey);}data.setObjectDeep=setObjectDeep;})(data||(data={}));

var fs$4;(function(fs){async function fileExists(filePath){try{const stats=await promisify$4(_fs.stat)(filePath);return stats.isFile()}catch(ex){return false}}fs.fileExists=fileExists;async function directoryExists(directoryPath){try{const stats=await promisify$4(_fs.stat)(directoryPath);return stats.isDirectory()}catch(ex){return false}}fs.directoryExists=directoryExists;function toAbsolutePath(childPath){return require$$0$3.join(process.cwd(),childPath)}fs.toAbsolutePath=toAbsolutePath;async function listRecursively(directoryPath){let discoveredFiles=[];for(const filePath of await promisify$4(_fs.readdir)(directoryPath)){const absoluteFilePath=require$$0$3.join(directoryPath,filePath);if((await promisify$4(_fs.stat)(absoluteFilePath)).isDirectory())discoveredFiles.push(...(await listRecursively(absoluteFilePath)));else discoveredFiles.push(absoluteFilePath);}return discoveredFiles}fs.listRecursively=listRecursively;async function getLastModification(path){return (await promisify$4(_fs.stat)(path)).mtime}fs.getLastModification=getLastModification;})(fs$4||(fs$4={}));

var cinnamonInternals;(function(cinnamonInternals){cinnamonInternals.data=data;cinnamonInternals.fs=fs$4;})(cinnamonInternals||(cinnamonInternals={}));var cinnamonInternals$1 = cinnamonInternals;

class ValidationResult{constructor(options){_defineProperty(this,"success",void 0);_defineProperty(this,"message",void 0);this.success=options.success;this.message=options.message;}static success(){return new ValidationResult({success:true})}static fail(message){return new ValidationResult({success:false,message})}}

class Validator{constructor(schema){_defineProperty(this,"schema",void 0);_defineProperty(this,"isSingleFieldSchema",void 0);this.schema=schema;this.isSingleFieldSchema=!this._isValidationSchemaObject(this.schema);}validate(value){if(this.isSingleFieldSchema){return this.validateSchemaAgainstField(this.schema,value,undefined,"$root",undefined)}return this.validateSchemaAgainstObject(this.schema,value,value,"$root",undefined)}validateSchemaAgainstObject(object,value,_entireObject,_fieldName,_parentName){for(let key of Object.keys(object)){if(this._isValidationSchemaObject(object[key])){const childSchemaValidation=this.validateSchemaAgainstObject(object[key],value[key],_entireObject,key,`${_parentName!==undefined?_parentName+".":""}${_fieldName}`);if(!childSchemaValidation.success)return childSchemaValidation}else {const childFieldValidation=this.validateSchemaAgainstField(object[key],value[key],_entireObject,key,`${_parentName!==undefined?_parentName+".":""}${_fieldName}`);if(!childFieldValidation.success)return childFieldValidation}}return ValidationResult.success()}validateSchemaAgainstField(field,value,_entireObject,fieldName,parentName){var _field$fieldName;fieldName=(_field$fieldName=field.fieldName)!==null&&_field$fieldName!==void 0?_field$fieldName:fieldName;if(field.type==="OneOf"){for(const possibleSchema of field.possibleSchemas){const childFieldValidation=this.validateSchemaAgainstField(possibleSchema,value,_entireObject);if(!childFieldValidation.success)return childFieldValidation}return ValidationResult.success()}if(field.required!==undefined&&field.required!==null&&field.required!==false){if(field.required===true&&(value===undefined||value===null))return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be set and not null."});else if(field.required==="explicit"&&value===undefined)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be set."})}else if(field.required===false||field.required===undefined){if(value===undefined||value==null)return ValidationResult.success()}else {throw new Error("You may only set a field's required property to true, false or 'explicit'.")}if(field.equals&&field.arrayEquals){throw new Error("You may not specify equals AND arrayEquals; they are mutually exclusive.")}if(field.equals!==undefined&&field.equals!==null){if(Array.isArray(field.equals)&&!Array.isArray(value)){if(!field.equals.some(entry=>value===entry))return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field was not set to a valid value. Possible values are: "+JSON.stringify(field.equals)})}else {if(value!==field.equals)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be equal to: "+field.equals})}}if(field.arrayEquals!==undefined&&field.arrayEquals!==null){if(field.arrayEquals.every(entry=>Array.isArray(entry))){if(!field.arrayEquals.some(entry=>cinnamonInternals$1.data.arrayEquals(entry,value)))return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field was not set to a valid value. Possible values are: "+JSON.stringify(field.arrayEquals)})}else {if(!cinnamonInternals$1.data.arrayEquals(field.arrayEquals,value))return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be equal to: "+field.arrayEquals})}}if(field.matches!==undefined&&field.matches!==null){if(field.matches instanceof RegExp){if(!field.matches.test(value))return this._fail({field,fieldName,parentName})}else {if(field.matches["$any"]&&field.matches["$all"])throw new Error("You may not have $any and $all specified on a field's 'matches' property; they are mutually exclusive.");let comparisionFunc;let aggregateOp;if(field.matches.$any){aggregateOp="$any";comparisionFunc="some";}if(field.matches.$all){aggregateOp="$all";comparisionFunc="every";}if(comparisionFunc&&aggregateOp){if(!field.matches[aggregateOp][comparisionFunc](expression=>expression.test(value)))return this._fail({field,fieldName,parentName})}else throw new Error("Invalid matches property. Must be a regular expression (regex), or an aggregate expression with $any or $all operator.")}}if(field.$eq!==undefined){if(_entireObject){var _entireObject$field$$;if(cinnamonInternals$1.data.resolveObjectDeep(field.$eq,_entireObject)!==value)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be equal to the "+this._toHumanReadableFieldName((_entireObject$field$$=_entireObject[field.$eq].fieldName)!==null&&_entireObject$field$$!==void 0?_entireObject$field$$:field.$eq)+" field."})}else throw new Error("The $eq operator may not be used on a field outside of an object context.")}let attrs={};switch(field.type){case"any":return ValidationResult.success();case"string":attrs.minLength=field.minLength;attrs.maxLength=field.maxLength;this._evaluateAttributeValues(attrs,_entireObject);if(attrs.minLength!==undefined&&value.length<attrs.minLength||attrs.maxLength!==undefined&&value.length>attrs.maxLength)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be at least "+attrs.minLength+` character${attrs.minLength!==1?"":"s"}`+" and at most "+attrs.maxLength+` character${attrs.maxLength!==1?"":"s"}`+"."});return ValidationResult.success();case"boolean":if(value!==false&&value!==true)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} must be either true or false."});return ValidationResult.success();case"number":if(isNaN(value))return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} must be a number."});attrs.min=field.min;attrs.max=field.max;this._evaluateAttributeValues(attrs,_entireObject);if(attrs.min!==undefined&&value<attrs.min||attrs.max!==undefined&&value>attrs.max)return this._fail({field,fieldName,parentName,defaultMessage:"The ${fieldName} field must be at least "+attrs.min+" and at most "+attrs.max+" in value."});return ValidationResult.success();default:throw new Error(`Invalid or unimplemented validation type '${field.type}' encountered!`);}}_evaluateAttributeValues(attrs,entireObjectToValidate){for(const key of Object.values(attrs)){const entry=attrs[key];if(typeof entry==="object"&&(typeof entry["$eq"]==="string"||typeof entry["$eval"]==="function")){if(typeof entry["$eq"]==="string"&&typeof entry["$eval"]==="function")throw new Error("You cannot set both $eq and $eval attribute operators. They are mutually exclusive.");if(typeof entry["$eval"]==="function"){attrs[key]=entry["$eval"](entireObjectToValidate);}else if(typeof entry["$eq"]==="string"){attrs[key]=cinnamonInternals$1.data.resolveObjectDeep(entry["$eq"],entireObjectToValidate);}}}}_fail(options){return ValidationResult.fail(this._badFieldMessage(options))}_badFieldMessage(options){var _ref,_options$field$invali;const message=(_ref=(_options$field$invali=options.field.invalidMessage)!==null&&_options$field$invali!==void 0?_options$field$invali:options.defaultMessage)!==null&&_ref!==void 0?_ref:"The ${fieldName} field was invalid.";return message.replace(/\$\{fieldName\}/g,this._toHumanReadableFieldName(`${options.parentName}.${options.fieldName}`))}_toHumanReadableFieldName(fieldName){return fieldName.replace(/^\$root\./,"").replace("."," > ").replace("_"," ").replace("-","").replace(/(?<!^)[A-Z]/g,char=>" "+char.toLowerCase())}_isValidationSchemaObject(value){if(typeof value!=="object")return false;for(let entry of Object.values(value)){if(!entry["type"]||typeof entry["type"]!=="string")return false}return true}}

function createValidator(schema){return new Validator(schema)}

class Config extends CinnamonModule{get hasAppConfig(){return this.appConfig!==null&&this.appConfig!==undefined}constructor(framework,appConfig,appConfigSchema){super(framework);_defineProperty(this,"appConfig",void 0);_defineProperty(this,"didFailValidation",void 0);if(appConfigSchema&&!createValidator(appConfigSchema).validate(appConfig)){this.didFailValidation=true;this.appConfig=null;}else {this.didFailValidation=false;this.appConfig=appConfig;}}get(key){if(!this.appConfig)throw new Error("There is no app configuration loaded.\n"+"You can initialize a runtime app configuration by calling set to add a key to a new, empty, configuration.\n"+"Alternatively, ensure that no validation errors occurred whilst loading the configuration *and* that you have a loadable app configuration in your cinnamon.toml.");const result=cinnamonInternals$1.data.resolveObjectDeep(key,this.appConfig);if(result===undefined)throw new Error("No object located at the specified key.");return result}set(key,value){const jsonValue=JSON.stringify(value);if(JSON.parse(jsonValue)!==value){throw new Error("This type of value cannot be stored.")}if(!this.appConfig)this.appConfig={};cinnamonInternals$1.data.setObjectDeep(key,value,this.appConfig);}}

var ansiStyles$1 = {exports: {}};

var colorName={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};

const cssKeywords=colorName;const reverseKeywords={};for(const key of Object.keys(cssKeywords)){reverseKeywords[cssKeywords[key]]=key;}const convert$3={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$3;for(const model of Object.keys(convert$3)){if(!("channels"in convert$3[model])){throw new Error("missing channels property: "+model)}if(!("labels"in convert$3[model])){throw new Error("missing channel labels property: "+model)}if(convert$3[model].labels.length!==convert$3[model].channels){throw new Error("channel and label counts mismatch: "+model)}const{channels,labels}=convert$3[model];delete convert$3[model].channels;delete convert$3[model].labels;Object.defineProperty(convert$3[model],"channels",{value:channels});Object.defineProperty(convert$3[model],"labels",{value:labels});}convert$3.rgb.hsl=function(rgb){const r=rgb[0]/255;const g=rgb[1]/255;const b=rgb[2]/255;const min=Math.min(r,g,b);const max=Math.max(r,g,b);const delta=max-min;let h;let s;if(max===min){h=0;}else if(r===max){h=(g-b)/delta;}else if(g===max){h=2+(b-r)/delta;}else if(b===max){h=4+(r-g)/delta;}h=Math.min(h*60,360);if(h<0){h+=360;}const l=(min+max)/2;if(max===min){s=0;}else if(l<=0.5){s=delta/(max+min);}else {s=delta/(2-max-min);}return [h,s*100,l*100]};convert$3.rgb.hsv=function(rgb){let rdif;let gdif;let bdif;let h;let s;const r=rgb[0]/255;const g=rgb[1]/255;const b=rgb[2]/255;const v=Math.max(r,g,b);const diff=v-Math.min(r,g,b);const diffc=function(c){return (v-c)/6/diff+1/2};if(diff===0){h=0;s=0;}else {s=diff/v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif;}else if(g===v){h=1/3+rdif-bdif;}else if(b===v){h=2/3+gdif-rdif;}if(h<0){h+=1;}else if(h>1){h-=1;}}return [h*360,s*100,v*100]};convert$3.rgb.hwb=function(rgb){const r=rgb[0];const g=rgb[1];let b=rgb[2];const h=convert$3.rgb.hsl(rgb)[0];const w=1/255*Math.min(r,Math.min(g,b));b=1-1/255*Math.max(r,Math.max(g,b));return [h,w*100,b*100]};convert$3.rgb.cmyk=function(rgb){const r=rgb[0]/255;const g=rgb[1]/255;const b=rgb[2]/255;const k=Math.min(1-r,1-g,1-b);const c=(1-r-k)/(1-k)||0;const m=(1-g-k)/(1-k)||0;const y=(1-b-k)/(1-k)||0;return [c*100,m*100,y*100,k*100]};function comparativeDistance(x,y){return (x[0]-y[0])**2+(x[1]-y[1])**2+(x[2]-y[2])**2}convert$3.rgb.keyword=function(rgb){const reversed=reverseKeywords[rgb];if(reversed){return reversed}let currentClosestDistance=Infinity;let currentClosestKeyword;for(const keyword of Object.keys(cssKeywords)){const value=cssKeywords[keyword];const distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword;}}return currentClosestKeyword};convert$3.keyword.rgb=function(keyword){return cssKeywords[keyword]};convert$3.rgb.xyz=function(rgb){let r=rgb[0]/255;let g=rgb[1]/255;let b=rgb[2]/255;r=r>0.04045?((r+0.055)/1.055)**2.4:r/12.92;g=g>0.04045?((g+0.055)/1.055)**2.4:g/12.92;b=b>0.04045?((b+0.055)/1.055)**2.4:b/12.92;const x=r*0.4124+g*0.3576+b*0.1805;const y=r*0.2126+g*0.7152+b*0.0722;const z=r*0.0193+g*0.1192+b*0.9505;return [x*100,y*100,z*100]};convert$3.rgb.lab=function(rgb){const xyz=convert$3.rgb.xyz(rgb);let x=xyz[0];let y=xyz[1];let z=xyz[2];x/=95.047;y/=100;z/=108.883;x=x>0.008856?x**(1/3):7.787*x+16/116;y=y>0.008856?y**(1/3):7.787*y+16/116;z=z>0.008856?z**(1/3):7.787*z+16/116;const l=116*y-16;const a=500*(x-y);const b=200*(y-z);return [l,a,b]};convert$3.hsl.rgb=function(hsl){const h=hsl[0]/360;const s=hsl[1]/100;const l=hsl[2]/100;let t2;let t3;let val;if(s===0){val=l*255;return [val,val,val]}if(l<0.5){t2=l*(1+s);}else {t2=l+s-l*s;}const t1=2*l-t2;const rgb=[0,0,0];for(let i=0;i<3;i++){t3=h+1/3*-(i-1);if(t3<0){t3++;}if(t3>1){t3--;}if(6*t3<1){val=t1+(t2-t1)*6*t3;}else if(2*t3<1){val=t2;}else if(3*t3<2){val=t1+(t2-t1)*(2/3-t3)*6;}else {val=t1;}rgb[i]=val*255;}return rgb};convert$3.hsl.hsv=function(hsl){const h=hsl[0];let s=hsl[1]/100;let l=hsl[2]/100;let smin=s;const lmin=Math.max(l,0.01);l*=2;s*=l<=1?l:2-l;smin*=lmin<=1?lmin:2-lmin;const v=(l+s)/2;const sv=l===0?2*smin/(lmin+smin):2*s/(l+s);return [h,sv*100,v*100]};convert$3.hsv.rgb=function(hsv){const h=hsv[0]/60;const s=hsv[1]/100;let v=hsv[2]/100;const hi=Math.floor(h)%6;const f=h-Math.floor(h);const p=255*v*(1-s);const q=255*v*(1-s*f);const t=255*v*(1-s*(1-f));v*=255;switch(hi){case 0:return [v,t,p];case 1:return [q,v,p];case 2:return [p,v,t];case 3:return [p,q,v];case 4:return [t,p,v];case 5:return [v,p,q];}};convert$3.hsv.hsl=function(hsv){const h=hsv[0];const s=hsv[1]/100;const v=hsv[2]/100;const vmin=Math.max(v,0.01);let sl;let l;l=(2-s)*v;const lmin=(2-s)*vmin;sl=s*vmin;sl/=lmin<=1?lmin:2-lmin;sl=sl||0;l/=2;return [h,sl*100,l*100]};convert$3.hwb.rgb=function(hwb){const h=hwb[0]/360;let wh=hwb[1]/100;let bl=hwb[2]/100;const ratio=wh+bl;let f;if(ratio>1){wh/=ratio;bl/=ratio;}const i=Math.floor(6*h);const v=1-bl;f=6*h-i;if((i&1)!==0){f=1-f;}const n=wh+f*(v-wh);let r;let g;let b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break;}return [r*255,g*255,b*255]};convert$3.cmyk.rgb=function(cmyk){const c=cmyk[0]/100;const m=cmyk[1]/100;const y=cmyk[2]/100;const k=cmyk[3]/100;const r=1-Math.min(1,c*(1-k)+k);const g=1-Math.min(1,m*(1-k)+k);const b=1-Math.min(1,y*(1-k)+k);return [r*255,g*255,b*255]};convert$3.xyz.rgb=function(xyz){const x=xyz[0]/100;const y=xyz[1]/100;const z=xyz[2]/100;let r;let g;let b;r=x*3.2406+y*-1.5372+z*-0.4986;g=x*-0.9689+y*1.8758+z*0.0415;b=x*0.0557+y*-0.204+z*1.057;r=r>0.0031308?1.055*r**(1/2.4)-0.055:r*12.92;g=g>0.0031308?1.055*g**(1/2.4)-0.055:g*12.92;b=b>0.0031308?1.055*b**(1/2.4)-0.055:b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return [r*255,g*255,b*255]};convert$3.xyz.lab=function(xyz){let x=xyz[0];let y=xyz[1];let z=xyz[2];x/=95.047;y/=100;z/=108.883;x=x>0.008856?x**(1/3):7.787*x+16/116;y=y>0.008856?y**(1/3):7.787*y+16/116;z=z>0.008856?z**(1/3):7.787*z+16/116;const l=116*y-16;const a=500*(x-y);const b=200*(y-z);return [l,a,b]};convert$3.lab.xyz=function(lab){const l=lab[0];const a=lab[1];const b=lab[2];let x;let y;let z;y=(l+16)/116;x=a/500+y;z=y-b/200;const y2=y**3;const x2=x**3;const z2=z**3;y=y2>0.008856?y2:(y-16/116)/7.787;x=x2>0.008856?x2:(x-16/116)/7.787;z=z2>0.008856?z2:(z-16/116)/7.787;x*=95.047;y*=100;z*=108.883;return [x,y,z]};convert$3.lab.lch=function(lab){const l=lab[0];const a=lab[1];const b=lab[2];let h;const hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360;}const c=Math.sqrt(a*a+b*b);return [l,c,h]};convert$3.lch.lab=function(lch){const l=lch[0];const c=lch[1];const h=lch[2];const hr=h/360*2*Math.PI;const a=c*Math.cos(hr);const b=c*Math.sin(hr);return [l,a,b]};convert$3.rgb.ansi16=function(args,saturation=null){const[r,g,b]=args;let value=saturation===null?convert$3.rgb.hsv(args)[2]:saturation;value=Math.round(value/50);if(value===0){return 30}let ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));if(value===2){ansi+=60;}return ansi};convert$3.hsv.ansi16=function(args){return convert$3.rgb.ansi16(convert$3.hsv.rgb(args),args[2])};convert$3.rgb.ansi256=function(args){const r=args[0];const g=args[1];const b=args[2];if(r===g&&g===b){if(r<8){return 16}if(r>248){return 231}return Math.round((r-8)/247*24)+232}const ansi=16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5);return ansi};convert$3.ansi16.rgb=function(args){let color=args%10;if(color===0||color===7){if(args>50){color+=3.5;}color=color/10.5*255;return [color,color,color]}const mult=(~~(args>50)+1)*0.5;const r=(color&1)*mult*255;const g=(color>>1&1)*mult*255;const b=(color>>2&1)*mult*255;return [r,g,b]};convert$3.ansi256.rgb=function(args){if(args>=232){const c=(args-232)*10+8;return [c,c,c]}args-=16;let rem;const r=Math.floor(args/36)/5*255;const g=Math.floor((rem=args%36)/6)/5*255;const b=rem%6/5*255;return [r,g,b]};convert$3.rgb.hex=function(args){const integer=((Math.round(args[0])&255)<<16)+((Math.round(args[1])&255)<<8)+(Math.round(args[2])&255);const string=integer.toString(16).toUpperCase();return "000000".substring(string.length)+string};convert$3.hex.rgb=function(args){const match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return [0,0,0]}let colorString=match[0];if(match[0].length===3){colorString=colorString.split("").map(char=>{return char+char}).join("");}const integer=parseInt(colorString,16);const r=integer>>16&255;const g=integer>>8&255;const b=integer&255;return [r,g,b]};convert$3.rgb.hcg=function(rgb){const r=rgb[0]/255;const g=rgb[1]/255;const b=rgb[2]/255;const max=Math.max(Math.max(r,g),b);const min=Math.min(Math.min(r,g),b);const chroma=max-min;let grayscale;let hue;if(chroma<1){grayscale=min/(1-chroma);}else {grayscale=0;}if(chroma<=0){hue=0;}else if(max===r){hue=(g-b)/chroma%6;}else if(max===g){hue=2+(b-r)/chroma;}else {hue=4+(r-g)/chroma;}hue/=6;hue%=1;return [hue*360,chroma*100,grayscale*100]};convert$3.hsl.hcg=function(hsl){const s=hsl[1]/100;const l=hsl[2]/100;const c=l<0.5?2*s*l:2*s*(1-l);let f=0;if(c<1){f=(l-0.5*c)/(1-c);}return [hsl[0],c*100,f*100]};convert$3.hsv.hcg=function(hsv){const s=hsv[1]/100;const v=hsv[2]/100;const c=s*v;let f=0;if(c<1){f=(v-c)/(1-c);}return [hsv[0],c*100,f*100]};convert$3.hcg.rgb=function(hcg){const h=hcg[0]/360;const c=hcg[1]/100;const g=hcg[2]/100;if(c===0){return [g*255,g*255,g*255]}const pure=[0,0,0];const hi=h%1*6;const v=hi%1;const w=1-v;let mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w;}mg=(1-c)*g;return [(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255]};convert$3.hcg.hsv=function(hcg){const c=hcg[1]/100;const g=hcg[2]/100;const v=c+g*(1-c);let f=0;if(v>0){f=c/v;}return [hcg[0],f*100,v*100]};convert$3.hcg.hsl=function(hcg){const c=hcg[1]/100;const g=hcg[2]/100;const l=g*(1-c)+0.5*c;let s=0;if(l>0&&l<0.5){s=c/(2*l);}else if(l>=0.5&&l<1){s=c/(2*(1-l));}return [hcg[0],s*100,l*100]};convert$3.hcg.hwb=function(hcg){const c=hcg[1]/100;const g=hcg[2]/100;const v=c+g*(1-c);return [hcg[0],(v-c)*100,(1-v)*100]};convert$3.hwb.hcg=function(hwb){const w=hwb[1]/100;const b=hwb[2]/100;const v=1-b;const c=v-w;let g=0;if(c<1){g=(v-c)/(1-c);}return [hwb[0],c*100,g*100]};convert$3.apple.rgb=function(apple){return [apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]};convert$3.rgb.apple=function(rgb){return [rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]};convert$3.gray.rgb=function(args){return [args[0]/100*255,args[0]/100*255,args[0]/100*255]};convert$3.gray.hsl=function(args){return [0,0,args[0]]};convert$3.gray.hsv=convert$3.gray.hsl;convert$3.gray.hwb=function(gray){return [0,100,gray[0]]};convert$3.gray.cmyk=function(gray){return [0,0,0,gray[0]]};convert$3.gray.lab=function(gray){return [gray[0],0,0]};convert$3.gray.hex=function(gray){const val=Math.round(gray[0]/100*255)&255;const integer=(val<<16)+(val<<8)+val;const string=integer.toString(16).toUpperCase();return "000000".substring(string.length)+string};convert$3.rgb.gray=function(rgb){const val=(rgb[0]+rgb[1]+rgb[2])/3;return [val/255*100]};

const conversions$1=conversions$2;function buildGraph(){const graph={};const models=Object.keys(conversions$1);for(let len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null};}return graph}function deriveBFS(fromModel){const graph=buildGraph();const queue=[fromModel];graph[fromModel].distance=0;while(queue.length){const current=queue.pop();const adjacents=Object.keys(conversions$1[current]);for(let len=adjacents.length,i=0;i<len;i++){const adjacent=adjacents[i];const node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent);}}}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){const path=[graph[toModel].parent,toModel];let fn=conversions$1[graph[toModel].parent][toModel];let cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions$1[graph[cur].parent][cur],fn);cur=graph[cur].parent;}fn.conversion=path;return fn}var route$1=function(fromModel){const graph=deriveBFS(fromModel);const conversion={};const models=Object.keys(graph);for(let len=models.length,i=0;i<len;i++){const toModel=models[i];const node=graph[toModel];if(node.parent===null){continue}conversion[toModel]=wrapConversion(toModel,graph);}return conversion};

const conversions=conversions$2;const route=route$1;const convert$2={};const models=Object.keys(conversions);function wrapRaw(fn){const wrappedFn=function(...args){const arg0=args[0];if(arg0===undefined||arg0===null){return arg0}if(arg0.length>1){args=arg0;}return fn(args)};if("conversion"in fn){wrappedFn.conversion=fn.conversion;}return wrappedFn}function wrapRounded(fn){const wrappedFn=function(...args){const arg0=args[0];if(arg0===undefined||arg0===null){return arg0}if(arg0.length>1){args=arg0;}const result=fn(args);if(typeof result==="object"){for(let len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i]);}}return result};if("conversion"in fn){wrappedFn.conversion=fn.conversion;}return wrappedFn}models.forEach(fromModel=>{convert$2[fromModel]={};Object.defineProperty(convert$2[fromModel],"channels",{value:conversions[fromModel].channels});Object.defineProperty(convert$2[fromModel],"labels",{value:conversions[fromModel].labels});const routes=route(fromModel);const routeModels=Object.keys(routes);routeModels.forEach(toModel=>{const fn=routes[toModel];convert$2[fromModel][toModel]=wrapRounded(fn);convert$2[fromModel][toModel].raw=wrapRaw(fn);});});var colorConvert=convert$2;

(function(module){const wrapAnsi16=(fn,offset)=>(...args)=>{const code=fn(...args);return `\u001B[${code+offset}m`};const wrapAnsi256=(fn,offset)=>(...args)=>{const code=fn(...args);return `\u001B[${38+offset};5;${code}m`};const wrapAnsi16m=(fn,offset)=>(...args)=>{const rgb=fn(...args);return `\u001B[${38+offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`};const ansi2ansi=n=>n;const rgb2rgb=(r,g,b)=>[r,g,b];const setLazyProperty=(object,property,get)=>{Object.defineProperty(object,property,{get:()=>{const value=get();Object.defineProperty(object,property,{value,enumerable:true,configurable:true});return value},enumerable:true,configurable:true});};let colorConvert$1;const makeDynamicStyles=(wrap,targetSpace,identity,isBackground)=>{if(colorConvert$1===undefined){colorConvert$1=colorConvert;}const offset=isBackground?10:0;const styles={};for(const[sourceSpace,suite]of Object.entries(colorConvert$1)){const name=sourceSpace==="ansi16"?"ansi":sourceSpace;if(sourceSpace===targetSpace){styles[name]=wrap(identity,offset);}else if(typeof suite==="object"){styles[name]=wrap(suite[targetSpace],offset);}}return styles};function assembleStyles(){const codes=new Map;const styles={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};styles.color.gray=styles.color.blackBright;styles.bgColor.bgGray=styles.bgColor.bgBlackBright;styles.color.grey=styles.color.blackBright;styles.bgColor.bgGrey=styles.bgColor.bgBlackBright;for(const[groupName,group]of Object.entries(styles)){for(const[styleName,style]of Object.entries(group)){styles[styleName]={open:`\u001B[${style[0]}m`,close:`\u001B[${style[1]}m`};group[styleName]=styles[styleName];codes.set(style[0],style[1]);}Object.defineProperty(styles,groupName,{value:group,enumerable:false});}Object.defineProperty(styles,"codes",{value:codes,enumerable:false});styles.color.close="\x1B[39m";styles.bgColor.close="\x1B[49m";setLazyProperty(styles.color,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,false));setLazyProperty(styles.color,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,false));setLazyProperty(styles.color,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,false));setLazyProperty(styles.bgColor,"ansi",()=>makeDynamicStyles(wrapAnsi16,"ansi16",ansi2ansi,true));setLazyProperty(styles.bgColor,"ansi256",()=>makeDynamicStyles(wrapAnsi256,"ansi256",ansi2ansi,true));setLazyProperty(styles.bgColor,"ansi16m",()=>makeDynamicStyles(wrapAnsi16m,"rgb",rgb2rgb,true));return styles}Object.defineProperty(module,"exports",{enumerable:true,get:assembleStyles});})(ansiStyles$1);

var hasFlag$1=(flag,argv=process.argv)=>{const prefix=flag.startsWith("-")?"":flag.length===1?"-":"--";const position=argv.indexOf(prefix+flag);const terminatorPosition=argv.indexOf("--");return position!==-1&&(terminatorPosition===-1||position<terminatorPosition)};

const os=require$$0$5;const tty=require$$0$4;const hasFlag=hasFlag$1;const{env}=process;let forceColor;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")){forceColor=0;}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){forceColor=1;}if("FORCE_COLOR"in env){if(env.FORCE_COLOR==="true"){forceColor=1;}else if(env.FORCE_COLOR==="false"){forceColor=0;}else {forceColor=env.FORCE_COLOR.length===0?1:Math.min(parseInt(env.FORCE_COLOR,10),3);}}function translateLevel(level){if(level===0){return false}return {level,hasBasic:true,has256:level>=2,has16m:level>=3}}function supportsColor(haveStream,streamIsTTY){if(forceColor===0){return 0}if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}if(haveStream&&!streamIsTTY&&forceColor===undefined){return 0}const min=forceColor||0;if(env.TERM==="dumb"){return min}if(process.platform==="win32"){const osRelease=os.release().split(".");if(Number(osRelease[0])>=10&&Number(osRelease[2])>=10586){return Number(osRelease[2])>=14931?3:2}return 1}if("CI"in env){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(sign=>sign in env)||env.CI_NAME==="codeship"){return 1}return min}if("TEAMCITY_VERSION"in env){return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0}if(env.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2;}}if(/-256(color)?$/i.test(env.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)){return 1}if("COLORTERM"in env){return 1}return min}function getSupportLevel(stream){const level=supportsColor(stream,stream&&stream.isTTY);return translateLevel(level)}var supportsColor_1={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,tty.isatty(1))),stderr:translateLevel(supportsColor(true,tty.isatty(2)))};

const stringReplaceAll$1=(string,substring,replacer)=>{let index=string.indexOf(substring);if(index===-1){return string}const substringLength=substring.length;let endIndex=0;let returnValue="";do{returnValue+=string.substr(endIndex,index-endIndex)+substring+replacer;endIndex=index+substringLength;index=string.indexOf(substring,endIndex);}while(index!==-1);returnValue+=string.substr(endIndex);return returnValue};const stringEncaseCRLFWithFirstIndex$1=(string,prefix,postfix,index)=>{let endIndex=0;let returnValue="";do{const gotCR=string[index-1]==="\r";returnValue+=string.substr(endIndex,(gotCR?index-1:index)-endIndex)+prefix+(gotCR?"\r\n":"\n")+postfix;endIndex=index+1;index=string.indexOf("\n",endIndex);}while(index!==-1);returnValue+=string.substr(endIndex);return returnValue};var util$3={stringReplaceAll: stringReplaceAll$1,stringEncaseCRLFWithFirstIndex: stringEncaseCRLFWithFirstIndex$1};

const TEMPLATE_REGEX=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi;const STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g;const STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/;const ESCAPE_REGEX=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi;const ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\x0B"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function unescape$1(c){const u=c[0]==="u";const bracket=c[1]==="{";if(u&&!bracket&&c.length===5||c[0]==="x"&&c.length===3){return String.fromCharCode(parseInt(c.slice(1),16))}if(u&&bracket){return String.fromCodePoint(parseInt(c.slice(2,-1),16))}return ESCAPES.get(c)||c}function parseArguments(name,arguments_){const results=[];const chunks=arguments_.trim().split(/\s*,\s*/g);let matches;for(const chunk of chunks){const number=Number(chunk);if(!Number.isNaN(number)){results.push(number);}else if(matches=chunk.match(STRING_REGEX)){results.push(matches[2].replace(ESCAPE_REGEX,(m,escape,character)=>escape?unescape$1(escape):character));}else {throw new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`)}}return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;const results=[];let matches;while((matches=STYLE_REGEX.exec(style))!==null){const name=matches[1];if(matches[2]){const args=parseArguments(name,matches[2]);results.push([name].concat(args));}else {results.push([name]);}}return results}function buildStyle(chalk,styles){const enabled={};for(const layer of styles){for(const style of layer.styles){enabled[style[0]]=layer.inverse?null:style.slice(1);}}let current=chalk;for(const[styleName,styles]of Object.entries(enabled)){if(!Array.isArray(styles)){continue}if(!(styleName in current)){throw new Error(`Unknown Chalk style: ${styleName}`)}current=styles.length>0?current[styleName](...styles):current[styleName];}return current}var templates=(chalk,temporary)=>{const styles=[];const chunks=[];let chunk=[];temporary.replace(TEMPLATE_REGEX,(m,escapeCharacter,inverse,style,close,character)=>{if(escapeCharacter){chunk.push(unescape$1(escapeCharacter));}else if(style){const string=chunk.join("");chunk=[];chunks.push(styles.length===0?string:buildStyle(chalk,styles)(string));styles.push({inverse,styles:parseStyle(style)});}else if(close){if(styles.length===0){throw new Error("Found extraneous } in Chalk template literal")}chunks.push(buildStyle(chalk,styles)(chunk.join("")));chunk=[];styles.pop();}else {chunk.push(character);}});chunks.push(chunk.join(""));if(styles.length>0){const errMessage=`Chalk template literal is missing ${styles.length} closing bracket${styles.length===1?"":"s"} (\`}\`)`;throw new Error(errMessage)}return chunks.join("")};

const ansiStyles=ansiStyles$1.exports;const{stdout:stdoutColor,stderr:stderrColor}=supportsColor_1;const{stringReplaceAll,stringEncaseCRLFWithFirstIndex}=util$3;const{isArray}=Array;const levelMapping=["ansi","ansi","ansi256","ansi16m"];const styles=Object.create(null);const applyOptions=(object,options={})=>{if(options.level&&!(Number.isInteger(options.level)&&options.level>=0&&options.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const colorLevel=stdoutColor?stdoutColor.level:0;object.level=options.level===undefined?colorLevel:options.level;};class ChalkClass{constructor(options){return chalkFactory(options)}}const chalkFactory=options=>{const chalk={};applyOptions(chalk,options);chalk.template=(...arguments_)=>chalkTag(chalk.template,...arguments_);Object.setPrototypeOf(chalk,Chalk.prototype);Object.setPrototypeOf(chalk.template,chalk);chalk.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")};chalk.template.Instance=ChalkClass;return chalk.template};function Chalk(options){return chalkFactory(options)}for(const[styleName,style]of Object.entries(ansiStyles)){styles[styleName]={get(){const builder=createBuilder(this,createStyler(style.open,style.close,this._styler),this._isEmpty);Object.defineProperty(this,styleName,{value:builder});return builder}};}styles.visible={get(){const builder=createBuilder(this,this._styler,true);Object.defineProperty(this,"visible",{value:builder});return builder}};const usedModels=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const model of usedModels){styles[model]={get(){const{level}=this;return function(...arguments_){const styler=createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_),ansiStyles.color.close,this._styler);return createBuilder(this,styler,this._isEmpty)}}};}for(const model of usedModels){const bgModel="bg"+model[0].toUpperCase()+model.slice(1);styles[bgModel]={get(){const{level}=this;return function(...arguments_){const styler=createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_),ansiStyles.bgColor.close,this._styler);return createBuilder(this,styler,this._isEmpty)}}};}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:true,get(){return this._generator.level},set(level){this._generator.level=level;}}});const createStyler=(open,close,parent)=>{let openAll;let closeAll;if(parent===undefined){openAll=open;closeAll=close;}else {openAll=parent.openAll+open;closeAll=close+parent.closeAll;}return {open,close,openAll,closeAll,parent}};const createBuilder=(self,_styler,_isEmpty)=>{const builder=(...arguments_)=>{if(isArray(arguments_[0])&&isArray(arguments_[0].raw)){return applyStyle(builder,chalkTag(builder,...arguments_))}return applyStyle(builder,arguments_.length===1?""+arguments_[0]:arguments_.join(" "))};Object.setPrototypeOf(builder,proto);builder._generator=self;builder._styler=_styler;builder._isEmpty=_isEmpty;return builder};const applyStyle=(self,string)=>{if(self.level<=0||!string){return self._isEmpty?"":string}let styler=self._styler;if(styler===undefined){return string}const{openAll,closeAll}=styler;if(string.indexOf("\x1B")!==-1){while(styler!==undefined){string=stringReplaceAll(string,styler.close,styler.open);styler=styler.parent;}}const lfIndex=string.indexOf("\n");if(lfIndex!==-1){string=stringEncaseCRLFWithFirstIndex(string,closeAll,openAll,lfIndex);}return openAll+string+closeAll};let template;const chalkTag=(chalk,...strings)=>{const[firstString]=strings;if(!isArray(firstString)||!isArray(firstString.raw)){return strings.join(" ")}const arguments_=strings.slice(1);const parts=[firstString.raw[0]];for(let i=1;i<firstString.length;i++){parts.push(String(arguments_[i-1]).replace(/[{}\\]/g,"\\$&"),String(firstString.raw[i]));}if(template===undefined){template=templates;}return template(chalk,parts.join(""))};Object.defineProperties(Chalk.prototype,styles);const chalk=Chalk();chalk.supportsColor=stdoutColor;chalk.stderr=Chalk({level:stderrColor?stderrColor.level:0});chalk.stderr.supportsColor=stderrColor;var source=chalk;

var index = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
  __proto__: null,
  'default': source
}, [source]));

var LogLevel;(function(LogLevel){LogLevel[LogLevel["FRAMEWORK"]=-1]="FRAMEWORK";LogLevel[LogLevel["DEBUG"]=0]="DEBUG";LogLevel[LogLevel["INFO"]=1]="INFO";LogLevel[LogLevel["WARN"]=2]="WARN";LogLevel[LogLevel["ERROR"]=3]="ERROR";})(LogLevel||(LogLevel={}));class Logger extends CinnamonModule{constructor(framework,showDebugMessages=false,options){var _options$showFramewor;super(framework);_defineProperty(this,"showDebugMessages",void 0);_defineProperty(this,"showFrameworkDebugMessages",void 0);_defineProperty(this,"logDelegate",void 0);this.showDebugMessages=showDebugMessages;this.logDelegate=options===null||options===void 0?void 0:options.logDelegate;this.showFrameworkDebugMessages=(_options$showFramewor=options===null||options===void 0?void 0:options.showFrameworkDebugMessages)!==null&&_options$showFramewor!==void 0?_options$showFramewor:false;}frameworkDebug(message,module){this.log({level:LogLevel.FRAMEWORK,timestamp:new Date,module,message});}debug(message,module){this.log({level:LogLevel.DEBUG,timestamp:new Date,module,message});}info(message,module){this.log({level:LogLevel.INFO,timestamp:new Date,module,message});}warn(message,module){this.log({level:LogLevel.WARN,timestamp:new Date,module,message});}error(message,module){this.log({level:LogLevel.ERROR,timestamp:new Date,module,message});}log(entry){let posixPrintFunction=entry.level!==LogLevel.ERROR?console.error:console.log;let printFunction;switch(entry.level){case LogLevel.FRAMEWORK:if(!this.showFrameworkDebugMessages){printFunction=null;break}printFunction=(...data)=>posixPrintFunction(source.bgGray.whiteBright(...data));break;case LogLevel.DEBUG:if(!this.showDebugMessages){printFunction=null;break}printFunction=(...data)=>posixPrintFunction(source.bgGray.whiteBright(...data));break;case LogLevel.WARN:printFunction=(...data)=>posixPrintFunction(source.bgRed.whiteBright.bold(...data));break;case LogLevel.ERROR:printFunction=(...data)=>posixPrintFunction(source.red(...data));break;default:printFunction=(...data)=>posixPrintFunction(...data);break;}const moduleName=entry.module?` [${entry.module}]`:"";if(printFunction!==null)printFunction(`${LogLevel[entry.level]}\t[${this.framework.appName}]${moduleName} [${Logger.timestampStringFor(entry.timestamp)}] ${entry.message}`);if(this.logDelegate!=null&&(entry.level!=LogLevel.FRAMEWORK||this.showFrameworkDebugMessages))this.logDelegate({...entry,levelString:LogLevel[entry.level],prefix:this.framework.appName,timestampString:Logger.timestampStringFor(entry.timestamp)});}static timestampStringFor(date){let padStart=_=>_.toString().padStart(2,"0");let time=`${padStart(date.getHours())}:${padStart(date.getMinutes())}:${padStart(date.getSeconds())}`;return `${date.getFullYear()}-${padStart(date.getMonth()+1)}-${padStart(date.getDate())} ${time}`}}

var application = {exports: {}};

var shams$1=function hasSymbols(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var obj={};var sym=Symbol("test");var symObj=Object(sym);if(typeof sym==="string"){return false}if(Object.prototype.toString.call(sym)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(symObj)!=="[object Symbol]"){return false}var symVal=42;obj[sym]=symVal;for(sym in obj){return false}if(typeof Object.keys==="function"&&Object.keys(obj).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(obj).length!==0){return false}var syms=Object.getOwnPropertySymbols(obj);if(syms.length!==1||syms[0]!==sym){return false}if(!Object.prototype.propertyIsEnumerable.call(obj,sym)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==true){return false}}return true};

var hasSymbols=shams$1;var shams=function hasToStringTagShams(){return hasSymbols()&&!!Symbol.toStringTag};

var toStr=Object.prototype.toString;var fnToStr=Function.prototype.toString;var isFnRegex=/^\s*(?:function)?\*/;var hasToStringTag=shams();var getProto=Object.getPrototypeOf;var getGeneratorFunc=function(){if(!hasToStringTag){return false}try{return Function("return function*() {}")()}catch(e){}};var GeneratorFunction;var isGeneratorFunction$2=function isGeneratorFunction(fn){if(typeof fn!=="function"){return false}if(isFnRegex.test(fnToStr.call(fn))){return true}if(!hasToStringTag){var str=toStr.call(fn);return str==="[object GeneratorFunction]"}if(!getProto){return false}if(typeof GeneratorFunction==="undefined"){var generatorFunc=getGeneratorFunc();GeneratorFunction=generatorFunc?getProto(generatorFunc):false;}return getProto(fn)===GeneratorFunction};

var src$1 = {exports: {}};

var browser$1 = {exports: {}};

var debug$2 = {exports: {}};

var s$1=1000;var m$1=s$1*60;var h$1=m$1*60;var d$1=h$1*24;var y$1=d$1*365.25;var ms$1=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0){return parse$d(val)}else if(type==="number"&&isNaN(val)===false){return options.long?fmtLong$1(val):fmtShort$1(val)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse$d(str){str=String(str);if(str.length>100){return}var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match){return}var n=parseFloat(match[1]);var type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y$1;case"days":case"day":case"d":return n*d$1;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h$1;case"minutes":case"minute":case"mins":case"min":case"m":return n*m$1;case"seconds":case"second":case"secs":case"sec":case"s":return n*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined;}}function fmtShort$1(ms){if(ms>=d$1){return Math.round(ms/d$1)+"d"}if(ms>=h$1){return Math.round(ms/h$1)+"h"}if(ms>=m$1){return Math.round(ms/m$1)+"m"}if(ms>=s$1){return Math.round(ms/s$1)+"s"}return ms+"ms"}function fmtLong$1(ms){return plural$1(ms,d$1,"day")||plural$1(ms,h$1,"hour")||plural$1(ms,m$1,"minute")||plural$1(ms,s$1,"second")||ms+" ms"}function plural$1(ms,n,name){if(ms<n){return}if(ms<n*1.5){return Math.floor(ms/n)+" "+name}return Math.ceil(ms/n)+" "+name+"s"}

(function(module,exports){exports=module.exports=createDebug.debug=createDebug["default"]=createDebug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=ms$1;exports.instances=[];exports.names=[];exports.skips=[];exports.formatters={};function selectColor(namespace){var hash=0,i;for(i in namespace){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0;}return exports.colors[Math.abs(hash)%exports.colors.length]}function createDebug(namespace){var prevTime;function debug(){if(!debug.enabled)return;var self=debug;var curr=+new Date;var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i];}args[0]=exports.coerce(args[0]);if("string"!==typeof args[0]){args.unshift("%O");}var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if(match==="%%")return match;index++;var formatter=exports.formatters[format];if("function"===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--;}return match});exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args);}debug.namespace=namespace;debug.enabled=exports.enabled(namespace);debug.useColors=exports.useColors();debug.color=selectColor(namespace);debug.destroy=destroy;if("function"===typeof exports.init){exports.init(debug);}exports.instances.push(debug);return debug}function destroy(){var index=exports.instances.indexOf(this);if(index!==-1){exports.instances.splice(index,1);return true}else {return false}}function enable(namespaces){exports.save(namespaces);exports.names=[];exports.skips=[];var i;var split=(typeof namespaces==="string"?namespaces:"").split(/[\s,]+/);var len=split.length;for(i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$"));}else {exports.names.push(new RegExp("^"+namespaces+"$"));}}for(i=0;i<exports.instances.length;i++){var instance=exports.instances[i];instance.enabled=exports.enabled(instance.namespace);}}function disable(){exports.enable("");}function enabled(name){if(name[name.length-1]==="*"){return true}var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false}}for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true}}return false}function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}})(debug$2,debug$2.exports);

(function(module,exports){exports=module.exports=debug$2.exports;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return "[UnexpectedJSONParseError]: "+err.message}};function formatArgs(args){var useColors=this.useColors;args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff);if(!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0;var lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){if("%%"===match)return;index++;if("%c"===match){lastC=index;}});args.splice(lastC,0,c);}function log(){return "object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{if(null==namespaces){exports.storage.removeItem("debug");}else {exports.storage.debug=namespaces;}}catch(e){}}function load(){var r;try{r=exports.storage.debug;}catch(e){}if(!r&&typeof process!=="undefined"&&"env"in process){r=process.env.DEBUG;}return r}exports.enable(load());function localstorage(){try{return window.localStorage}catch(e){}}})(browser$1,browser$1.exports);

var node$1 = {exports: {}};

(function(module,exports){var tty=require$$0$4;var util=require$$9;exports=module.exports=debug$2.exports;exports.init=init;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.colors=[6,2,3,4,5,1];try{var supportsColor=require("supports-color");if(supportsColor&&supportsColor.level>=2){exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221];}}catch(err){}exports.inspectOpts=Object.keys(process.env).filter(function(key){return /^debug_/i.test(key)}).reduce(function(obj,key){var prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,function(_,k){return k.toUpperCase()});var val=process.env[key];if(/^(yes|on|true|enabled)$/i.test(val))val=true;else if(/^(no|off|false|disabled)$/i.test(val))val=false;else if(val==="null")val=null;else val=Number(val);obj[prop]=val;return obj},{});function useColors(){return "colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}exports.formatters.o=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts).split("\n").map(function(str){return str.trim()}).join(" ")};exports.formatters.O=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts)};function formatArgs(args){var name=this.namespace;var useColors=this.useColors;if(useColors){var c=this.color;var colorCode="\x1B[3"+(c<8?c:"8;5;"+c);var prefix="  "+colorCode+";1m"+name+" "+"\x1B[0m";args[0]=prefix+args[0].split("\n").join("\n"+prefix);args.push(colorCode+"m+"+exports.humanize(this.diff)+"\x1B[0m");}else {args[0]=getDate()+name+" "+args[0];}}function getDate(){if(exports.inspectOpts.hideDate){return ""}else {return new Date().toISOString()+" "}}function log(){return process.stderr.write(util.format.apply(util,arguments)+"\n")}function save(namespaces){if(null==namespaces){delete process.env.DEBUG;}else {process.env.DEBUG=namespaces;}}function load(){return process.env.DEBUG}function init(debug){debug.inspectOpts={};var keys=Object.keys(exports.inspectOpts);for(var i=0;i<keys.length;i++){debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]];}}exports.enable(load());})(node$1,node$1.exports);

if(typeof process==="undefined"||process.type==="renderer"){src$1.exports=browser$1.exports;}else {src$1.exports=node$1.exports;}

var onFinished$2 = {exports: {}};

var eeFirst=first$1;function first$1(stuff,done){if(!Array.isArray(stuff))throw new TypeError("arg must be an array of [ee, events...] arrays");var cleanups=[];for(var i=0;i<stuff.length;i++){var arr=stuff[i];if(!Array.isArray(arr)||arr.length<2)throw new TypeError("each array member must be [ee, events...]");var ee=arr[0];for(var j=1;j<arr.length;j++){var event=arr[j];var fn=listener(event,callback);ee.on(event,fn);cleanups.push({ee:ee,event:event,fn:fn});}}function callback(){cleanup();done.apply(null,arguments);}function cleanup(){var x;for(var i=0;i<cleanups.length;i++){x=cleanups[i];x.ee.removeListener(x.event,x.fn);}}function thunk(fn){done=fn;}thunk.cancel=cleanup;return thunk}function listener(event,done){return function onevent(arg1){var args=new Array(arguments.length);var ee=this;var err=event==="error"?arg1:null;for(var i=0;i<args.length;i++){args[i]=arguments[i];}done(err,ee,event,args);}}

onFinished$2.exports=onFinished$1;onFinished$2.exports.isFinished=isFinished;var first=eeFirst;var defer=typeof setImmediate==="function"?setImmediate:function(fn){process.nextTick(fn.bind.apply(fn,arguments));};function onFinished$1(msg,listener){if(isFinished(msg)!==false){defer(listener,null,msg);return msg}attachListener(msg,listener);return msg}function isFinished(msg){var socket=msg.socket;if(typeof msg.finished==="boolean"){return Boolean(msg.finished||socket&&!socket.writable)}if(typeof msg.complete==="boolean"){return Boolean(msg.upgrade||!socket||!socket.readable||msg.complete&&!msg.readable)}return undefined}function attachFinishedListener(msg,callback){var eeMsg;var eeSocket;var finished=false;function onFinish(error){eeMsg.cancel();eeSocket.cancel();finished=true;callback(error);}eeMsg=eeSocket=first([[msg,"end","finish"]],onFinish);function onSocket(socket){msg.removeListener("socket",onSocket);if(finished)return;if(eeMsg!==eeSocket)return;eeSocket=first([[socket,"error","close"]],onFinish);}if(msg.socket){onSocket(msg.socket);return}msg.on("socket",onSocket);if(msg.socket===undefined){patchAssignSocket(msg,onSocket);}}function attachListener(msg,listener){var attached=msg.__onFinished;if(!attached||!attached.queue){attached=msg.__onFinished=createListener(msg);attachFinishedListener(msg,attached);}attached.queue.push(listener);}function createListener(msg){function listener(err){if(msg.__onFinished===listener)msg.__onFinished=null;if(!listener.queue)return;var queue=listener.queue;listener.queue=null;for(var i=0;i<queue.length;i++){queue[i](err,msg);}}listener.queue=[];return listener}function patchAssignSocket(res,callback){var assignSocket=res.assignSocket;if(typeof assignSocket!=="function")return;res.assignSocket=function _assignSocket(socket){assignSocket.call(this,socket);callback(socket);};}

var response$1 = {exports: {}};

var contentDisposition$1 = {exports: {}};

var safeBuffer = {exports: {}};

(function(module,exports){var buffer=require$$0$6;var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key];}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer;}else {copyProps(buffer,exports);exports.Buffer=SafeBuffer;}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding);}else {buf.fill(fill);}}else {buf.fill(0);}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)};})(safeBuffer,safeBuffer.exports);

contentDisposition$1.exports=contentDisposition;contentDisposition$1.exports.parse=parse$c;var basename=require$$0__default.basename;var Buffer$1=safeBuffer.exports.Buffer;var ENCODE_URL_ATTR_CHAR_REGEXP=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g;var HEX_ESCAPE_REGEXP=/%[0-9A-Fa-f]{2}/;var HEX_ESCAPE_REPLACE_REGEXP=/%([0-9A-Fa-f]{2})/g;var NON_LATIN1_REGEXP=/[^\x20-\x7e\xa0-\xff]/g;var QESC_REGEXP$1=/\\([\u0000-\u007f])/g;var QUOTE_REGEXP$1=/([\\"])/g;var PARAM_REGEXP$1=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g;var TEXT_REGEXP$1=/^[\x20-\x7e\x80-\xff]+$/;var TOKEN_REGEXP$1=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/;var EXT_VALUE_REGEXP=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/;var DISPOSITION_TYPE_REGEXP=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function contentDisposition(filename,options){var opts=options||{};var type=opts.type||"attachment";var params=createparams(filename,opts.fallback);return format$2(new ContentDisposition(type,params))}function createparams(filename,fallback){if(filename===undefined){return}var params={};if(typeof filename!=="string"){throw new TypeError("filename must be a string")}if(fallback===undefined){fallback=true;}if(typeof fallback!=="string"&&typeof fallback!=="boolean"){throw new TypeError("fallback must be a string or boolean")}if(typeof fallback==="string"&&NON_LATIN1_REGEXP.test(fallback)){throw new TypeError("fallback must be ISO-8859-1 string")}var name=basename(filename);var isQuotedString=TEXT_REGEXP$1.test(name);var fallbackName=typeof fallback!=="string"?fallback&&getlatin1(name):basename(fallback);var hasFallback=typeof fallbackName==="string"&&fallbackName!==name;if(hasFallback||!isQuotedString||HEX_ESCAPE_REGEXP.test(name)){params["filename*"]=name;}if(isQuotedString||hasFallback){params.filename=hasFallback?fallbackName:name;}return params}function format$2(obj){var parameters=obj.parameters;var type=obj.type;if(!type||typeof type!=="string"||!TOKEN_REGEXP$1.test(type)){throw new TypeError("invalid type")}var string=String(type).toLowerCase();if(parameters&&typeof parameters==="object"){var param;var params=Object.keys(parameters).sort();for(var i=0;i<params.length;i++){param=params[i];var val=param.substr(-1)==="*"?ustring(parameters[param]):qstring$2(parameters[param]);string+="; "+param+"="+val;}}return string}function decodefield(str){var match=EXT_VALUE_REGEXP.exec(str);if(!match){throw new TypeError("invalid extended field value")}var charset=match[1].toLowerCase();var encoded=match[2];var value;var binary=encoded.replace(HEX_ESCAPE_REPLACE_REGEXP,pdecode);switch(charset){case"iso-8859-1":value=getlatin1(binary);break;case"utf-8":value=Buffer$1.from(binary,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field");}return value}function getlatin1(val){return String(val).replace(NON_LATIN1_REGEXP,"?")}function parse$c(string){if(!string||typeof string!=="string"){throw new TypeError("argument string is required")}var match=DISPOSITION_TYPE_REGEXP.exec(string);if(!match){throw new TypeError("invalid type format")}var index=match[0].length;var type=match[1].toLowerCase();var key;var names=[];var params={};var value;index=PARAM_REGEXP$1.lastIndex=match[0].substr(-1)===";"?index-1:index;while(match=PARAM_REGEXP$1.exec(string)){if(match.index!==index){throw new TypeError("invalid parameter format")}index+=match[0].length;key=match[1].toLowerCase();value=match[2];if(names.indexOf(key)!==-1){throw new TypeError("invalid duplicate parameter")}names.push(key);if(key.indexOf("*")+1===key.length){key=key.slice(0,-1);value=decodefield(value);params[key]=value;continue}if(typeof params[key]==="string"){continue}if(value[0]==="\""){value=value.substr(1,value.length-2).replace(QESC_REGEXP$1,"$1");}params[key]=value;}if(index!==-1&&index!==string.length){throw new TypeError("invalid parameter format")}return new ContentDisposition(type,params)}function pdecode(str,hex){return String.fromCharCode(parseInt(hex,16))}function pencode(char){return "%"+String(char).charCodeAt(0).toString(16).toUpperCase()}function qstring$2(val){var str=String(val);return "\""+str.replace(QUOTE_REGEXP$1,"\\$1")+"\""}function ustring(val){var str=String(val);var encoded=encodeURIComponent(str).replace(ENCODE_URL_ATTR_CHAR_REGEXP,pencode);return "UTF-8''"+encoded}function ContentDisposition(type,parameters){this.type=type;this.parameters=parameters;}

var mimeTypes$1 = {};

var require$$0$2 = {"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/3gpp-ims+xml":{source:"iana",compressible:true},"application/3gpphal+json":{source:"iana",compressible:true},"application/3gpphalforms+json":{source:"iana",compressible:true},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:true},"application/alto-costmap+json":{source:"iana",compressible:true},"application/alto-costmapfilter+json":{source:"iana",compressible:true},"application/alto-directory+json":{source:"iana",compressible:true},"application/alto-endpointcost+json":{source:"iana",compressible:true},"application/alto-endpointcostparams+json":{source:"iana",compressible:true},"application/alto-endpointprop+json":{source:"iana",compressible:true},"application/alto-endpointpropparams+json":{source:"iana",compressible:true},"application/alto-error+json":{source:"iana",compressible:true},"application/alto-networkmap+json":{source:"iana",compressible:true},"application/alto-networkmapfilter+json":{source:"iana",compressible:true},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:true},"application/alto-updatestreamparams+json":{source:"iana",compressible:true},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:true,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:true,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:true,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:true,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:true,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:true,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:true},"application/atsc-rsat+xml":{source:"iana",compressible:true,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:true},"application/bacnet-xdd+zip":{source:"iana",compressible:false},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:false,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/calendar+json":{source:"iana",compressible:true},"application/calendar+xml":{source:"iana",compressible:true,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:true},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:true},"application/ccxml+xml":{source:"iana",compressible:true,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:true,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:true},"application/cellml+xml":{source:"iana",compressible:true},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:true},"application/clue_info+xml":{source:"iana",compressible:true},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:true},"application/coap-group+json":{source:"iana",compressible:true},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:true},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:true},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:true},"application/cstadata+xml":{source:"iana",compressible:true},"application/csvm+json":{source:"iana",compressible:true},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:true},"application/dash+xml":{source:"iana",compressible:true,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:true,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:true},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:true},"application/dicom+xml":{source:"iana",compressible:true},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:true},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:true,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:true},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:true,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:true,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:false},"application/edifact":{source:"iana",compressible:false},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:true},"application/elm+xml":{source:"iana",compressible:true},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/emergencycalldata.comment+xml":{source:"iana",compressible:true},"application/emergencycalldata.control+xml":{source:"iana",compressible:true},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:true},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:true},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:true},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:true},"application/emergencycalldata.veds+xml":{source:"iana",compressible:true},"application/emma+xml":{source:"iana",compressible:true,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:true,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:true},"application/epub+zip":{source:"iana",compressible:false,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:true},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:true,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:true},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/fido.trusted-apps+json":{compressible:true},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:false},"application/framework-attributes+xml":{source:"iana",compressible:true},"application/geo+json":{source:"iana",compressible:true,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:true},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:true,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:true,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:false,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:true},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:true},"application/ibe-pkg-reply+xml":{source:"iana",compressible:true},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:true,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:true,extensions:["its"]},"application/java-archive":{source:"apache",compressible:false,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:false,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:false,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:true,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:true},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:true},"application/jrd+json":{source:"iana",compressible:true},"application/jscalendar+json":{source:"iana",compressible:true},"application/json":{source:"iana",charset:"UTF-8",compressible:true,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:true},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:true,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:true},"application/jwk-set+json":{source:"iana",compressible:true},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:true},"application/kpml-response+xml":{source:"iana",compressible:true},"application/ld+json":{source:"iana",compressible:true,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:true,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:true},"application/lost+xml":{source:"iana",compressible:true,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:true},"application/lpf+zip":{source:"iana",compressible:false},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:true,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:true,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:true,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:true,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:true},"application/mathml-presentation+xml":{source:"iana",compressible:true},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:true},"application/mbms-deregister+xml":{source:"iana",compressible:true},"application/mbms-envelope+xml":{source:"iana",compressible:true},"application/mbms-msk+xml":{source:"iana",compressible:true},"application/mbms-msk-response+xml":{source:"iana",compressible:true},"application/mbms-protection-description+xml":{source:"iana",compressible:true},"application/mbms-reception-report+xml":{source:"iana",compressible:true},"application/mbms-register+xml":{source:"iana",compressible:true},"application/mbms-register-response+xml":{source:"iana",compressible:true},"application/mbms-schedule+xml":{source:"iana",compressible:true},"application/mbms-user-service-description+xml":{source:"iana",compressible:true},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:true},"application/media_control+xml":{source:"iana",compressible:true},"application/mediaservercontrol+xml":{source:"iana",compressible:true,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:true},"application/metalink+xml":{source:"apache",compressible:true,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:true,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:true,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:true,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:true,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:true,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:true},"application/mrb-publish+xml":{source:"iana",compressible:true},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/msword":{source:"iana",compressible:false,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:true},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:true},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:false,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:true},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:true,extensions:["opf"]},"application/ogg":{source:"iana",compressible:false,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:true,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:true},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21+zip":{source:"iana",compressible:false},"application/p2p-overlay+xml":{source:"iana",compressible:true,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:true,extensions:["xer"]},"application/pdf":{source:"iana",compressible:false,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:false,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:true,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/postscript":{source:"iana",compressible:true,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:true},"application/problem+json":{source:"iana",compressible:true},"application/problem+xml":{source:"iana",compressible:true},"application/provenance+xml":{source:"iana",compressible:true,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:false},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:true},"application/pskc+xml":{source:"iana",compressible:true,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:true},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:true,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:true},"application/rdf+xml":{source:"iana",compressible:true,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:true,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:true},"application/resource-lists+xml":{source:"iana",compressible:true,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:true,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:true},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:true},"application/rls-services+xml":{source:"iana",compressible:true,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:true,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:true,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:true,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:true,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:true,extensions:["rss"]},"application/rtf":{source:"iana",compressible:true,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:true},"application/samlmetadata+xml":{source:"iana",compressible:true},"application/sarif+json":{source:"iana",compressible:true},"application/sarif-external-properties+json":{source:"iana",compressible:true},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:true,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:true},"application/scim+json":{source:"iana",compressible:true},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:true},"application/senml+xml":{source:"iana",compressible:true,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:true},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:true},"application/sensml+xml":{source:"iana",compressible:true,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:true},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:true,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:true},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:true,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:true},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:true,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:true},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:true,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:true,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:true,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:true,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:true},"application/swid+xml":{source:"iana",compressible:true,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:true},"application/taxii+json":{source:"iana",compressible:true},"application/td+json":{source:"iana",compressible:true},"application/tei+xml":{source:"iana",compressible:true,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:true,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:true},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:true,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:true,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:false,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:true},"application/urc-ressheet+xml":{source:"iana",compressible:true,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:true,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:true},"application/vcard+json":{source:"iana",compressible:true},"application/vcard+xml":{source:"iana",compressible:true},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:true,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:true},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:true},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:true},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:true},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:true},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:true},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:true},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:true},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:true},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:true},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:true},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:true},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:false,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:true,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:true},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:true},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:false,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:true},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:true},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:true},"application/vnd.apple.installer+xml":{source:"iana",compressible:true,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:false,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:true},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:true},"application/vnd.avistar+xml":{source:"iana",compressible:true},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:true,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:true},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:true},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:true},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:true},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:true},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:true,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:true,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:true},"application/vnd.collection.doc+json":{source:"iana",compressible:true},"application/vnd.collection.next+json":{source:"iana",compressible:true},"application/vnd.comicbook+zip":{source:"iana",compressible:false},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:true},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:true,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:true},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:true},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:true},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:true},"application/vnd.cyclonedx+xml":{source:"iana",compressible:true},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:false},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:true,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:true},"application/vnd.dataresource+json":{source:"iana",compressible:true},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:true,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:true},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:true},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:true},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:true},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:true},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:true},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:true},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:true},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:false},"application/vnd.eszigno3+xml":{source:"iana",compressible:true,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:true},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:false},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:false},"application/vnd.etsi.cug+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:true},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:true},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:true},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:true},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:true},"application/vnd.etsi.sci+xml":{source:"iana",compressible:true},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:true},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:true},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:false},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:false},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:true},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:true},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:true},"application/vnd.geo+json":{source:"iana",compressible:true},"application/vnd.geocube+xml":{source:"iana",compressible:true},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:false,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:false,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:false,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:true,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:false,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:true},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:false},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:true},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:true},"application/vnd.hal+xml":{source:"iana",compressible:true,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:true,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:true},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:true},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:true},"application/vnd.hyper-item+json":{source:"iana",compressible:true},"application/vnd.hyperdrive+json":{source:"iana",compressible:true},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:false},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:false},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:true},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:true},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:true},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:true},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:true},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:true,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:false},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:true},"application/vnd.las.las+xml":{source:"iana",compressible:true,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:true},"application/vnd.liberty-request+xml":{source:"iana",compressible:true},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:true,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:false},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:true},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:true},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:true},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:true},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:true},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:true},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:true,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:false,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:true,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:true},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:true},"application/vnd.ms-outlook":{compressible:false,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:true},"application/vnd.ms-powerpoint":{source:"iana",compressible:false,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:true},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:true},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:true},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:false,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:true},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:true},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:true},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:true},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:true},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:true,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:true},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:false,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:false,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:false,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:false,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:true},"application/vnd.oftn.l10n+json":{source:"iana",compressible:true},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:true},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:true},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:true},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:true},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:true},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:true},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:true},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:true},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:true},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:true},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:true},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:true},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:true},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:true},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:true},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:true,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:true},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:true},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:true},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:true},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:true},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:true},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:true},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:true},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:true},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:true},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:true},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:true,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:true,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:false,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:false,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:false,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:true},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:true},"application/vnd.oracle.resource+json":{source:"iana",compressible:true},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:true},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:true},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:true},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:true},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:true},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:true},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:true,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:true},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:true,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:true},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:true},"application/vnd.shopkick+json":{source:"iana",compressible:true},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:true},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:true,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:true,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:true,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:true},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:true,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:true,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:true,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:true},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:true},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:true},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:true},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:true,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:true},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:true},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:true},"application/vnd.wv.ssp+xml":{source:"iana",compressible:true},"application/vnd.xacml+json":{source:"iana",compressible:true},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:true},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:true,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:true,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:true,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:true},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:true,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:true},"application/webpush-options+json":{source:"iana",compressible:true},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:true,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:true,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:false,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:false,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:false,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:false,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:false,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:false},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:true,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:true,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:true,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:false,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:true,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:false,extensions:["jnlp"]},"application/x-javascript":{compressible:true},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:false,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:false},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:true,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:false,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:false,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:true,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:false,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:false,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:true,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:true,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:true,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:true,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:true,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:false,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:true,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:true,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:true,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:true,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:true},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:true,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:false,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:true},"application/xaml+xml":{source:"apache",compressible:true,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:true,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:true,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:true,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:true,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:true},"application/xcap-ns+xml":{source:"iana",compressible:true,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:true},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:true},"application/xenc+xml":{source:"iana",compressible:true,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:true,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:true},"application/xliff+xml":{source:"iana",compressible:true,extensions:["xlf"]},"application/xml":{source:"iana",compressible:true,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:true,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:true},"application/xmpp+xml":{source:"iana",compressible:true},"application/xop+xml":{source:"iana",compressible:true,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:true,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:true,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:true,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:true,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:true},"application/yang-data+xml":{source:"iana",compressible:true},"application/yang-patch+json":{source:"iana",compressible:true},"application/yang-patch+xml":{source:"iana",compressible:true},"application/yin+xml":{source:"iana",compressible:true,extensions:["yin"]},"application/zip":{source:"iana",compressible:false,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:false,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:false,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:false},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:false,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:false,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:false,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:false,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:false},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:false},"audio/vorbis":{source:"iana",compressible:false},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:false,extensions:["wav"]},"audio/wave":{compressible:false,extensions:["wav"]},"audio/webm":{source:"apache",compressible:false,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:false,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:false,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:true,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:true,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:false,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:false,extensions:["avif"]},"image/bmp":{source:"iana",compressible:true,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:false,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:false,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:false,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:false,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:false,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:false},"image/png":{source:"iana",compressible:false,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:true,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:false,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:true,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:true,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:true,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:false},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:false},"message/imdn+xml":{source:"iana",compressible:true},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:false},"message/rfc822":{source:"iana",compressible:true,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:true,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:true,extensions:["glb"]},"model/iges":{source:"iana",compressible:false,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:false,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step+zip":{source:"iana",compressible:false,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:false,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:true,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:true},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:false,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:false,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:false,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:false,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:true,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:false},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:false},"multipart/form-data":{source:"iana",compressible:false},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:false},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:false},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:true,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:true},"text/cmd":{compressible:true},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:true,extensions:["css"]},"text/csv":{source:"iana",compressible:true,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:true,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:true},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:true,extensions:["jsx"]},"text/less":{compressible:true,extensions:["less"]},"text/markdown":{source:"iana",compressible:true,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:true,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:true,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:true,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:true,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:true,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:true,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:true,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:true,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:true,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:true},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:true},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:true,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:true,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:true,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:true,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:true,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:true,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:false,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:false,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:false,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:false,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:false,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:false,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:false,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:false,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:true},"x-shader/x-vertex":{compressible:true}};

var mimeDb=require$$0$2;

(function(exports){var db=mimeDb;var extname=require$$0__default.extname;var EXTRACT_TYPE_REGEXP=/^\s*([^;\s]*)(?:;|\s|$)/;var TEXT_TYPE_REGEXP=/^text\//i;exports.charset=charset;exports.charsets={lookup:charset};exports.contentType=contentType;exports.extension=extension;exports.extensions=Object.create(null);exports.lookup=lookup;exports.types=Object.create(null);populateMaps(exports.extensions,exports.types);function charset(type){if(!type||typeof type!=="string"){return false}var match=EXTRACT_TYPE_REGEXP.exec(type);var mime=match&&db[match[1].toLowerCase()];if(mime&&mime.charset){return mime.charset}if(match&&TEXT_TYPE_REGEXP.test(match[1])){return "UTF-8"}return false}function contentType(str){if(!str||typeof str!=="string"){return false}var mime=str.indexOf("/")===-1?exports.lookup(str):str;if(!mime){return false}if(mime.indexOf("charset")===-1){var charset=exports.charset(mime);if(charset)mime+="; charset="+charset.toLowerCase();}return mime}function extension(type){if(!type||typeof type!=="string"){return false}var match=EXTRACT_TYPE_REGEXP.exec(type);var exts=match&&exports.extensions[match[1].toLowerCase()];if(!exts||!exts.length){return false}return exts[0]}function lookup(path){if(!path||typeof path!=="string"){return false}var extension=extname("x."+path).toLowerCase().substr(1);if(!extension){return false}return exports.types[extension]||false}function populateMaps(extensions,types){var preference=["nginx","apache",undefined,"iana"];Object.keys(db).forEach(function forEachMimeType(type){var mime=db[type];var exts=mime.extensions;if(!exts||!exts.length){return}extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source);var to=preference.indexOf(mime.source);if(types[extension]!=="application/octet-stream"&&(from>to||from===to&&types[extension].substr(0,12)==="application/")){continue}}types[extension]=type;}});}})(mimeTypes$1);

class LRU$1{constructor(max){this.max=max;this.size=0;this.cache=new Map;this._cache=new Map;}get(key,options){let item=this.cache.get(key);const maxAge=options&&options.maxAge;let now;function getNow(){now=now||Date.now();return now}if(item){if(item.expired&&getNow()>item.expired){item.expired=0;item.value=undefined;}else {if(maxAge!==undefined){const expired=maxAge?getNow()+maxAge:0;item.expired=expired;}}return item.value}item=this._cache.get(key);if(item){if(item.expired&&getNow()>item.expired){item.expired=0;item.value=undefined;}else {this._update(key,item);if(maxAge!==undefined){const expired=maxAge?getNow()+maxAge:0;item.expired=expired;}}return item.value}}set(key,value,options){const maxAge=options&&options.maxAge;const expired=maxAge?Date.now()+maxAge:0;let item=this.cache.get(key);if(item){item.expired=expired;item.value=value;}else {item={value,expired};this._update(key,item);}}keys(){const cacheKeys=new Set;const now=Date.now();for(const entry of this.cache.entries()){checkEntry(entry);}for(const entry of this._cache.entries()){checkEntry(entry);}function checkEntry(entry){const key=entry[0];const item=entry[1];if(entry[1].value&&!entry[1].expired||item.expired>=now){cacheKeys.add(key);}}return Array.from(cacheKeys.keys())}_update(key,item){this.cache.set(key,item);this.size++;if(this.size>=this.max){this.size=0;this._cache=this.cache;this.cache=new Map;}}}var ylru=LRU$1;

const mimeTypes=mimeTypes$1;const LRU=ylru;const typeLRUCache=new LRU(100);var cacheContentType=type=>{let mimeType=typeLRUCache.get(type);if(!mimeType){mimeType=mimeTypes.contentType(type);typeLRUCache.set(type,mimeType);}return mimeType};

var matchHtmlRegExp=/["'&<>]/;var escapeHtml_1=escapeHtml;function escapeHtml(string){var str=""+string;var match=matchHtmlRegExp.exec(str);if(!match){return str}var escape;var html="";var index=0;var lastIndex=0;for(index=match.index;index<str.length;index++){switch(str.charCodeAt(index)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 39:escape="&#39;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue;}if(lastIndex!==index){html+=str.substring(lastIndex,index);}lastIndex=index+1;html+=escape;}return lastIndex!==index?html+str.substring(lastIndex,index):html}

var typeIs = {exports: {}};

var mediaTyper = {};

var paramRegExp=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g;var textRegExp=/^[\u0020-\u007e\u0080-\u00ff]+$/;var tokenRegExp=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/;var qescRegExp=/\\([\u0000-\u007f])/g;var quoteRegExp=/([\\"])/g;var subtypeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/;var typeNameRegExp=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/;var typeRegExp=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=format$1;mediaTyper.parse=parse$b;function format$1(obj){if(!obj||typeof obj!=="object"){throw new TypeError("argument obj is required")}var parameters=obj.parameters;var subtype=obj.subtype;var suffix=obj.suffix;var type=obj.type;if(!type||!typeNameRegExp.test(type)){throw new TypeError("invalid type")}if(!subtype||!subtypeNameRegExp.test(subtype)){throw new TypeError("invalid subtype")}var string=type+"/"+subtype;if(suffix){if(!typeNameRegExp.test(suffix)){throw new TypeError("invalid suffix")}string+="+"+suffix;}if(parameters&&typeof parameters==="object"){var param;var params=Object.keys(parameters).sort();for(var i=0;i<params.length;i++){param=params[i];if(!tokenRegExp.test(param)){throw new TypeError("invalid parameter name")}string+="; "+param+"="+qstring$1(parameters[param]);}}return string}function parse$b(string){if(!string){throw new TypeError("argument string is required")}if(typeof string==="object"){string=getcontenttype$1(string);}if(typeof string!=="string"){throw new TypeError("argument string is required to be a string")}var index=string.indexOf(";");var type=index!==-1?string.substr(0,index):string;var key;var match;var obj=splitType(type);var params={};var value;paramRegExp.lastIndex=index;while(match=paramRegExp.exec(string)){if(match.index!==index){throw new TypeError("invalid parameter format")}index+=match[0].length;key=match[1].toLowerCase();value=match[2];if(value[0]==="\""){value=value.substr(1,value.length-2).replace(qescRegExp,"$1");}params[key]=value;}if(index!==-1&&index!==string.length){throw new TypeError("invalid parameter format")}obj.parameters=params;return obj}function getcontenttype$1(obj){if(typeof obj.getHeader==="function"){return obj.getHeader("content-type")}if(typeof obj.headers==="object"){return obj.headers&&obj.headers["content-type"]}}function qstring$1(val){var str=String(val);if(tokenRegExp.test(str)){return str}if(str.length>0&&!textRegExp.test(str)){throw new TypeError("invalid parameter value")}return "\""+str.replace(quoteRegExp,"\\$1")+"\""}function splitType(string){var match=typeRegExp.exec(string.toLowerCase());if(!match){throw new TypeError("invalid media type")}var type=match[1];var subtype=match[2];var suffix;var index=subtype.lastIndexOf("+");if(index!==-1){suffix=subtype.substr(index+1);subtype=subtype.substr(0,index);}var obj={type:type,subtype:subtype,suffix:suffix};return obj}

var typer=mediaTyper;var mime$1=mimeTypes$1;typeIs.exports=typeofrequest;typeIs.exports.is=typeis;typeIs.exports.hasBody=hasbody;typeIs.exports.normalize=normalize;typeIs.exports.match=mimeMatch;function typeis(value,types_){var i;var types=types_;var val=tryNormalizeType(value);if(!val){return false}if(types&&!Array.isArray(types)){types=new Array(arguments.length-1);for(i=0;i<types.length;i++){types[i]=arguments[i+1];}}if(!types||!types.length){return val}var type;for(i=0;i<types.length;i++){if(mimeMatch(normalize(type=types[i]),val)){return type[0]==="+"||type.indexOf("*")!==-1?val:type}}return false}function hasbody(req){return req.headers["transfer-encoding"]!==undefined||!isNaN(req.headers["content-length"])}function typeofrequest(req,types_){var types=types_;if(!hasbody(req)){return null}if(arguments.length>2){types=new Array(arguments.length-1);for(var i=0;i<types.length;i++){types[i]=arguments[i+1];}}var value=req.headers["content-type"];return typeis(value,types)}function normalize(type){if(typeof type!=="string"){return false}switch(type){case"urlencoded":return "application/x-www-form-urlencoded";case"multipart":return "multipart/*";}if(type[0]==="+"){return "*/*"+type}return type.indexOf("/")===-1?mime$1.lookup(type):type}function mimeMatch(expected,actual){if(expected===false){return false}var actualParts=actual.split("/");var expectedParts=expected.split("/");if(actualParts.length!==2||expectedParts.length!==2){return false}if(expectedParts[0]!=="*"&&expectedParts[0]!==actualParts[0]){return false}if(expectedParts[1].substr(0,2)==="*+"){return expectedParts[1].length<=actualParts[1].length+1&&expectedParts[1].substr(1)===actualParts[1].substr(1-expectedParts[1].length)}if(expectedParts[1]!=="*"&&expectedParts[1]!==actualParts[1]){return false}return true}function normalizeType(value){var type=typer.parse(value);type.parameters=undefined;return typer.format(type)}function tryNormalizeType(value){if(!value){return null}try{return normalizeType(value)}catch(err){return null}}

var require$$0$1 = {"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"};

var codes=require$$0$1;var statuses$1=status;status.STATUS_CODES=codes;status.codes=populateStatusesMap(status,codes);status.redirect={300:true,301:true,302:true,303:true,305:true,307:true,308:true};status.empty={204:true,205:true,304:true};status.retry={502:true,503:true,504:true};function populateStatusesMap(statuses,codes){var arr=[];Object.keys(codes).forEach(function forEachCode(code){var message=codes[code];var status=Number(code);statuses[status]=message;statuses[message]=status;statuses[message.toLowerCase()]=status;arr.push(status);});return arr}function status(code){if(typeof code==="number"){if(!status[code])throw new Error("invalid status code: "+code);return code}if(typeof code!=="string"){throw new TypeError("code must be a number or string")}var n=parseInt(code,10);if(!isNaN(n)){if(!status[n])throw new Error("invalid status code: "+n);return n}n=status[code.toLowerCase()];if(!n)throw new Error("invalid status message: \""+code+"\"");return n}

var ReadStream=_fs__default.ReadStream;var Stream$1=require$$1;var destroy_1=destroy;function destroy(stream){if(stream instanceof ReadStream){return destroyReadStream(stream)}if(!(stream instanceof Stream$1)){return stream}if(typeof stream.destroy==="function"){stream.destroy();}return stream}function destroyReadStream(stream){stream.destroy();if(typeof stream.close==="function"){stream.on("open",onOpenClose);}return stream}function onOpenClose(){if(typeof this.fd==="number"){this.close();}}

var vary$1 = {exports: {}};

vary$1.exports=vary;vary$1.exports.append=append$1;var FIELD_NAME_REGEXP=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function append$1(header,field){if(typeof header!=="string"){throw new TypeError("header argument is required")}if(!field){throw new TypeError("field argument is required")}var fields=!Array.isArray(field)?parse$a(String(field)):field;for(var j=0;j<fields.length;j++){if(!FIELD_NAME_REGEXP.test(fields[j])){throw new TypeError("field argument contains an invalid header name")}}if(header==="*"){return header}var val=header;var vals=parse$a(header.toLowerCase());if(fields.indexOf("*")!==-1||vals.indexOf("*")!==-1){return "*"}for(var i=0;i<fields.length;i++){var fld=fields[i].toLowerCase();if(vals.indexOf(fld)===-1){vals.push(fld);val=val?val+", "+fields[i]:fields[i];}}return val}function parse$a(header){var end=0;var list=[];var start=0;for(var i=0,len=header.length;i<len;i++){switch(header.charCodeAt(i)){case 32:if(start===end){start=end=i+1;}break;case 44:list.push(header.substring(start,end));start=end=i+1;break;default:end=i+1;break;}}list.push(header.substring(start,end));return list}function vary(res,field){if(!res||!res.getHeader||!res.setHeader){throw new TypeError("res argument is required")}var val=res.getHeader("Vary")||"";var header=Array.isArray(val)?val.join(", "):String(val);if(val=append$1(header,field)){res.setHeader("Vary",val);}}

var only$1=function(obj,keys){obj=obj||{};if("string"==typeof keys)keys=keys.split(/ +/);return keys.reduce(function(ret,key){if(null==obj[key])return ret;ret[key]=obj[key];return ret},{})};

var encodeurl=encodeUrl;var ENCODE_CHARS_REGEXP=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g;var UNMATCHED_SURROGATE_PAIR_REGEXP=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g;var UNMATCHED_SURROGATE_PAIR_REPLACE="$1\uFFFD$2";function encodeUrl(url){return String(url).replace(UNMATCHED_SURROGATE_PAIR_REGEXP,UNMATCHED_SURROGATE_PAIR_REPLACE).replace(ENCODE_CHARS_REGEXP,encodeURI)}

(function(module){const contentDisposition=contentDisposition$1.exports;const getType=cacheContentType;const onFinish=onFinished$2.exports;const escape=escapeHtml_1;const typeis=typeIs.exports.is;const statuses=statuses$1;const destroy=destroy_1;const assert=require$$7;const extname=require$$0__default.extname;const vary=vary$1.exports;const only=only$1;const util=require$$9;const encodeUrl=encodeurl;const Stream=require$$1;module.exports={get socket(){return this.res.socket},get header(){const{res}=this;return typeof res.getHeaders==="function"?res.getHeaders():res._headers||{}},get headers(){return this.header},get status(){return this.res.statusCode},set status(code){if(this.headerSent)return;assert(Number.isInteger(code),"status code must be a number");assert(code>=100&&code<=999,`invalid status code: ${code}`);this._explicitStatus=true;this.res.statusCode=code;if(this.req.httpVersionMajor<2)this.res.statusMessage=statuses[code];if(this.body&&statuses.empty[code])this.body=null;},get message(){return this.res.statusMessage||statuses[this.status]},set message(msg){this.res.statusMessage=msg;},get body(){return this._body},set body(val){const original=this._body;this._body=val;if(null==val){if(!statuses.empty[this.status])this.status=204;if(val===null)this._explicitNullBody=true;this.remove("Content-Type");this.remove("Content-Length");this.remove("Transfer-Encoding");return}if(!this._explicitStatus)this.status=200;const setType=!this.has("Content-Type");if("string"===typeof val){if(setType)this.type=/^\s*</.test(val)?"html":"text";this.length=Buffer.byteLength(val);return}if(Buffer.isBuffer(val)){if(setType)this.type="bin";this.length=val.length;return}if(val instanceof Stream){onFinish(this.res,destroy.bind(null,val));if(original!=val){val.once("error",err=>this.ctx.onerror(err));if(null!=original)this.remove("Content-Length");}if(setType)this.type="bin";return}this.remove("Content-Length");this.type="json";},set length(n){this.set("Content-Length",n);},get length(){if(this.has("Content-Length")){return parseInt(this.get("Content-Length"),10)||0}const{body}=this;if(!body||body instanceof Stream)return undefined;if("string"===typeof body)return Buffer.byteLength(body);if(Buffer.isBuffer(body))return body.length;return Buffer.byteLength(JSON.stringify(body))},get headerSent(){return this.res.headersSent},vary(field){if(this.headerSent)return;vary(this.res,field);},redirect(url,alt){if("back"===url)url=this.ctx.get("Referrer")||alt||"/";this.set("Location",encodeUrl(url));if(!statuses.redirect[this.status])this.status=302;if(this.ctx.accepts("html")){url=escape(url);this.type="text/html; charset=utf-8";this.body=`Redirecting to <a href="${url}">${url}</a>.`;return}this.type="text/plain; charset=utf-8";this.body=`Redirecting to ${url}.`;},attachment(filename,options){if(filename)this.type=extname(filename);this.set("Content-Disposition",contentDisposition(filename,options));},set type(type){type=getType(type);if(type){this.set("Content-Type",type);}else {this.remove("Content-Type");}},set lastModified(val){if("string"===typeof val)val=new Date(val);this.set("Last-Modified",val.toUTCString());},get lastModified(){const date=this.get("last-modified");if(date)return new Date(date)},set etag(val){if(!/^(W\/)?"/.test(val))val=`"${val}"`;this.set("ETag",val);},get etag(){return this.get("ETag")},get type(){const type=this.get("Content-Type");if(!type)return "";return type.split(";",1)[0]},is(type,...types){return typeis(this.type,type,...types)},get(field){return this.header[field.toLowerCase()]||""},has(field){return typeof this.res.hasHeader==="function"?this.res.hasHeader(field):field.toLowerCase()in this.headers},set(field,val){if(this.headerSent)return;if(2===arguments.length){if(Array.isArray(val))val=val.map(v=>typeof v==="string"?v:String(v));else if(typeof val!=="string")val=String(val);this.res.setHeader(field,val);}else {for(const key in field){this.set(key,field[key]);}}},append(field,val){const prev=this.get(field);if(prev){val=Array.isArray(prev)?prev.concat(val):[prev].concat(val);}return this.set(field,val)},remove(field){if(this.headerSent)return;this.res.removeHeader(field);},get writable(){if(this.res.writableEnded||this.res.finished)return false;const socket=this.res.socket;if(!socket)return true;return socket.writable},inspect(){if(!this.res)return;const o=this.toJSON();o.body=this.body;return o},toJSON(){return only(this,["status","message","header"])},flushHeaders(){this.res.flushHeaders();}};if(util.inspect.custom){module.exports[util.inspect.custom]=module.exports.inspect;}})(response$1);

var koaCompose$1=compose$4;function compose$4(middleware){if(!Array.isArray(middleware))throw new TypeError("Middleware stack must be an array!");for(const fn of middleware){if(typeof fn!=="function")throw new TypeError("Middleware must be composed of functions!")}return function(context,next){let index=-1;return dispatch(0);function dispatch(i){if(i<=index)return Promise.reject(new Error("next() called multiple times"));index=i;let fn=middleware[i];if(i===middleware.length)fn=next;if(!fn)return Promise.resolve();try{return Promise.resolve(fn(context,dispatch.bind(null,i+1)))}catch(err){return Promise.reject(err)}}}}

var context$1 = {exports: {}};

var httpErrors = {exports: {}};

var compat = {exports: {}};

var callsiteTostring=callSiteToString$1;function callSiteFileLocation(callSite){var fileName;var fileLocation="";if(callSite.isNative()){fileLocation="native";}else if(callSite.isEval()){fileName=callSite.getScriptNameOrSourceURL();if(!fileName){fileLocation=callSite.getEvalOrigin();}}else {fileName=callSite.getFileName();}if(fileName){fileLocation+=fileName;var lineNumber=callSite.getLineNumber();if(lineNumber!=null){fileLocation+=":"+lineNumber;var columnNumber=callSite.getColumnNumber();if(columnNumber){fileLocation+=":"+columnNumber;}}}return fileLocation||"unknown source"}function callSiteToString$1(callSite){var addSuffix=true;var fileLocation=callSiteFileLocation(callSite);var functionName=callSite.getFunctionName();var isConstructor=callSite.isConstructor();var isMethodCall=!(callSite.isToplevel()||isConstructor);var line="";if(isMethodCall){var methodName=callSite.getMethodName();var typeName=getConstructorName(callSite);if(functionName){if(typeName&&functionName.indexOf(typeName)!==0){line+=typeName+".";}line+=functionName;if(methodName&&functionName.lastIndexOf("."+methodName)!==functionName.length-methodName.length-1){line+=" [as "+methodName+"]";}}else {line+=typeName+"."+(methodName||"<anonymous>");}}else if(isConstructor){line+="new "+(functionName||"<anonymous>");}else if(functionName){line+=functionName;}else {addSuffix=false;line+=fileLocation;}if(addSuffix){line+=" ("+fileLocation+")";}return line}function getConstructorName(obj){var receiver=obj.receiver;return receiver.constructor&&receiver.constructor.name||null}

var eventListenerCount_1=eventListenerCount$1;function eventListenerCount$1(emitter,type){return emitter.listeners(type).length}

(function(module){var EventEmitter=require$$0$7.EventEmitter;lazyProperty(module.exports,"callSiteToString",function callSiteToString(){var limit=Error.stackTraceLimit;var obj={};var prep=Error.prepareStackTrace;function prepareObjectStackTrace(obj,stack){return stack}Error.prepareStackTrace=prepareObjectStackTrace;Error.stackTraceLimit=2;Error.captureStackTrace(obj);var stack=obj.stack.slice();Error.prepareStackTrace=prep;Error.stackTraceLimit=limit;return stack[0].toString?toString:callsiteTostring});lazyProperty(module.exports,"eventListenerCount",function eventListenerCount(){return EventEmitter.listenerCount||eventListenerCount_1});function lazyProperty(obj,prop,getter){function get(){var val=getter();Object.defineProperty(obj,prop,{configurable:true,enumerable:true,value:val});return val}Object.defineProperty(obj,prop,{configurable:true,enumerable:true,get:get});}function toString(obj){return obj.toString()}})(compat);

var callSiteToString=compat.exports.callSiteToString;var eventListenerCount=compat.exports.eventListenerCount;var relative$2=require$$0__default.relative;var depd_1$2=depd$2;var basePath$2=process.cwd();function containsNamespace$2(str,namespace){var vals=str.split(/[ ,]+/);var ns=String(namespace).toLowerCase();for(var i=0;i<vals.length;i++){var val=vals[i];if(val&&(val==="*"||val.toLowerCase()===ns)){return true}}return false}function convertDataDescriptorToAccessor$2(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);var value=descriptor.value;descriptor.get=function getter(){return value};if(descriptor.writable){descriptor.set=function setter(val){return value=val};}delete descriptor.value;delete descriptor.writable;Object.defineProperty(obj,prop,descriptor);return descriptor}function createArgumentsString$2(arity){var str="";for(var i=0;i<arity;i++){str+=", arg"+i;}return str.substr(2)}function createStackString$2(stack){var str=this.name+": "+this.namespace;if(this.message){str+=" deprecated "+this.message;}for(var i=0;i<stack.length;i++){str+="\n    at "+callSiteToString(stack[i]);}return str}function depd$2(namespace){if(!namespace){throw new TypeError("argument namespace is required")}var stack=getStack$2();var site=callSiteLocation$2(stack[1]);var file=site[0];function deprecate(message){log$2.call(deprecate,message);}deprecate._file=file;deprecate._ignored=isignored$2(namespace);deprecate._namespace=namespace;deprecate._traced=istraced$2(namespace);deprecate._warned=Object.create(null);deprecate.function=wrapfunction$2;deprecate.property=wrapproperty$2;return deprecate}function isignored$2(namespace){if(process.noDeprecation){return true}var str=process.env.NO_DEPRECATION||"";return containsNamespace$2(str,namespace)}function istraced$2(namespace){if(process.traceDeprecation){return true}var str=process.env.TRACE_DEPRECATION||"";return containsNamespace$2(str,namespace)}function log$2(message,site){var haslisteners=eventListenerCount(process,"deprecation")!==0;if(!haslisteners&&this._ignored){return}var caller;var callFile;var callSite;var depSite;var i=0;var seen=false;var stack=getStack$2();var file=this._file;if(site){depSite=site;callSite=callSiteLocation$2(stack[1]);callSite.name=depSite.name;file=callSite[0];}else {i=2;depSite=callSiteLocation$2(stack[i]);callSite=depSite;}for(;i<stack.length;i++){caller=callSiteLocation$2(stack[i]);callFile=caller[0];if(callFile===file){seen=true;}else if(callFile===this._file){file=this._file;}else if(seen){break}}var key=caller?depSite.join(":")+"__"+caller.join(":"):undefined;if(key!==undefined&&key in this._warned){return}this._warned[key]=true;var msg=message;if(!msg){msg=callSite===depSite||!callSite.name?defaultMessage$2(depSite):defaultMessage$2(callSite);}if(haslisteners){var err=DeprecationError$2(this._namespace,msg,stack.slice(i));process.emit("deprecation",err);return}var format=process.stderr.isTTY?formatColor$2:formatPlain$2;var output=format.call(this,msg,caller,stack.slice(i));process.stderr.write(output+"\n","utf8");}function callSiteLocation$2(callSite){var file=callSite.getFileName()||"<anonymous>";var line=callSite.getLineNumber();var colm=callSite.getColumnNumber();if(callSite.isEval()){file=callSite.getEvalOrigin()+", "+file;}var site=[file,line,colm];site.callSite=callSite;site.name=callSite.getFunctionName();return site}function defaultMessage$2(site){var callSite=site.callSite;var funcName=site.name;if(!funcName){funcName="<anonymous@"+formatLocation$2(site)+">";}var context=callSite.getThis();var typeName=context&&callSite.getTypeName();if(typeName==="Object"){typeName=undefined;}if(typeName==="Function"){typeName=context.name||typeName;}return typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain$2(msg,caller,stack){var timestamp=new Date().toUTCString();var formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    at "+callSiteToString(stack[i]);}return formatted}if(caller){formatted+=" at "+formatLocation$2(caller);}return formatted}function formatColor$2(msg,caller,stack){var formatted="\x1B[36;1m"+this._namespace+"\x1B[22;39m"+" \x1B[33;1mdeprecated\x1B[22;39m"+" \x1B[0m"+msg+"\x1B[39m";if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    \x1B[36mat "+callSiteToString(stack[i])+"\x1B[39m";}return formatted}if(caller){formatted+=" \x1B[36m"+formatLocation$2(caller)+"\x1B[39m";}return formatted}function formatLocation$2(callSite){return relative$2(basePath$2,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack$2(){var limit=Error.stackTraceLimit;var obj={};var prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace$2;Error.stackTraceLimit=Math.max(10,limit);Error.captureStackTrace(obj);var stack=obj.stack.slice(1);Error.prepareStackTrace=prep;Error.stackTraceLimit=limit;return stack}function prepareObjectStackTrace$2(obj,stack){return stack}function wrapfunction$2(fn,message){if(typeof fn!=="function"){throw new TypeError("argument fn must be a function")}var args=createArgumentsString$2(fn.length);var stack=getStack$2();var site=callSiteLocation$2(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+") {\n"+"\"use strict\"\n"+"log.call(deprecate, message, site)\n"+"return fn.apply(this, arguments)\n"+"})");return deprecatedfn}function wrapproperty$2(obj,prop,message){if(!obj||typeof obj!=="object"&&typeof obj!=="function"){throw new TypeError("argument obj must be object")}var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor){throw new TypeError("must call property on owner object")}if(!descriptor.configurable){throw new TypeError("property must be configurable")}var deprecate=this;var stack=getStack$2();var site=callSiteLocation$2(stack[1]);site.name=prop;if("value"in descriptor){descriptor=convertDataDescriptorToAccessor$2(obj,prop);}var get=descriptor.get;var set=descriptor.set;if(typeof get==="function"){descriptor.get=function getter(){log$2.call(deprecate,message,site);return get.apply(this,arguments)};}if(typeof set==="function"){descriptor.set=function setter(){log$2.call(deprecate,message,site);return set.apply(this,arguments)};}Object.defineProperty(obj,prop,descriptor);}function DeprecationError$2(namespace,message,stack){var error=new Error;var stackString;Object.defineProperty(error,"constructor",{value:DeprecationError$2});Object.defineProperty(error,"message",{configurable:true,enumerable:false,value:message,writable:true});Object.defineProperty(error,"name",{enumerable:false,configurable:true,value:"DeprecationError",writable:true});Object.defineProperty(error,"namespace",{configurable:true,enumerable:false,value:namespace,writable:true});Object.defineProperty(error,"stack",{configurable:true,enumerable:false,get:function(){if(stackString!==undefined){return stackString}return stackString=createStackString$2.call(this,stack)},set:function setter(val){stackString=val;}});return error}

var setprototypeof=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(obj,proto){obj.__proto__=proto;return obj}function mixinProperties(obj,proto){for(var prop in proto){if(!Object.prototype.hasOwnProperty.call(obj,prop)){obj[prop]=proto[prop];}}return obj}

var inherits = {exports: {}};

var inherits_browser = {exports: {}};

if(typeof Object.create==="function"){inherits_browser.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});}};}else {inherits_browser.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor;}};}

try{var util$2=require("util");if(typeof util$2.inherits!=="function")throw "";inherits.exports=util$2.inherits;}catch(e){inherits.exports=inherits_browser.exports;}

var toidentifier=toIdentifier;function toIdentifier(str){return str.split(" ").map(function(token){return token.slice(0,1).toUpperCase()+token.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}

(function(module){var deprecate=depd_1$2("http-errors");var setPrototypeOf=setprototypeof;var statuses=statuses$1;var inherits$1=inherits.exports;var toIdentifier=toidentifier;module.exports=createError;module.exports.HttpError=createHttpErrorConstructor();module.exports.isHttpError=createIsHttpErrorFunction(module.exports.HttpError);populateConstructorExports(module.exports,statuses.codes,module.exports.HttpError);function codeClass(status){return Number(String(status).charAt(0)+"00")}function createError(){var err;var msg;var status=500;var props={};for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(arg instanceof Error){err=arg;status=err.status||err.statusCode||status;continue}switch(typeof arg){case"string":msg=arg;break;case"number":status=arg;if(i!==0){deprecate("non-first-argument status code; replace with createError("+arg+", ...)");}break;case"object":props=arg;break;}}if(typeof status==="number"&&(status<400||status>=600)){deprecate("non-error status code; use only 4xx or 5xx status codes");}if(typeof status!=="number"||!statuses[status]&&(status<400||status>=600)){status=500;}var HttpError=createError[status]||createError[codeClass(status)];if(!err){err=HttpError?new HttpError(msg):new Error(msg||statuses[status]);Error.captureStackTrace(err,createError);}if(!HttpError||!(err instanceof HttpError)||err.status!==status){err.expose=status<500;err.status=err.statusCode=status;}for(var key in props){if(key!=="status"&&key!=="statusCode"){err[key]=props[key];}}return err}function createHttpErrorConstructor(){function HttpError(){throw new TypeError("cannot construct abstract class")}inherits$1(HttpError,Error);return HttpError}function createClientErrorConstructor(HttpError,name,code){var className=toClassName(name);function ClientError(message){var msg=message!=null?message:statuses[code];var err=new Error(msg);Error.captureStackTrace(err,ClientError);setPrototypeOf(err,ClientError.prototype);Object.defineProperty(err,"message",{enumerable:true,configurable:true,value:msg,writable:true});Object.defineProperty(err,"name",{enumerable:false,configurable:true,value:className,writable:true});return err}inherits$1(ClientError,HttpError);nameFunc(ClientError,className);ClientError.prototype.status=code;ClientError.prototype.statusCode=code;ClientError.prototype.expose=true;return ClientError}function createIsHttpErrorFunction(HttpError){return function isHttpError(val){if(!val||typeof val!=="object"){return false}if(val instanceof HttpError){return true}return val instanceof Error&&typeof val.expose==="boolean"&&typeof val.statusCode==="number"&&val.status===val.statusCode}}function createServerErrorConstructor(HttpError,name,code){var className=toClassName(name);function ServerError(message){var msg=message!=null?message:statuses[code];var err=new Error(msg);Error.captureStackTrace(err,ServerError);setPrototypeOf(err,ServerError.prototype);Object.defineProperty(err,"message",{enumerable:true,configurable:true,value:msg,writable:true});Object.defineProperty(err,"name",{enumerable:false,configurable:true,value:className,writable:true});return err}inherits$1(ServerError,HttpError);nameFunc(ServerError,className);ServerError.prototype.status=code;ServerError.prototype.statusCode=code;ServerError.prototype.expose=false;return ServerError}function nameFunc(func,name){var desc=Object.getOwnPropertyDescriptor(func,"name");if(desc&&desc.configurable){desc.value=name;Object.defineProperty(func,"name",desc);}}function populateConstructorExports(exports,codes,HttpError){codes.forEach(function forEachCode(code){var CodeError;var name=toIdentifier(statuses[code]);switch(codeClass(code)){case 400:CodeError=createClientErrorConstructor(HttpError,name,code);break;case 500:CodeError=createServerErrorConstructor(HttpError,name,code);break;}if(CodeError){exports[code]=CodeError;exports[name]=CodeError;}});exports["I'mateapot"]=deprecate.function(exports.ImATeapot,"\"I'mateapot\"; use \"ImATeapot\" instead");}function toClassName(name){return name.substr(-5)!=="Error"?name+"Error":name}})(httpErrors);

var deepEqual$1 = {exports: {}};

var keys = {exports: {}};

(function(module,exports){exports=module.exports=typeof Object.keys==="function"?Object.keys:shim;exports.shim=shim;function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}})(keys,keys.exports);

var is_arguments = {exports: {}};

(function(module,exports){var supportsArgumentsClass=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";exports=module.exports=supportsArgumentsClass?supported:unsupported;exports.supported=supported;function supported(object){return Object.prototype.toString.call(object)=="[object Arguments]"}exports.unsupported=unsupported;function unsupported(object){return object&&typeof object=="object"&&typeof object.length=="number"&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||false}})(is_arguments,is_arguments.exports);

var pSlice=Array.prototype.slice;var objectKeys=keys.exports;var isArguments=is_arguments.exports;var deepEqual=deepEqual$1.exports=function(actual,expected,opts){if(!opts)opts={};if(actual===expected){return true}else if(actual instanceof Date&&expected instanceof Date){return actual.getTime()===expected.getTime()}else if(!actual||!expected||typeof actual!="object"&&typeof expected!="object"){return opts.strict?actual===expected:actual==expected}else {return objEquiv(actual,expected,opts)}};function isUndefinedOrNull(value){return value===null||value===undefined}function isBuffer(x){if(!x||typeof x!=="object"||typeof x.length!=="number")return false;if(typeof x.copy!=="function"||typeof x.slice!=="function"){return false}if(x.length>0&&typeof x[0]!=="number")return false;return true}function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false}a=pSlice.call(a);b=pSlice.call(b);return deepEqual(a,b,opts)}if(isBuffer(a)){if(!isBuffer(b)){return false}if(a.length!==b.length)return false;for(i=0;i<a.length;i++){if(a[i]!==b[i])return false}return true}try{var ka=objectKeys(a),kb=objectKeys(b);}catch(e){return false}if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!deepEqual(a[key],b[key],opts))return false}return typeof a===typeof b}

var createError=httpErrors.exports;var eql=deepEqual$1.exports;var httpAssert=assert;function assert(value,status,msg,opts){if(value)return;throw createError(status,msg,opts)}assert.fail=function(status,msg,opts){assert(false,status,msg,opts);};assert.equal=function(a,b,status,msg,opts){assert(a==b,status,msg,opts);};assert.notEqual=function(a,b,status,msg,opts){assert(a!=b,status,msg,opts);};assert.ok=function(value,status,msg,opts){assert(value,status,msg,opts);};assert.strictEqual=function(a,b,status,msg,opts){assert(a===b,status,msg,opts);};assert.notStrictEqual=function(a,b,status,msg,opts){assert(a!==b,status,msg,opts);};assert.deepEqual=function(a,b,status,msg,opts){assert(eql(a,b),status,msg,opts);};assert.notDeepEqual=function(a,b,status,msg,opts){assert(!eql(a,b),status,msg,opts);};

var delegates=Delegator;function Delegator(proto,target){if(!(this instanceof Delegator))return new Delegator(proto,target);this.proto=proto;this.target=target;this.methods=[];this.getters=[];this.setters=[];this.fluents=[];}Delegator.prototype.method=function(name){var proto=this.proto;var target=this.target;this.methods.push(name);proto[name]=function(){return this[target][name].apply(this[target],arguments)};return this};Delegator.prototype.access=function(name){return this.getter(name).setter(name)};Delegator.prototype.getter=function(name){var proto=this.proto;var target=this.target;this.getters.push(name);proto.__defineGetter__(name,function(){return this[target][name]});return this};Delegator.prototype.setter=function(name){var proto=this.proto;var target=this.target;this.setters.push(name);proto.__defineSetter__(name,function(val){return this[target][name]=val});return this};Delegator.prototype.fluent=function(name){var proto=this.proto;var target=this.target;this.fluents.push(name);proto[name]=function(val){if("undefined"!=typeof val){this[target][name]=val;return this}else {return this[target][name]}};return this};

var relative$1=require$$0__default.relative;var depd_1$1=depd$1;var basePath$1=process.cwd();function containsNamespace$1(str,namespace){var vals=str.split(/[ ,]+/);var ns=String(namespace).toLowerCase();for(var i=0;i<vals.length;i++){var val=vals[i];if(val&&(val==="*"||val.toLowerCase()===ns)){return true}}return false}function convertDataDescriptorToAccessor$1(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);var value=descriptor.value;descriptor.get=function getter(){return value};if(descriptor.writable){descriptor.set=function setter(val){return value=val};}delete descriptor.value;delete descriptor.writable;Object.defineProperty(obj,prop,descriptor);return descriptor}function createArgumentsString$1(arity){var str="";for(var i=0;i<arity;i++){str+=", arg"+i;}return str.substr(2)}function createStackString$1(stack){var str=this.name+": "+this.namespace;if(this.message){str+=" deprecated "+this.message;}for(var i=0;i<stack.length;i++){str+="\n    at "+stack[i].toString();}return str}function depd$1(namespace){if(!namespace){throw new TypeError("argument namespace is required")}var stack=getStack$1();var site=callSiteLocation$1(stack[1]);var file=site[0];function deprecate(message){log$1.call(deprecate,message);}deprecate._file=file;deprecate._ignored=isignored$1(namespace);deprecate._namespace=namespace;deprecate._traced=istraced$1(namespace);deprecate._warned=Object.create(null);deprecate.function=wrapfunction$1;deprecate.property=wrapproperty$1;return deprecate}function eehaslisteners$1(emitter,type){var count=typeof emitter.listenerCount!=="function"?emitter.listeners(type).length:emitter.listenerCount(type);return count>0}function isignored$1(namespace){if(process.noDeprecation){return true}var str=process.env.NO_DEPRECATION||"";return containsNamespace$1(str,namespace)}function istraced$1(namespace){if(process.traceDeprecation){return true}var str=process.env.TRACE_DEPRECATION||"";return containsNamespace$1(str,namespace)}function log$1(message,site){var haslisteners=eehaslisteners$1(process,"deprecation");if(!haslisteners&&this._ignored){return}var caller;var callFile;var callSite;var depSite;var i=0;var seen=false;var stack=getStack$1();var file=this._file;if(site){depSite=site;callSite=callSiteLocation$1(stack[1]);callSite.name=depSite.name;file=callSite[0];}else {i=2;depSite=callSiteLocation$1(stack[i]);callSite=depSite;}for(;i<stack.length;i++){caller=callSiteLocation$1(stack[i]);callFile=caller[0];if(callFile===file){seen=true;}else if(callFile===this._file){file=this._file;}else if(seen){break}}var key=caller?depSite.join(":")+"__"+caller.join(":"):undefined;if(key!==undefined&&key in this._warned){return}this._warned[key]=true;var msg=message;if(!msg){msg=callSite===depSite||!callSite.name?defaultMessage$1(depSite):defaultMessage$1(callSite);}if(haslisteners){var err=DeprecationError$1(this._namespace,msg,stack.slice(i));process.emit("deprecation",err);return}var format=process.stderr.isTTY?formatColor$1:formatPlain$1;var output=format.call(this,msg,caller,stack.slice(i));process.stderr.write(output+"\n","utf8");}function callSiteLocation$1(callSite){var file=callSite.getFileName()||"<anonymous>";var line=callSite.getLineNumber();var colm=callSite.getColumnNumber();if(callSite.isEval()){file=callSite.getEvalOrigin()+", "+file;}var site=[file,line,colm];site.callSite=callSite;site.name=callSite.getFunctionName();return site}function defaultMessage$1(site){var callSite=site.callSite;var funcName=site.name;if(!funcName){funcName="<anonymous@"+formatLocation$1(site)+">";}var context=callSite.getThis();var typeName=context&&callSite.getTypeName();if(typeName==="Object"){typeName=undefined;}if(typeName==="Function"){typeName=context.name||typeName;}return typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain$1(msg,caller,stack){var timestamp=new Date().toUTCString();var formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    at "+stack[i].toString();}return formatted}if(caller){formatted+=" at "+formatLocation$1(caller);}return formatted}function formatColor$1(msg,caller,stack){var formatted="\x1B[36;1m"+this._namespace+"\x1B[22;39m"+" \x1B[33;1mdeprecated\x1B[22;39m"+" \x1B[0m"+msg+"\x1B[39m";if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    \x1B[36mat "+stack[i].toString()+"\x1B[39m";}return formatted}if(caller){formatted+=" \x1B[36m"+formatLocation$1(caller)+"\x1B[39m";}return formatted}function formatLocation$1(callSite){return relative$1(basePath$1,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack$1(){var limit=Error.stackTraceLimit;var obj={};var prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace$1;Error.stackTraceLimit=Math.max(10,limit);Error.captureStackTrace(obj);var stack=obj.stack.slice(1);Error.prepareStackTrace=prep;Error.stackTraceLimit=limit;return stack}function prepareObjectStackTrace$1(obj,stack){return stack}function wrapfunction$1(fn,message){if(typeof fn!=="function"){throw new TypeError("argument fn must be a function")}var args=createArgumentsString$1(fn.length);var stack=getStack$1();var site=callSiteLocation$1(stack[1]);site.name=fn.name;var deprecatedfn=new Function("fn","log","deprecate","message","site","\"use strict\"\n"+"return function ("+args+") {"+"log.call(deprecate, message, site)\n"+"return fn.apply(this, arguments)\n"+"}")(fn,log$1,this,message,site);return deprecatedfn}function wrapproperty$1(obj,prop,message){if(!obj||typeof obj!=="object"&&typeof obj!=="function"){throw new TypeError("argument obj must be object")}var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor){throw new TypeError("must call property on owner object")}if(!descriptor.configurable){throw new TypeError("property must be configurable")}var deprecate=this;var stack=getStack$1();var site=callSiteLocation$1(stack[1]);site.name=prop;if("value"in descriptor){descriptor=convertDataDescriptorToAccessor$1(obj,prop);}var get=descriptor.get;var set=descriptor.set;if(typeof get==="function"){descriptor.get=function getter(){log$1.call(deprecate,message,site);return get.apply(this,arguments)};}if(typeof set==="function"){descriptor.set=function setter(){log$1.call(deprecate,message,site);return set.apply(this,arguments)};}Object.defineProperty(obj,prop,descriptor);}function DeprecationError$1(namespace,message,stack){var error=new Error;var stackString;Object.defineProperty(error,"constructor",{value:DeprecationError$1});Object.defineProperty(error,"message",{configurable:true,enumerable:false,value:message,writable:true});Object.defineProperty(error,"name",{enumerable:false,configurable:true,value:"DeprecationError",writable:true});Object.defineProperty(error,"namespace",{configurable:true,enumerable:false,value:namespace,writable:true});Object.defineProperty(error,"stack",{configurable:true,enumerable:false,get:function(){if(stackString!==undefined){return stackString}return stackString=createStackString$1.call(this,stack)},set:function setter(val){stackString=val;}});return error}

var crypto$2=require$$0$8;function bufferEqual(a,b){if(a.length!==b.length){return false}if(crypto$2.timingSafeEqual){return crypto$2.timingSafeEqual(a,b)}for(var i=0;i<a.length;i++){if(a[i]!==b[i]){return false}}return true}function timeSafeCompare(a,b){var sa=String(a);var sb=String(b);var key=crypto$2.pseudoRandomBytes(32);var ah=crypto$2.createHmac("sha256",key).update(sa).digest();var bh=crypto$2.createHmac("sha256",key).update(sb).digest();return bufferEqual(ah,bh)&&a===b}var lib=timeSafeCompare;

var compare$1=lib;var crypto$1=require$$0$8;function Keygrip$1(keys,algorithm,encoding){if(!algorithm)algorithm="sha1";if(!encoding)encoding="base64";if(!(this instanceof Keygrip$1))return new Keygrip$1(keys,algorithm,encoding);if(!keys||!(0 in keys)){throw new Error("Keys must be provided.")}function sign(data,key){return crypto$1.createHmac(algorithm,key).update(data).digest(encoding).replace(/\/|\+|=/g,function(x){return {"/":"_","+":"-","=":""}[x]})}this.sign=function(data){return sign(data,keys[0])};this.verify=function(data,digest){return this.index(data,digest)>-1};this.index=function(data,digest){for(var i=0,l=keys.length;i<l;i++){if(compare$1(digest,sign(data,keys[i]))){return i}}return -1};}Keygrip$1.sign=Keygrip$1.verify=Keygrip$1.index=function(){throw new Error("Usage: require('keygrip')(<array-of-keys>)")};var keygrip=Keygrip$1;

var deprecate$1=depd_1$1("cookies");var Keygrip=keygrip;var http$2=require$$2;var cache={};var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;var SAME_SITE_REGEXP=/^(?:lax|none|strict)$/i;function Cookies(request,response,options){if(!(this instanceof Cookies))return new Cookies(request,response,options);this.secure=undefined;this.request=request;this.response=response;if(options){if(Array.isArray(options)){deprecate$1("\"keys\" argument; provide using options {\"keys\": [...]}");this.keys=new Keygrip(options);}else if(options.constructor&&options.constructor.name==="Keygrip"){deprecate$1("\"keys\" argument; provide using options {\"keys\": keygrip}");this.keys=options;}else {this.keys=Array.isArray(options.keys)?new Keygrip(options.keys):options.keys;this.secure=options.secure;}}}Cookies.prototype.get=function(name,opts){var sigName=name+".sig",header,match,value,remote,data,index,signed=opts&&opts.signed!==undefined?opts.signed:!!this.keys;header=this.request.headers["cookie"];if(!header)return;match=header.match(getPattern(name));if(!match)return;value=match[1];if(!opts||!signed)return value;remote=this.get(sigName);if(!remote)return;data=name+"="+value;if(!this.keys)throw new Error(".keys required for signed cookies");index=this.keys.index(data,remote);if(index<0){this.set(sigName,null,{path:"/",signed:false});}else {index&&this.set(sigName,this.keys.sign(data),{signed:false});return value}};Cookies.prototype.set=function(name,value,opts){var res=this.response,req=this.request,headers=res.getHeader("Set-Cookie")||[],secure=this.secure!==undefined?!!this.secure:req.protocol==="https"||req.connection.encrypted,cookie=new Cookie(name,value,opts),signed=opts&&opts.signed!==undefined?opts.signed:!!this.keys;if(typeof headers=="string")headers=[headers];if(!secure&&opts&&opts.secure){throw new Error("Cannot send secure cookie over unencrypted connection")}cookie.secure=opts&&opts.secure!==undefined?opts.secure:secure;if(opts&&"secureProxy"in opts){deprecate$1("\"secureProxy\" option; use \"secure\" option, provide \"secure\" to constructor if needed");cookie.secure=opts.secureProxy;}pushCookie(headers,cookie);if(opts&&signed){if(!this.keys)throw new Error(".keys required for signed cookies");cookie.value=this.keys.sign(cookie.toString());cookie.name+=".sig";pushCookie(headers,cookie);}var setHeader=res.set?http$2.OutgoingMessage.prototype.setHeader:res.setHeader;setHeader.call(res,"Set-Cookie",headers);return this};function Cookie(name,value,attrs){if(!fieldContentRegExp.test(name)){throw new TypeError("argument name is invalid")}if(value&&!fieldContentRegExp.test(value)){throw new TypeError("argument value is invalid")}this.name=name;this.value=value||"";for(var name in attrs){this[name]=attrs[name];}if(!this.value){this.expires=new Date(0);this.maxAge=null;}if(this.path&&!fieldContentRegExp.test(this.path)){throw new TypeError("option path is invalid")}if(this.domain&&!fieldContentRegExp.test(this.domain)){throw new TypeError("option domain is invalid")}if(this.sameSite&&this.sameSite!==true&&!SAME_SITE_REGEXP.test(this.sameSite)){throw new TypeError("option sameSite is invalid")}}Cookie.prototype.path="/";Cookie.prototype.expires=undefined;Cookie.prototype.domain=undefined;Cookie.prototype.httpOnly=true;Cookie.prototype.sameSite=false;Cookie.prototype.secure=false;Cookie.prototype.overwrite=false;Cookie.prototype.toString=function(){return this.name+"="+this.value};Cookie.prototype.toHeader=function(){var header=this.toString();if(this.maxAge)this.expires=new Date(Date.now()+this.maxAge);if(this.path)header+="; path="+this.path;if(this.expires)header+="; expires="+this.expires.toUTCString();if(this.domain)header+="; domain="+this.domain;if(this.sameSite)header+="; samesite="+(this.sameSite===true?"strict":this.sameSite.toLowerCase());if(this.secure)header+="; secure";if(this.httpOnly)header+="; httponly";return header};Object.defineProperty(Cookie.prototype,"maxage",{configurable:true,enumerable:true,get:function(){return this.maxAge},set:function(val){return this.maxAge=val}});deprecate$1.property(Cookie.prototype,"maxage","\"maxage\"; use \"maxAge\" instead");function getPattern(name){if(cache[name])return cache[name];return cache[name]=new RegExp("(?:^|;) *"+name.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)")}function pushCookie(headers,cookie){if(cookie.overwrite){for(var i=headers.length-1;i>=0;i--){if(headers[i].indexOf(cookie.name+"=")===0){headers.splice(i,1);}}}headers.push(cookie.toHeader());}Cookies.connect=Cookies.express=function(keys){return function(req,res,next){req.cookies=res.cookies=new Cookies(req,res,{keys:keys});next();}};Cookies.Cookie=Cookie;var cookies=Cookies;

(function(module){const util=require$$9;const createError=httpErrors.exports;const httpAssert$1=httpAssert;const delegate=delegates;const statuses=statuses$1;const Cookies=cookies;const COOKIES=Symbol("context#cookies");const proto=module.exports={inspect(){if(this===proto)return this;return this.toJSON()},toJSON(){return {request:this.request.toJSON(),response:this.response.toJSON(),app:this.app.toJSON(),originalUrl:this.originalUrl,req:"<original node req>",res:"<original node res>",socket:"<original node socket>"}},assert:httpAssert$1,throw(...args){throw createError(...args)},onerror(err){if(null==err)return;const isNativeError=Object.prototype.toString.call(err)==="[object Error]"||err instanceof Error;if(!isNativeError)err=new Error(util.format("non-error thrown: %j",err));let headerSent=false;if(this.headerSent||!this.writable){headerSent=err.headerSent=true;}this.app.emit("error",err,this);if(headerSent){return}const{res}=this;if(typeof res.getHeaderNames==="function"){res.getHeaderNames().forEach(name=>res.removeHeader(name));}else {res._headers={};}this.set(err.headers);this.type="text";let statusCode=err.status||err.statusCode;if("ENOENT"===err.code)statusCode=404;if("number"!==typeof statusCode||!statuses[statusCode])statusCode=500;const code=statuses[statusCode];const msg=err.expose?err.message:code;this.status=err.status=statusCode;this.length=Buffer.byteLength(msg);res.end(msg);},get cookies(){if(!this[COOKIES]){this[COOKIES]=new Cookies(this.req,this.res,{keys:this.app.keys,secure:this.request.secure});}return this[COOKIES]},set cookies(_cookies){this[COOKIES]=_cookies;}};if(util.inspect.custom){module.exports[util.inspect.custom]=module.exports.inspect;}delegate(proto,"response").method("attachment").method("redirect").method("remove").method("vary").method("has").method("set").method("append").method("flushHeaders").access("status").access("message").access("body").access("length").access("type").access("lastModified").access("etag").getter("headerSent").getter("writable");delegate(proto,"request").method("acceptsLanguages").method("acceptsEncodings").method("acceptsCharsets").method("accepts").method("get").method("is").access("querystring").access("idempotent").access("socket").access("search").access("method").access("query").access("path").access("url").access("accept").getter("origin").getter("href").getter("subdomains").getter("protocol").getter("host").getter("hostname").getter("URL").getter("header").getter("headers").getter("secure").getter("stale").getter("fresh").getter("ips").getter("ip");})(context$1);

var request$1 = {exports: {}};

var negotiator = {exports: {}};

var charset = {exports: {}};

charset.exports=preferredCharsets;charset.exports.preferredCharsets=preferredCharsets;var simpleCharsetRegExp=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function parseAcceptCharset(accept){var accepts=accept.split(",");for(var i=0,j=0;i<accepts.length;i++){var charset=parseCharset(accepts[i].trim(),i);if(charset){accepts[j++]=charset;}}accepts.length=j;return accepts}function parseCharset(str,i){var match=simpleCharsetRegExp.exec(str);if(!match)return null;var charset=match[1];var q=1;if(match[2]){var params=match[2].split(";");for(var j=0;j<params.length;j++){var p=params[j].trim().split("=");if(p[0]==="q"){q=parseFloat(p[1]);break}}}return {charset:charset,q:q,i:i}}function getCharsetPriority(charset,accepted,index){var priority={o:-1,q:0,s:0};for(var i=0;i<accepted.length;i++){var spec=specify$3(charset,accepted[i],index);if(spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0){priority=spec;}}return priority}function specify$3(charset,spec,index){var s=0;if(spec.charset.toLowerCase()===charset.toLowerCase()){s|=1;}else if(spec.charset!=="*"){return null}return {i:index,o:spec.i,q:spec.q,s:s}}function preferredCharsets(accept,provided){var accepts=parseAcceptCharset(accept===undefined?"*":accept||"");if(!provided){return accepts.filter(isQuality$3).sort(compareSpecs$3).map(getFullCharset)}var priorities=provided.map(function getPriority(type,index){return getCharsetPriority(type,accepts,index)});return priorities.filter(isQuality$3).sort(compareSpecs$3).map(function getCharset(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs$3(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function getFullCharset(spec){return spec.charset}function isQuality$3(spec){return spec.q>0}

var encoding = {exports: {}};

encoding.exports=preferredEncodings;encoding.exports.preferredEncodings=preferredEncodings;var simpleEncodingRegExp=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function parseAcceptEncoding(accept){var accepts=accept.split(",");var hasIdentity=false;var minQuality=1;for(var i=0,j=0;i<accepts.length;i++){var encoding=parseEncoding(accepts[i].trim(),i);if(encoding){accepts[j++]=encoding;hasIdentity=hasIdentity||specify$2("identity",encoding);minQuality=Math.min(minQuality,encoding.q||1);}}if(!hasIdentity){accepts[j++]={encoding:"identity",q:minQuality,i:i};}accepts.length=j;return accepts}function parseEncoding(str,i){var match=simpleEncodingRegExp.exec(str);if(!match)return null;var encoding=match[1];var q=1;if(match[2]){var params=match[2].split(";");for(var j=0;j<params.length;j++){var p=params[j].trim().split("=");if(p[0]==="q"){q=parseFloat(p[1]);break}}}return {encoding:encoding,q:q,i:i}}function getEncodingPriority(encoding,accepted,index){var priority={o:-1,q:0,s:0};for(var i=0;i<accepted.length;i++){var spec=specify$2(encoding,accepted[i],index);if(spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0){priority=spec;}}return priority}function specify$2(encoding,spec,index){var s=0;if(spec.encoding.toLowerCase()===encoding.toLowerCase()){s|=1;}else if(spec.encoding!=="*"){return null}return {i:index,o:spec.i,q:spec.q,s:s}}function preferredEncodings(accept,provided){var accepts=parseAcceptEncoding(accept||"");if(!provided){return accepts.filter(isQuality$2).sort(compareSpecs$2).map(getFullEncoding)}var priorities=provided.map(function getPriority(type,index){return getEncodingPriority(type,accepts,index)});return priorities.filter(isQuality$2).sort(compareSpecs$2).map(function getEncoding(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs$2(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function getFullEncoding(spec){return spec.encoding}function isQuality$2(spec){return spec.q>0}

var language = {exports: {}};

language.exports=preferredLanguages;language.exports.preferredLanguages=preferredLanguages;var simpleLanguageRegExp=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function parseAcceptLanguage(accept){var accepts=accept.split(",");for(var i=0,j=0;i<accepts.length;i++){var language=parseLanguage(accepts[i].trim(),i);if(language){accepts[j++]=language;}}accepts.length=j;return accepts}function parseLanguage(str,i){var match=simpleLanguageRegExp.exec(str);if(!match)return null;var prefix=match[1],suffix=match[2],full=prefix;if(suffix)full+="-"+suffix;var q=1;if(match[3]){var params=match[3].split(";");for(var j=0;j<params.length;j++){var p=params[j].split("=");if(p[0]==="q")q=parseFloat(p[1]);}}return {prefix:prefix,suffix:suffix,q:q,i:i,full:full}}function getLanguagePriority(language,accepted,index){var priority={o:-1,q:0,s:0};for(var i=0;i<accepted.length;i++){var spec=specify$1(language,accepted[i],index);if(spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0){priority=spec;}}return priority}function specify$1(language,spec,index){var p=parseLanguage(language);if(!p)return null;var s=0;if(spec.full.toLowerCase()===p.full.toLowerCase()){s|=4;}else if(spec.prefix.toLowerCase()===p.full.toLowerCase()){s|=2;}else if(spec.full.toLowerCase()===p.prefix.toLowerCase()){s|=1;}else if(spec.full!=="*"){return null}return {i:index,o:spec.i,q:spec.q,s:s}}function preferredLanguages(accept,provided){var accepts=parseAcceptLanguage(accept===undefined?"*":accept||"");if(!provided){return accepts.filter(isQuality$1).sort(compareSpecs$1).map(getFullLanguage)}var priorities=provided.map(function getPriority(type,index){return getLanguagePriority(type,accepts,index)});return priorities.filter(isQuality$1).sort(compareSpecs$1).map(function getLanguage(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs$1(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function getFullLanguage(spec){return spec.full}function isQuality$1(spec){return spec.q>0}

var mediaType = {exports: {}};

mediaType.exports=preferredMediaTypes;mediaType.exports.preferredMediaTypes=preferredMediaTypes;var simpleMediaTypeRegExp=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function parseAccept(accept){var accepts=splitMediaTypes(accept);for(var i=0,j=0;i<accepts.length;i++){var mediaType=parseMediaType(accepts[i].trim(),i);if(mediaType){accepts[j++]=mediaType;}}accepts.length=j;return accepts}function parseMediaType(str,i){var match=simpleMediaTypeRegExp.exec(str);if(!match)return null;var params=Object.create(null);var q=1;var subtype=match[2];var type=match[1];if(match[3]){var kvps=splitParameters(match[3]).map(splitKeyValuePair);for(var j=0;j<kvps.length;j++){var pair=kvps[j];var key=pair[0].toLowerCase();var val=pair[1];var value=val&&val[0]==="\""&&val[val.length-1]==="\""?val.substr(1,val.length-2):val;if(key==="q"){q=parseFloat(value);break}params[key]=value;}}return {type:type,subtype:subtype,params:params,q:q,i:i}}function getMediaTypePriority(type,accepted,index){var priority={o:-1,q:0,s:0};for(var i=0;i<accepted.length;i++){var spec=specify(type,accepted[i],index);if(spec&&(priority.s-spec.s||priority.q-spec.q||priority.o-spec.o)<0){priority=spec;}}return priority}function specify(type,spec,index){var p=parseMediaType(type);var s=0;if(!p){return null}if(spec.type.toLowerCase()==p.type.toLowerCase()){s|=4;}else if(spec.type!="*"){return null}if(spec.subtype.toLowerCase()==p.subtype.toLowerCase()){s|=2;}else if(spec.subtype!="*"){return null}var keys=Object.keys(spec.params);if(keys.length>0){if(keys.every(function(k){return spec.params[k]=="*"||(spec.params[k]||"").toLowerCase()==(p.params[k]||"").toLowerCase()})){s|=1;}else {return null}}return {i:index,o:spec.i,q:spec.q,s:s}}function preferredMediaTypes(accept,provided){var accepts=parseAccept(accept===undefined?"*/*":accept||"");if(!provided){return accepts.filter(isQuality).sort(compareSpecs).map(getFullType)}var priorities=provided.map(function getPriority(type,index){return getMediaTypePriority(type,accepts,index)});return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority){return provided[priorities.indexOf(priority)]})}function compareSpecs(a,b){return b.q-a.q||b.s-a.s||a.o-b.o||a.i-b.i||0}function getFullType(spec){return spec.type+"/"+spec.subtype}function isQuality(spec){return spec.q>0}function quoteCount(string){var count=0;var index=0;while((index=string.indexOf("\"",index))!==-1){count++;index++;}return count}function splitKeyValuePair(str){var index=str.indexOf("=");var key;var val;if(index===-1){key=str;}else {key=str.substr(0,index);val=str.substr(index+1);}return [key,val]}function splitMediaTypes(accept){var accepts=accept.split(",");for(var i=1,j=0;i<accepts.length;i++){if(quoteCount(accepts[j])%2==0){accepts[++j]=accepts[i];}else {accepts[j]+=","+accepts[i];}}accepts.length=j+1;return accepts}function splitParameters(str){var parameters=str.split(";");for(var i=1,j=0;i<parameters.length;i++){if(quoteCount(parameters[j])%2==0){parameters[++j]=parameters[i];}else {parameters[j]+=";"+parameters[i];}}parameters.length=j+1;for(var i=0;i<parameters.length;i++){parameters[i]=parameters[i].trim();}return parameters}

var modules=Object.create(null);negotiator.exports=Negotiator$1;negotiator.exports.Negotiator=Negotiator$1;function Negotiator$1(request){if(!(this instanceof Negotiator$1)){return new Negotiator$1(request)}this.request=request;}Negotiator$1.prototype.charset=function charset(available){var set=this.charsets(available);return set&&set[0]};Negotiator$1.prototype.charsets=function charsets(available){var preferredCharsets=loadModule("charset").preferredCharsets;return preferredCharsets(this.request.headers["accept-charset"],available)};Negotiator$1.prototype.encoding=function encoding(available){var set=this.encodings(available);return set&&set[0]};Negotiator$1.prototype.encodings=function encodings(available){var preferredEncodings=loadModule("encoding").preferredEncodings;return preferredEncodings(this.request.headers["accept-encoding"],available)};Negotiator$1.prototype.language=function language(available){var set=this.languages(available);return set&&set[0]};Negotiator$1.prototype.languages=function languages(available){var preferredLanguages=loadModule("language").preferredLanguages;return preferredLanguages(this.request.headers["accept-language"],available)};Negotiator$1.prototype.mediaType=function mediaType(available){var set=this.mediaTypes(available);return set&&set[0]};Negotiator$1.prototype.mediaTypes=function mediaTypes(available){var preferredMediaTypes=loadModule("mediaType").preferredMediaTypes;return preferredMediaTypes(this.request.headers.accept,available)};Negotiator$1.prototype.preferredCharset=Negotiator$1.prototype.charset;Negotiator$1.prototype.preferredCharsets=Negotiator$1.prototype.charsets;Negotiator$1.prototype.preferredEncoding=Negotiator$1.prototype.encoding;Negotiator$1.prototype.preferredEncodings=Negotiator$1.prototype.encodings;Negotiator$1.prototype.preferredLanguage=Negotiator$1.prototype.language;Negotiator$1.prototype.preferredLanguages=Negotiator$1.prototype.languages;Negotiator$1.prototype.preferredMediaType=Negotiator$1.prototype.mediaType;Negotiator$1.prototype.preferredMediaTypes=Negotiator$1.prototype.mediaTypes;function loadModule(moduleName){var module=modules[moduleName];if(module!==undefined){return module}switch(moduleName){case"charset":module=charset.exports;break;case"encoding":module=encoding.exports;break;case"language":module=language.exports;break;case"mediaType":module=mediaType.exports;break;default:throw new Error("Cannot find module '"+moduleName+"'");}modules[moduleName]=module;return module}

var Negotiator=negotiator.exports;var mime=mimeTypes$1;var accepts=Accepts;function Accepts(req){if(!(this instanceof Accepts)){return new Accepts(req)}this.headers=req.headers;this.negotiator=new Negotiator(req);}Accepts.prototype.type=Accepts.prototype.types=function(types_){var types=types_;if(types&&!Array.isArray(types)){types=new Array(arguments.length);for(var i=0;i<types.length;i++){types[i]=arguments[i];}}if(!types||types.length===0){return this.negotiator.mediaTypes()}if(!this.headers.accept){return types[0]}var mimes=types.map(extToMime);var accepts=this.negotiator.mediaTypes(mimes.filter(validMime));var first=accepts[0];return first?types[mimes.indexOf(first)]:false};Accepts.prototype.encoding=Accepts.prototype.encodings=function(encodings_){var encodings=encodings_;if(encodings&&!Array.isArray(encodings)){encodings=new Array(arguments.length);for(var i=0;i<encodings.length;i++){encodings[i]=arguments[i];}}if(!encodings||encodings.length===0){return this.negotiator.encodings()}return this.negotiator.encodings(encodings)[0]||false};Accepts.prototype.charset=Accepts.prototype.charsets=function(charsets_){var charsets=charsets_;if(charsets&&!Array.isArray(charsets)){charsets=new Array(arguments.length);for(var i=0;i<charsets.length;i++){charsets[i]=arguments[i];}}if(!charsets||charsets.length===0){return this.negotiator.charsets()}return this.negotiator.charsets(charsets)[0]||false};Accepts.prototype.lang=Accepts.prototype.langs=Accepts.prototype.language=Accepts.prototype.languages=function(languages_){var languages=languages_;if(languages&&!Array.isArray(languages)){languages=new Array(arguments.length);for(var i=0;i<languages.length;i++){languages[i]=arguments[i];}}if(!languages||languages.length===0){return this.negotiator.languages()}return this.negotiator.languages(languages)[0]||false};function extToMime(type){return type.indexOf("/")===-1?mime.lookup(type):type}function validMime(type){return typeof type==="string"}

var contentType = {};

var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g;var TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/;var TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;var QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g;var QUOTE_REGEXP=/([\\"])/g;var TYPE_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=format;contentType.parse=parse$9;function format(obj){if(!obj||typeof obj!=="object"){throw new TypeError("argument obj is required")}var parameters=obj.parameters;var type=obj.type;if(!type||!TYPE_REGEXP.test(type)){throw new TypeError("invalid type")}var string=type;if(parameters&&typeof parameters==="object"){var param;var params=Object.keys(parameters).sort();for(var i=0;i<params.length;i++){param=params[i];if(!TOKEN_REGEXP.test(param)){throw new TypeError("invalid parameter name")}string+="; "+param+"="+qstring(parameters[param]);}}return string}function parse$9(string){if(!string){throw new TypeError("argument string is required")}var header=typeof string==="object"?getcontenttype(string):string;if(typeof header!=="string"){throw new TypeError("argument string is required to be a string")}var index=header.indexOf(";");var type=index!==-1?header.substr(0,index).trim():header.trim();if(!TYPE_REGEXP.test(type)){throw new TypeError("invalid media type")}var obj=new ContentType(type.toLowerCase());if(index!==-1){var key;var match;var value;PARAM_REGEXP.lastIndex=index;while(match=PARAM_REGEXP.exec(header)){if(match.index!==index){throw new TypeError("invalid parameter format")}index+=match[0].length;key=match[1].toLowerCase();value=match[2];if(value[0]==="\""){value=value.substr(1,value.length-2).replace(QESC_REGEXP,"$1");}obj.parameters[key]=value;}if(index!==header.length){throw new TypeError("invalid parameter format")}}return obj}function getcontenttype(obj){var header;if(typeof obj.getHeader==="function"){header=obj.getHeader("content-type");}else if(typeof obj.headers==="object"){header=obj.headers&&obj.headers["content-type"];}if(typeof header!=="string"){throw new TypeError("content-type header is missing from object")}return header}function qstring(val){var str=String(val);if(TOKEN_REGEXP.test(str)){return str}if(str.length>0&&!TEXT_REGEXP.test(str)){throw new TypeError("invalid parameter value")}return "\""+str.replace(QUOTE_REGEXP,"\\$1")+"\""}function ContentType(type){this.parameters=Object.create(null);this.type=type;}

var parseurl$1 = {exports: {}};

var url=require$$0$9;var parse$8=url.parse;var Url=url.Url;parseurl$1.exports=parseurl;parseurl$1.exports.original=originalurl;function parseurl(req){var url=req.url;if(url===undefined){return undefined}var parsed=req._parsedUrl;if(fresh$1(url,parsed)){return parsed}parsed=fastparse(url);parsed._raw=url;return req._parsedUrl=parsed}function originalurl(req){var url=req.originalUrl;if(typeof url!=="string"){return parseurl(req)}var parsed=req._parsedOriginalUrl;if(fresh$1(url,parsed)){return parsed}parsed=fastparse(url);parsed._raw=url;return req._parsedOriginalUrl=parsed}function fastparse(str){if(typeof str!=="string"||str.charCodeAt(0)!==47){return parse$8(str)}var pathname=str;var query=null;var search=null;for(var i=1;i<str.length;i++){switch(str.charCodeAt(i)){case 63:if(search===null){pathname=str.substring(0,i);query=str.substring(i+1);search=str.substring(i);}break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return parse$8(str);}}var url=Url!==undefined?new Url:{};url.path=str;url.href=str;url.pathname=pathname;if(search!==null){url.query=query;url.search=search;}return url}function fresh$1(url,parsedUrl){return typeof parsedUrl==="object"&&parsedUrl!==null&&(Url===undefined||parsedUrl instanceof Url)&&parsedUrl._raw===url}

var CACHE_CONTROL_NO_CACHE_REGEXP=/(?:^|,)\s*?no-cache\s*?(?:,|$)/;var fresh_1=fresh;function fresh(reqHeaders,resHeaders){var modifiedSince=reqHeaders["if-modified-since"];var noneMatch=reqHeaders["if-none-match"];if(!modifiedSince&&!noneMatch){return false}var cacheControl=reqHeaders["cache-control"];if(cacheControl&&CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)){return false}if(noneMatch&&noneMatch!=="*"){var etag=resHeaders["etag"];if(!etag){return false}var etagStale=true;var matches=parseTokenList(noneMatch);for(var i=0;i<matches.length;i++){var match=matches[i];if(match===etag||match==="W/"+etag||"W/"+match===etag){etagStale=false;break}}if(etagStale){return false}}if(modifiedSince){var lastModified=resHeaders["last-modified"];var modifiedStale=!lastModified||!(parseHttpDate(lastModified)<=parseHttpDate(modifiedSince));if(modifiedStale){return false}}return true}function parseHttpDate(date){var timestamp=date&&Date.parse(date);return typeof timestamp==="number"?timestamp:NaN}function parseTokenList(str){var end=0;var list=[];var start=0;for(var i=0,len=str.length;i<len;i++){switch(str.charCodeAt(i)){case 32:if(start===end){start=end=i+1;}break;case 44:list.push(str.substring(start,end));start=end=i+1;break;default:end=i+1;break;}}list.push(str.substring(start,end));return list}

(function(module){const URL=require$$0$9.URL;const net=require$$1$1;const accepts$1=accepts;const contentType$1=contentType;const stringify=require$$0$9.format;const parse=parseurl$1.exports;const qs=require$$5$1;const typeis=typeIs.exports;const fresh=fresh_1;const only=only$1;const util=require$$9;const IP=Symbol("context#ip");module.exports={get header(){return this.req.headers},set header(val){this.req.headers=val;},get headers(){return this.req.headers},set headers(val){this.req.headers=val;},get url(){return this.req.url},set url(val){this.req.url=val;},get origin(){return `${this.protocol}://${this.host}`},get href(){if(/^https?:\/\//i.test(this.originalUrl))return this.originalUrl;return this.origin+this.originalUrl},get method(){return this.req.method},set method(val){this.req.method=val;},get path(){return parse(this.req).pathname},set path(path){const url=parse(this.req);if(url.pathname===path)return;url.pathname=path;url.path=null;this.url=stringify(url);},get query(){const str=this.querystring;const c=this._querycache=this._querycache||{};return c[str]||(c[str]=qs.parse(str))},set query(obj){this.querystring=qs.stringify(obj);},get querystring(){if(!this.req)return "";return parse(this.req).query||""},set querystring(str){const url=parse(this.req);if(url.search===`?${str}`)return;url.search=str;url.path=null;this.url=stringify(url);},get search(){if(!this.querystring)return "";return `?${this.querystring}`},set search(str){this.querystring=str;},get host(){const proxy=this.app.proxy;let host=proxy&&this.get("X-Forwarded-Host");if(!host){if(this.req.httpVersionMajor>=2)host=this.get(":authority");if(!host)host=this.get("Host");}if(!host)return "";return host.split(/\s*,\s*/,1)[0]},get hostname(){const host=this.host;if(!host)return "";if("["===host[0])return this.URL.hostname||"";return host.split(":",1)[0]},get URL(){if(!this.memoizedURL){const originalUrl=this.originalUrl||"";try{this.memoizedURL=new URL(`${this.origin}${originalUrl}`);}catch(err){this.memoizedURL=Object.create(null);}}return this.memoizedURL},get fresh(){const method=this.method;const s=this.ctx.status;if("GET"!==method&&"HEAD"!==method)return false;if(s>=200&&s<300||304===s){return fresh(this.header,this.response.header)}return false},get stale(){return !this.fresh},get idempotent(){const methods=["GET","HEAD","PUT","DELETE","OPTIONS","TRACE"];return !!~methods.indexOf(this.method)},get socket(){return this.req.socket},get charset(){try{const{parameters}=contentType$1.parse(this.req);return parameters.charset||""}catch(e){return ""}},get length(){const len=this.get("Content-Length");if(len==="")return;return ~~len},get protocol(){if(this.socket.encrypted)return "https";if(!this.app.proxy)return "http";const proto=this.get("X-Forwarded-Proto");return proto?proto.split(/\s*,\s*/,1)[0]:"http"},get secure(){return "https"===this.protocol},get ips(){const proxy=this.app.proxy;const val=this.get(this.app.proxyIpHeader);let ips=proxy&&val?val.split(/\s*,\s*/):[];if(this.app.maxIpsCount>0){ips=ips.slice(-this.app.maxIpsCount);}return ips},get ip(){if(!this[IP]){this[IP]=this.ips[0]||this.socket.remoteAddress||"";}return this[IP]},set ip(_ip){this[IP]=_ip;},get subdomains(){const offset=this.app.subdomainOffset;const hostname=this.hostname;if(net.isIP(hostname))return [];return hostname.split(".").reverse().slice(offset)},get accept(){return this._accept||(this._accept=accepts$1(this.req))},set accept(obj){this._accept=obj;},accepts(...args){return this.accept.types(...args)},acceptsEncodings(...args){return this.accept.encodings(...args)},acceptsCharsets(...args){return this.accept.charsets(...args)},acceptsLanguages(...args){return this.accept.languages(...args)},is(type,...types){return typeis(this.req,type,...types)},get type(){const type=this.get("Content-Type");if(!type)return "";return type.split(";")[0]},get(field){const req=this.req;switch(field=field.toLowerCase()){case"referer":case"referrer":return req.headers.referrer||req.headers.referer||"";default:return req.headers[field]||"";}},inspect(){if(!this.req)return;return this.toJSON()},toJSON(){return only(this,["method","url","header"])}};if(util.inspect.custom){module.exports[util.inspect.custom]=module.exports.inspect;}})(request$1);

var slice=Array.prototype.slice;var co_1=co$1["default"]=co$1.co=co$1;co$1.wrap=function(fn){createPromise.__generatorFunction__=fn;return createPromise;function createPromise(){return co$1.call(this,fn.apply(this,arguments))}};function co$1(gen){var ctx=this;var args=slice.call(arguments,1);return new Promise(function(resolve,reject){if(typeof gen==="function")gen=gen.apply(ctx,args);if(!gen||typeof gen.next!=="function")return resolve(gen);onFulfilled();function onFulfilled(res){var ret;try{ret=gen.next(res);}catch(e){return reject(e)}next(ret);}function onRejected(err){var ret;try{ret=gen.throw(err);}catch(e){return reject(e)}next(ret);}function next(ret){if(ret.done)return resolve(ret.value);var value=toPromise.call(ctx,ret.value);if(value&&isPromise(value))return value.then(onFulfilled,onRejected);return onRejected(new TypeError("You may only yield a function, promise, generator, array, or object, "+"but the following object was passed: \""+String(ret.value)+"\""))}})}function toPromise(obj){if(!obj)return obj;if(isPromise(obj))return obj;if(isGeneratorFunction$1(obj)||isGenerator(obj))return co$1.call(this,obj);if("function"==typeof obj)return thunkToPromise.call(this,obj);if(Array.isArray(obj))return arrayToPromise.call(this,obj);if(isObject$2(obj))return objectToPromise.call(this,obj);return obj}function thunkToPromise(fn){var ctx=this;return new Promise(function(resolve,reject){fn.call(ctx,function(err,res){if(err)return reject(err);if(arguments.length>2)res=slice.call(arguments,1);resolve(res);});})}function arrayToPromise(obj){return Promise.all(obj.map(toPromise,this))}function objectToPromise(obj){var results=new obj.constructor;var keys=Object.keys(obj);var promises=[];for(var i=0;i<keys.length;i++){var key=keys[i];var promise=toPromise.call(this,obj[key]);if(promise&&isPromise(promise))defer(promise,key);else results[key]=obj[key];}return Promise.all(promises).then(function(){return results});function defer(promise,key){results[key]=undefined;promises.push(promise.then(function(res){results[key]=res;}));}}function isPromise(obj){return "function"==typeof obj.then}function isGenerator(obj){return "function"==typeof obj.next&&"function"==typeof obj.throw}function isGeneratorFunction$1(obj){var constructor=obj.constructor;if(!constructor)return false;if("GeneratorFunction"===constructor.name||"GeneratorFunction"===constructor.displayName)return true;return isGenerator(constructor.prototype)}function isObject$2(val){return Object==val.constructor}

var REGISTRATION_KEY="@@any-promise/REGISTRATION",registered=null;var loader=function(root,loadImplementation){return function register(implementation,opts){implementation=implementation||null;opts=opts||{};var registerGlobal=opts.global!==false;if(registered===null&&registerGlobal){registered=root[REGISTRATION_KEY]||null;}if(registered!==null&&implementation!==null&&registered.implementation!==implementation){throw new Error("any-promise already defined as \""+registered.implementation+"\".  You can only register an implementation before the first "+" call to require(\"any-promise\") and an implementation cannot be changed")}if(registered===null){if(implementation!==null&&typeof opts.Promise!=="undefined"){registered={Promise:opts.Promise,implementation:implementation};}else {registered=loadImplementation(implementation);}if(registerGlobal){root[REGISTRATION_KEY]=registered;}}return registered}};

var register=loader(commonjsGlobal,loadImplementation);function loadImplementation(implementation){var impl=null;if(shouldPreferGlobalPromise(implementation)){impl={Promise:commonjsGlobal.Promise,implementation:"global.Promise"};}else if(implementation){var lib=commonjsRequire(implementation);impl={Promise:lib.Promise||lib,implementation:implementation};}else {impl=tryAutoDetect();}if(impl===null){throw new Error("Cannot find any-promise implementation nor"+" global.Promise. You must install polyfill or call"+" require(\"any-promise/register\") with your preferred"+" implementation, e.g. require(\"any-promise/register/bluebird\")"+" on application load prior to any require(\"any-promise\").")}return impl}function shouldPreferGlobalPromise(implementation){if(implementation){return implementation==="global.Promise"}else if(typeof commonjsGlobal.Promise!=="undefined"){var version=/v(\d+)\.(\d+)\.(\d+)/.exec(process.version);return !(version&&+version[1]==0&&+version[2]<12)}return false}function tryAutoDetect(){var libs=["es6-promise","promise","native-promise-only","bluebird","rsvp","when","q","pinkie","lie","vow"];var i=0,len=libs.length;for(;i<len;i++){try{return loadImplementation(libs[i])}catch(e){}}return null}

var anyPromise=register().Promise;

const Promise$1=anyPromise;var koaCompose=compose$3;function compose$3(middleware){if(!Array.isArray(middleware))throw new TypeError("Middleware stack must be an array!");for(const fn of middleware){if(typeof fn!=="function")throw new TypeError("Middleware must be composed of functions!")}return function(context,next){let index=-1;return dispatch(0);function dispatch(i){if(i<=index)return Promise$1.reject(new Error("next() called multiple times"));index=i;let fn=middleware[i];if(i===middleware.length)fn=next;if(!fn)return Promise$1.resolve();try{return Promise$1.resolve(fn(context,function next(){return dispatch(i+1)}))}catch(err){return Promise$1.reject(err)}}}}

const co=co_1;const compose$2=koaCompose;var koaConvert=convert$1;function convert$1(mw){if(typeof mw!=="function"){throw new TypeError("middleware must be a function")}if(mw.constructor.name!=="GeneratorFunction"){return mw}const converted=function(ctx,next){return co.call(ctx,mw.call(ctx,createGenerator(next)))};converted._name=mw._name||mw.name;return converted}function*createGenerator(next){return yield next()}convert$1.compose=function(arr){if(!Array.isArray(arr)){arr=Array.from(arguments);}return compose$2(arr.map(convert$1))};convert$1.back=function(mw){if(typeof mw!=="function"){throw new TypeError("middleware must be a function")}if(mw.constructor.name==="GeneratorFunction"){return mw}const converted=function*(next){let ctx=this;let called=false;yield Promise.resolve(mw(ctx,function(){if(called){return Promise.reject(new Error("next() called multiple times"))}called=true;return co.call(ctx,next)}));};converted._name=mw._name||mw.name;return converted};

var relative=require$$0__default.relative;var depd_1=depd;var basePath=process.cwd();function containsNamespace(str,namespace){var vals=str.split(/[ ,]+/);var ns=String(namespace).toLowerCase();for(var i=0;i<vals.length;i++){var val=vals[i];if(val&&(val==="*"||val.toLowerCase()===ns)){return true}}return false}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);var value=descriptor.value;descriptor.get=function getter(){return value};if(descriptor.writable){descriptor.set=function setter(val){return value=val};}delete descriptor.value;delete descriptor.writable;Object.defineProperty(obj,prop,descriptor);return descriptor}function createArgumentsString(arity){var str="";for(var i=0;i<arity;i++){str+=", arg"+i;}return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;if(this.message){str+=" deprecated "+this.message;}for(var i=0;i<stack.length;i++){str+="\n    at "+stack[i].toString();}return str}function depd(namespace){if(!namespace){throw new TypeError("argument namespace is required")}var stack=getStack();var site=callSiteLocation(stack[1]);var file=site[0];function deprecate(message){log.call(deprecate,message);}deprecate._file=file;deprecate._ignored=isignored(namespace);deprecate._namespace=namespace;deprecate._traced=istraced(namespace);deprecate._warned=Object.create(null);deprecate.function=wrapfunction;deprecate.property=wrapproperty;return deprecate}function eehaslisteners(emitter,type){var count=typeof emitter.listenerCount!=="function"?emitter.listeners(type).length:emitter.listenerCount(type);return count>0}function isignored(namespace){if(process.noDeprecation){return true}var str=process.env.NO_DEPRECATION||"";return containsNamespace(str,namespace)}function istraced(namespace){if(process.traceDeprecation){return true}var str=process.env.TRACE_DEPRECATION||"";return containsNamespace(str,namespace)}function log(message,site){var haslisteners=eehaslisteners(process,"deprecation");if(!haslisteners&&this._ignored){return}var caller;var callFile;var callSite;var depSite;var i=0;var seen=false;var stack=getStack();var file=this._file;if(site){depSite=site;callSite=callSiteLocation(stack[1]);callSite.name=depSite.name;file=callSite[0];}else {i=2;depSite=callSiteLocation(stack[i]);callSite=depSite;}for(;i<stack.length;i++){caller=callSiteLocation(stack[i]);callFile=caller[0];if(callFile===file){seen=true;}else if(callFile===this._file){file=this._file;}else if(seen){break}}var key=caller?depSite.join(":")+"__"+caller.join(":"):undefined;if(key!==undefined&&key in this._warned){return}this._warned[key]=true;var msg=message;if(!msg){msg=callSite===depSite||!callSite.name?defaultMessage(depSite):defaultMessage(callSite);}if(haslisteners){var err=DeprecationError(this._namespace,msg,stack.slice(i));process.emit("deprecation",err);return}var format=process.stderr.isTTY?formatColor:formatPlain;var output=format.call(this,msg,caller,stack.slice(i));process.stderr.write(output+"\n","utf8");}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>";var line=callSite.getLineNumber();var colm=callSite.getColumnNumber();if(callSite.isEval()){file=callSite.getEvalOrigin()+", "+file;}var site=[file,line,colm];site.callSite=callSite;site.name=callSite.getFunctionName();return site}function defaultMessage(site){var callSite=site.callSite;var funcName=site.name;if(!funcName){funcName="<anonymous@"+formatLocation(site)+">";}var context=callSite.getThis();var typeName=context&&callSite.getTypeName();if(typeName==="Object"){typeName=undefined;}if(typeName==="Function"){typeName=context.name||typeName;}return typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var timestamp=new Date().toUTCString();var formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    at "+stack[i].toString();}return formatted}if(caller){formatted+=" at "+formatLocation(caller);}return formatted}function formatColor(msg,caller,stack){var formatted="\x1B[36;1m"+this._namespace+"\x1B[22;39m"+" \x1B[33;1mdeprecated\x1B[22;39m"+" \x1B[0m"+msg+"\x1B[39m";if(this._traced){for(var i=0;i<stack.length;i++){formatted+="\n    \x1B[36mat "+stack[i].toString()+"\x1B[39m";}return formatted}if(caller){formatted+=" \x1B[36m"+formatLocation(caller)+"\x1B[39m";}return formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit;var obj={};var prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace;Error.stackTraceLimit=Math.max(10,limit);Error.captureStackTrace(obj);var stack=obj.stack.slice(1);Error.prepareStackTrace=prep;Error.stackTraceLimit=limit;return stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if(typeof fn!=="function"){throw new TypeError("argument fn must be a function")}var args=createArgumentsString(fn.length);var stack=getStack();var site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=new Function("fn","log","deprecate","message","site","\"use strict\"\n"+"return function ("+args+") {"+"log.call(deprecate, message, site)\n"+"return fn.apply(this, arguments)\n"+"}")(fn,log,this,message,site);return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||typeof obj!=="object"&&typeof obj!=="function"){throw new TypeError("argument obj must be object")}var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor){throw new TypeError("must call property on owner object")}if(!descriptor.configurable){throw new TypeError("property must be configurable")}var deprecate=this;var stack=getStack();var site=callSiteLocation(stack[1]);site.name=prop;if("value"in descriptor){descriptor=convertDataDescriptorToAccessor(obj,prop);}var get=descriptor.get;var set=descriptor.set;if(typeof get==="function"){descriptor.get=function getter(){log.call(deprecate,message,site);return get.apply(this,arguments)};}if(typeof set==="function"){descriptor.set=function setter(){log.call(deprecate,message,site);return set.apply(this,arguments)};}Object.defineProperty(obj,prop,descriptor);}function DeprecationError(namespace,message,stack){var error=new Error;var stackString;Object.defineProperty(error,"constructor",{value:DeprecationError});Object.defineProperty(error,"message",{configurable:true,enumerable:false,value:message,writable:true});Object.defineProperty(error,"name",{enumerable:false,configurable:true,value:"DeprecationError",writable:true});Object.defineProperty(error,"namespace",{configurable:true,enumerable:false,value:namespace,writable:true});Object.defineProperty(error,"stack",{configurable:true,enumerable:false,get:function(){if(stackString!==undefined){return stackString}return stackString=createStackString.call(this,stack)},set:function setter(val){stackString=val;}});return error}

const isGeneratorFunction=isGeneratorFunction$2;const debug$1=src$1.exports("koa:application");const onFinished=onFinished$2.exports;const response=response$1.exports;const compose$1=koaCompose$1;const context=context$1.exports;const request=request$1.exports;const statuses=statuses$1;const Emitter=require$$0$7;const util$1=require$$9;const Stream=require$$1;const http$1=require$$2;const only=only$1;const convert=koaConvert;const deprecate=depd_1("koa");const{HttpError: HttpError$2}=httpErrors.exports;application.exports=class Application extends Emitter{constructor(options){super();options=options||{};this.proxy=options.proxy||false;this.subdomainOffset=options.subdomainOffset||2;this.proxyIpHeader=options.proxyIpHeader||"X-Forwarded-For";this.maxIpsCount=options.maxIpsCount||0;this.env=options.env||process.env.NODE_ENV||"development";if(options.keys)this.keys=options.keys;this.middleware=[];this.context=Object.create(context);this.request=Object.create(request);this.response=Object.create(response);if(util$1.inspect.custom){this[util$1.inspect.custom]=this.inspect;}}listen(...args){debug$1("listen");const server=http$1.createServer(this.callback());return server.listen(...args)}toJSON(){return only(this,["subdomainOffset","proxy","env"])}inspect(){return this.toJSON()}use(fn){if(typeof fn!=="function")throw new TypeError("middleware must be a function!");if(isGeneratorFunction(fn)){deprecate("Support for generators will be removed in v3. "+"See the documentation for examples of how to convert old middleware "+"https://github.com/koajs/koa/blob/master/docs/migration.md");fn=convert(fn);}debug$1("use %s",fn._name||fn.name||"-");this.middleware.push(fn);return this}callback(){const fn=compose$1(this.middleware);if(!this.listenerCount("error"))this.on("error",this.onerror);const handleRequest=(req,res)=>{const ctx=this.createContext(req,res);return this.handleRequest(ctx,fn)};return handleRequest}handleRequest(ctx,fnMiddleware){const res=ctx.res;res.statusCode=404;const onerror=err=>ctx.onerror(err);const handleResponse=()=>respond(ctx);onFinished(res,onerror);return fnMiddleware(ctx).then(handleResponse).catch(onerror)}createContext(req,res){const context=Object.create(this.context);const request=context.request=Object.create(this.request);const response=context.response=Object.create(this.response);context.app=request.app=response.app=this;context.req=request.req=response.req=req;context.res=request.res=response.res=res;request.ctx=response.ctx=context;request.response=response;response.request=request;context.originalUrl=request.originalUrl=req.url;context.state={};return context}onerror(err){const isNativeError=Object.prototype.toString.call(err)==="[object Error]"||err instanceof Error;if(!isNativeError)throw new TypeError(util$1.format("non-error thrown: %j",err));if(404===err.status||err.expose)return;if(this.silent)return;const msg=err.stack||err.toString();console.error(`\n${msg.replace(/^/gm,"  ")}\n`);}static get default(){return Application}};function respond(ctx){if(false===ctx.respond)return;if(!ctx.writable)return;const res=ctx.res;let body=ctx.body;const code=ctx.status;if(statuses.empty[code]){ctx.body=null;return res.end()}if("HEAD"===ctx.method){if(!res.headersSent&&!ctx.response.has("Content-Length")){const{length}=ctx.response;if(Number.isInteger(length))ctx.length=length;}return res.end()}if(null==body){if(ctx.response._explicitNullBody){ctx.response.remove("Content-Type");ctx.response.remove("Transfer-Encoding");return res.end()}if(ctx.req.httpVersionMajor>=2){body=String(code);}else {body=ctx.message||String(code);}if(!res.headersSent){ctx.type="text";ctx.length=Buffer.byteLength(body);}return res.end(body)}if(Buffer.isBuffer(body))return res.end(body);if("string"===typeof body)return res.end(body);if(body instanceof Stream)return body.pipe(res);body=JSON.stringify(body);if(!res.headersSent){ctx.length=Buffer.byteLength(body);}res.end(body);}application.exports.HttpError=HttpError$2;var mod = application.exports;

const HttpError$1=mod.HttpError;

var Koa = /*#__PURE__*/Object.freeze({
  __proto__: null,
  'default': mod,
  HttpError: HttpError$1
});

var src = {exports: {}};

var browser = {exports: {}};

var s=1000;var m=s*60;var h=m*60;var d=h*24;var w=d*7;var y=d*365.25;var ms=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0){return parse$7(val)}else if(type==="number"&&isFinite(val)){return options.long?fmtLong(val):fmtShort(val)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse$7(str){str=String(str);if(str.length>100){return}var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match){return}var n=parseFloat(match[1]);var type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined;}}function fmtShort(ms){var msAbs=Math.abs(ms);if(msAbs>=d){return Math.round(ms/d)+"d"}if(msAbs>=h){return Math.round(ms/h)+"h"}if(msAbs>=m){return Math.round(ms/m)+"m"}if(msAbs>=s){return Math.round(ms/s)+"s"}return ms+"ms"}function fmtLong(ms){var msAbs=Math.abs(ms);if(msAbs>=d){return plural(ms,msAbs,d,"day")}if(msAbs>=h){return plural(ms,msAbs,h,"hour")}if(msAbs>=m){return plural(ms,msAbs,m,"minute")}if(msAbs>=s){return plural(ms,msAbs,s,"second")}return ms+" ms"}function plural(ms,msAbs,n,name){var isPlural=msAbs>=n*1.5;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}

function setup(env){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=ms;createDebug.destroy=destroy;Object.keys(env).forEach(key=>{createDebug[key]=env[key];});createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0;}return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(namespace){let prevTime;let enableOverride=null;let namespacesCache;let enabledCache;function debug(...args){if(!debug.enabled){return}const self=debug;const curr=Number(new Date);const ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;args[0]=createDebug.coerce(args[0]);if(typeof args[0]!=="string"){args.unshift("%O");}let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match,format)=>{if(match==="%%"){return "%"}index++;const formatter=createDebug.formatters[format];if(typeof formatter==="function"){const val=args[index];match=formatter.call(self,val);args.splice(index,1);index--;}return match});createDebug.formatArgs.call(self,args);const logFn=self.log||createDebug.log;logFn.apply(self,args);}debug.namespace=namespace;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(namespace);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(enableOverride!==null){return enableOverride}if(namespacesCache!==createDebug.namespaces){namespacesCache=createDebug.namespaces;enabledCache=createDebug.enabled(namespace);}return enabledCache},set:v=>{enableOverride=v;}});if(typeof createDebug.init==="function"){createDebug.init(debug);}return debug}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(typeof delimiter==="undefined"?":":delimiter)+namespace);newDebug.log=this.log;return newDebug}function enable(namespaces){createDebug.save(namespaces);createDebug.namespaces=namespaces;createDebug.names=[];createDebug.skips=[];let i;const split=(typeof namespaces==="string"?namespaces:"").split(/[\s,]+/);const len=split.length;for(i=0;i<len;i++){if(!split[i]){continue}namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$"));}else {createDebug.names.push(new RegExp("^"+namespaces+"$"));}}}function disable(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");createDebug.enable("");return namespaces}function enabled(name){if(name[name.length-1]==="*"){return true}let i;let len;for(i=0,len=createDebug.skips.length;i<len;i++){if(createDebug.skips[i].test(name)){return false}}for(i=0,len=createDebug.names.length;i<len;i++){if(createDebug.names[i].test(name)){return true}}return false}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(val){if(val instanceof Error){return val.stack||val.message}return val}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}createDebug.enable(createDebug.load());return createDebug}var common=setup;

(function(module,exports){exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage=localstorage();exports.destroy=(()=>{let warned=false;return ()=>{if(!warned){warned=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}}})();exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff);if(!this.useColors){return}const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0;let lastC=0;args[0].replace(/%[a-zA-Z%]/g,match=>{if(match==="%%"){return}index++;if(match==="%c"){lastC=index;}});args.splice(lastC,0,c);}exports.log=console.debug||console.log||(()=>{});function save(namespaces){try{if(namespaces){exports.storage.setItem("debug",namespaces);}else {exports.storage.removeItem("debug");}}catch(error){}}function load(){let r;try{r=exports.storage.getItem("debug");}catch(error){}if(!r&&typeof process!=="undefined"&&"env"in process){r=process.env.DEBUG;}return r}function localstorage(){try{return localStorage}catch(error){}}module.exports=common(exports);const{formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return "[UnexpectedJSONParseError]: "+error.message}};})(browser,browser.exports);

var node = {exports: {}};

(function(module,exports){const tty=require$$0$4;const util=require$$9;exports.init=init;exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.destroy=util.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");exports.colors=[6,2,3,4,5,1];try{const supportsColor=require("supports-color");if(supportsColor&&(supportsColor.stderr||supportsColor).level>=2){exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221];}}catch(error){}exports.inspectOpts=Object.keys(process.env).filter(key=>{return /^debug_/i.test(key)}).reduce((obj,key)=>{const prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(_,k)=>{return k.toUpperCase()});let val=process.env[key];if(/^(yes|on|true|enabled)$/i.test(val)){val=true;}else if(/^(no|off|false|disabled)$/i.test(val)){val=false;}else if(val==="null"){val=null;}else {val=Number(val);}obj[prop]=val;return obj},{});function useColors(){return "colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)}function formatArgs(args){const{namespace:name,useColors}=this;if(useColors){const c=this.color;const colorCode="\x1B[3"+(c<8?c:"8;5;"+c);const prefix=`  ${colorCode};1m${name} \u001B[0m`;args[0]=prefix+args[0].split("\n").join("\n"+prefix);args.push(colorCode+"m+"+module.exports.humanize(this.diff)+"\x1B[0m");}else {args[0]=getDate()+name+" "+args[0];}}function getDate(){if(exports.inspectOpts.hideDate){return ""}return new Date().toISOString()+" "}function log(...args){return process.stderr.write(util.format(...args)+"\n")}function save(namespaces){if(namespaces){process.env.DEBUG=namespaces;}else {delete process.env.DEBUG;}}function load(){return process.env.DEBUG}function init(debug){debug.inspectOpts={};const keys=Object.keys(exports.inspectOpts);for(let i=0;i<keys.length;i++){debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]];}}module.exports=common(exports);const{formatters}=module.exports;formatters.o=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts).split("\n").map(str=>str.trim()).join(" ")};formatters.O=function(v){this.inspectOpts.colors=this.useColors;return util.inspect(v,this.inspectOpts)};})(node,node.exports);

if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){src.exports=browser.exports;}else {src.exports=node.exports;}

var http=require$$2;var methods$1=getCurrentNodeMethods()||getBasicNodeMethods();function getCurrentNodeMethods(){return http.METHODS&&http.METHODS.map(function lowerCaseMethod(method){return method.toLowerCase()})}function getBasicNodeMethods(){return ["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]}

function lexer(str){var tokens=[];var i=0;while(i<str.length){var char=str[i];if(char==="*"||char==="+"||char==="?"){tokens.push({type:"MODIFIER",index:i,value:str[i++]});continue}if(char==="\\"){tokens.push({type:"ESCAPED_CHAR",index:i++,value:str[i++]});continue}if(char==="{"){tokens.push({type:"OPEN",index:i,value:str[i++]});continue}if(char==="}"){tokens.push({type:"CLOSE",index:i,value:str[i++]});continue}if(char===":"){var name="";var j=i+1;while(j<str.length){var code=str.charCodeAt(j);if(code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122||code===95){name+=str[j++];continue}break}if(!name)throw new TypeError("Missing parameter name at "+i);tokens.push({type:"NAME",index:i,value:name});i=j;continue}if(char==="("){var count=1;var pattern="";var j=i+1;if(str[j]==="?"){throw new TypeError("Pattern cannot start with \"?\" at "+j)}while(j<str.length){if(str[j]==="\\"){pattern+=str[j++]+str[j++];continue}if(str[j]===")"){count--;if(count===0){j++;break}}else if(str[j]==="("){count++;if(str[j+1]!=="?"){throw new TypeError("Capturing groups are not allowed at "+j)}}pattern+=str[j++];}if(count)throw new TypeError("Unbalanced pattern at "+i);if(!pattern)throw new TypeError("Missing pattern at "+i);tokens.push({type:"PATTERN",index:i,value:pattern});i=j;continue}tokens.push({type:"CHAR",index:i,value:str[i++]});}tokens.push({type:"END",index:i,value:""});return tokens}function parse$6(str,options){if(options===void 0){options={};}var tokens=lexer(str);var _a=options.prefixes,prefixes=_a===void 0?"./":_a;var defaultPattern="[^"+escapeString(options.delimiter||"/#?")+"]+?";var result=[];var key=0;var i=0;var path="";var tryConsume=function(type){if(i<tokens.length&&tokens[i].type===type)return tokens[i++].value};var mustConsume=function(type){var value=tryConsume(type);if(value!==undefined)return value;var _a=tokens[i],nextType=_a.type,index=_a.index;throw new TypeError("Unexpected "+nextType+" at "+index+", expected "+type)};var consumeText=function(){var result="";var value;while(value=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR")){result+=value;}return result};while(i<tokens.length){var char=tryConsume("CHAR");var name=tryConsume("NAME");var pattern=tryConsume("PATTERN");if(name||pattern){var prefix=char||"";if(prefixes.indexOf(prefix)===-1){path+=prefix;prefix="";}if(path){result.push(path);path="";}result.push({name:name||key++,prefix:prefix,suffix:"",pattern:pattern||defaultPattern,modifier:tryConsume("MODIFIER")||""});continue}var value=char||tryConsume("ESCAPED_CHAR");if(value){path+=value;continue}if(path){result.push(path);path="";}var open=tryConsume("OPEN");if(open){var prefix=consumeText();var name_1=tryConsume("NAME")||"";var pattern_1=tryConsume("PATTERN")||"";var suffix=consumeText();mustConsume("CLOSE");result.push({name:name_1||(pattern_1?key++:""),pattern:name_1&&!pattern_1?defaultPattern:pattern_1,prefix:prefix,suffix:suffix,modifier:tryConsume("MODIFIER")||""});continue}mustConsume("END");}return result}function compile$3(str,options){return tokensToFunction(parse$6(str,options),options)}function tokensToFunction(tokens,options){if(options===void 0){options={};}var reFlags=flags(options);var _a=options.encode,encode=_a===void 0?function(x){return x}:_a,_b=options.validate,validate=_b===void 0?true:_b;var matches=tokens.map(function(token){if(typeof token==="object"){return new RegExp("^(?:"+token.pattern+")$",reFlags)}});return function(data){var path="";for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data?data[token.name]:undefined;var optional=token.modifier==="?"||token.modifier==="*";var repeat=token.modifier==="*"||token.modifier==="+";if(Array.isArray(value)){if(!repeat){throw new TypeError("Expected \""+token.name+"\" to not repeat, but got an array")}if(value.length===0){if(optional)continue;throw new TypeError("Expected \""+token.name+"\" to not be empty")}for(var j=0;j<value.length;j++){var segment=encode(value[j],token);if(validate&&!matches[i].test(segment)){throw new TypeError("Expected all \""+token.name+"\" to match \""+token.pattern+"\", but got \""+segment+"\"")}path+=token.prefix+segment+token.suffix;}continue}if(typeof value==="string"||typeof value==="number"){var segment=encode(String(value),token);if(validate&&!matches[i].test(segment)){throw new TypeError("Expected \""+token.name+"\" to match \""+token.pattern+"\", but got \""+segment+"\"")}path+=token.prefix+segment+token.suffix;continue}if(optional)continue;var typeOfMessage=repeat?"an array":"a string";throw new TypeError("Expected \""+token.name+"\" to be "+typeOfMessage)}return path}}function match(str,options){var keys=[];var re=pathToRegexp$2(str,keys,options);return regexpToFunction(re,keys,options)}function regexpToFunction(re,keys,options){if(options===void 0){options={};}var _a=options.decode,decode=_a===void 0?function(x){return x}:_a;return function(pathname){var m=re.exec(pathname);if(!m)return false;var path=m[0],index=m.index;var params=Object.create(null);var _loop_1=function(i){if(m[i]===undefined)return "continue";var key=keys[i-1];if(key.modifier==="*"||key.modifier==="+"){params[key.name]=m[i].split(key.prefix+key.suffix).map(function(value){return decode(value,key)});}else {params[key.name]=decode(m[i],key);}};for(var i=1;i<m.length;i++){_loop_1(i);}return {path:path,index:index,params:params}}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function regexpToRegexp(path,keys){if(!keys)return path;var groupsRegex=/\((?:\?<(.*?)>)?(?!\?)/g;var index=0;var execResult=groupsRegex.exec(path.source);while(execResult){keys.push({name:execResult[1]||index++,prefix:"",suffix:"",modifier:"",pattern:""});execResult=groupsRegex.exec(path.source);}return path}function arrayToRegexp(paths,keys,options){var parts=paths.map(function(path){return pathToRegexp$2(path,keys,options).source});return new RegExp("(?:"+parts.join("|")+")",flags(options))}function stringToRegexp(path,keys,options){return tokensToRegexp(parse$6(path,options),keys,options)}function tokensToRegexp(tokens,keys,options){if(options===void 0){options={};}var _a=options.strict,strict=_a===void 0?false:_a,_b=options.start,start=_b===void 0?true:_b,_c=options.end,end=_c===void 0?true:_c,_d=options.encode,encode=_d===void 0?function(x){return x}:_d;var endsWith="["+escapeString(options.endsWith||"")+"]|$";var delimiter="["+escapeString(options.delimiter||"/#?")+"]";var route=start?"^":"";for(var _i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];if(typeof token==="string"){route+=escapeString(encode(token));}else {var prefix=escapeString(encode(token.prefix));var suffix=escapeString(encode(token.suffix));if(token.pattern){if(keys)keys.push(token);if(prefix||suffix){if(token.modifier==="+"||token.modifier==="*"){var mod=token.modifier==="*"?"?":"";route+="(?:"+prefix+"((?:"+token.pattern+")(?:"+suffix+prefix+"(?:"+token.pattern+"))*)"+suffix+")"+mod;}else {route+="(?:"+prefix+"("+token.pattern+")"+suffix+")"+token.modifier;}}else {route+="("+token.pattern+")"+token.modifier;}}else {route+="(?:"+prefix+suffix+")"+token.modifier;}}}if(end){if(!strict)route+=delimiter+"?";route+=!options.endsWith?"$":"(?="+endsWith+")";}else {var endToken=tokens[tokens.length-1];var isEndDelimited=typeof endToken==="string"?delimiter.indexOf(endToken[endToken.length-1])>-1:endToken===undefined;if(!strict){route+="(?:"+delimiter+"(?="+endsWith+"))?";}if(!isEndDelimited){route+="(?="+delimiter+"|"+endsWith+")";}}return new RegExp(route,flags(options))}function pathToRegexp$2(path,keys,options){if(path instanceof RegExp)return regexpToRegexp(path,keys);if(Array.isArray(path))return arrayToRegexp(path,keys,options);return stringToRegexp(path,keys,options)}

var dist_es2015 = /*#__PURE__*/Object.freeze({
  __proto__: null,
  parse: parse$6,
  compile: compile$3,
  tokensToFunction: tokensToFunction,
  match: match,
  regexpToFunction: regexpToFunction,
  tokensToRegexp: tokensToRegexp,
  pathToRegexp: pathToRegexp$2
});

var require$$5 = /*@__PURE__*/getAugmentedNamespace(dist_es2015);

const{pathToRegexp: pathToRegexp$1,compile: compile$2,parse: parse$5}=require$$5;const{parse:parseUrl,format:formatUrl}=require$$0$9;var layer=Layer$1;function Layer$1(path,methods,middleware,opts){this.opts=opts||{};this.name=this.opts.name||null;this.methods=[];this.paramNames=[];this.stack=Array.isArray(middleware)?middleware:[middleware];for(let i=0;i<methods.length;i++){const l=this.methods.push(methods[i].toUpperCase());if(this.methods[l-1]==="GET")this.methods.unshift("HEAD");}for(let i=0;i<this.stack.length;i++){const fn=this.stack[i];const type=typeof fn;if(type!=="function")throw new Error(`${methods.toString()} \`${this.opts.name||path}\`: \`middleware\` must be a function, not \`${type}\``)}this.path=path;this.regexp=pathToRegexp$1(path,this.paramNames,this.opts);}Layer$1.prototype.match=function(path){return this.regexp.test(path)};Layer$1.prototype.params=function(path,captures,existingParams){const params=existingParams||{};for(let len=captures.length,i=0;i<len;i++){if(this.paramNames[i]){const c=captures[i];if(c&&c.length!==0)params[this.paramNames[i].name]=c?safeDecodeURIComponent(c):c;}}return params};Layer$1.prototype.captures=function(path){return this.opts.ignoreCaptures?[]:path.match(this.regexp).slice(1)};Layer$1.prototype.url=function(params,options){let args=params;const url=this.path.replace(/\(\.\*\)/g,"");if(typeof params!="object"){args=Array.prototype.slice.call(arguments);if(typeof args[args.length-1]=="object"){options=args[args.length-1];args=args.slice(0,args.length-1);}}const toPath=compile$2(url,options);let replaced;const tokens=parse$5(url);let replace={};if(args instanceof Array){for(let len=tokens.length,i=0,j=0;i<len;i++){if(tokens[i].name)replace[tokens[i].name]=args[j++];}}else if(tokens.some(token=>token.name)){replace=params;}else if(!options){options=params;}replaced=toPath(replace);if(options&&options.query){replaced=parseUrl(replaced);if(typeof options.query==="string"){replaced.search=options.query;}else {replaced.search=undefined;replaced.query=options.query;}return formatUrl(replaced)}return replaced};Layer$1.prototype.param=function(param,fn){const stack=this.stack;const params=this.paramNames;const middleware=function(ctx,next){return fn.call(this,ctx.params[param],ctx,next)};middleware.param=param;const names=params.map(function(p){return p.name});const x=names.indexOf(param);if(x>-1){stack.some(function(fn,i){if(!fn.param||names.indexOf(fn.param)>x){stack.splice(i,0,middleware);return true}});}return this};Layer$1.prototype.setPrefix=function(prefix){if(this.path){this.path=this.path!=="/"||this.opts.strict===true?`${prefix}${this.path}`:prefix;this.paramNames=[];this.regexp=pathToRegexp$1(this.path,this.paramNames,this.opts);}return this};function safeDecodeURIComponent(text){try{return decodeURIComponent(text)}catch(e){return text}}

const debug=src.exports("koa-router");const compose=koaCompose$1;const HttpError=httpErrors.exports;const methods=methods$1;const Layer=layer;const{pathToRegexp}=require$$5;var router=Router;function Router(opts){if(!(this instanceof Router))return new Router(opts);this.opts=opts||{};this.methods=this.opts.methods||["HEAD","OPTIONS","GET","PUT","PATCH","POST","DELETE"];this.params={};this.stack=[];}for(let i=0;i<methods.length;i++){function setMethodVerb(method){Router.prototype[method]=function(name,path,middleware){if(typeof path==="string"||path instanceof RegExp){middleware=Array.prototype.slice.call(arguments,2);}else {middleware=Array.prototype.slice.call(arguments,1);path=name;name=null;}this.register(path,[method],middleware,{name:name});return this};}setMethodVerb(methods[i]);}Router.prototype.del=Router.prototype["delete"];Router.prototype.use=function(){const router=this;const middleware=Array.prototype.slice.call(arguments);let path;if(Array.isArray(middleware[0])&&typeof middleware[0][0]==="string"){let arrPaths=middleware[0];for(let i=0;i<arrPaths.length;i++){const p=arrPaths[i];router.use.apply(router,[p].concat(middleware.slice(1)));}return this}const hasPath=typeof middleware[0]==="string";if(hasPath)path=middleware.shift();for(let i=0;i<middleware.length;i++){const m=middleware[i];if(m.router){const cloneRouter=Object.assign(Object.create(Router.prototype),m.router,{stack:m.router.stack.slice(0)});for(let j=0;j<cloneRouter.stack.length;j++){const nestedLayer=cloneRouter.stack[j];const cloneLayer=Object.assign(Object.create(Layer.prototype),nestedLayer);if(path)cloneLayer.setPrefix(path);if(router.opts.prefix)cloneLayer.setPrefix(router.opts.prefix);router.stack.push(cloneLayer);cloneRouter.stack[j]=cloneLayer;}if(router.params){function setRouterParams(paramArr){const routerParams=paramArr;for(let j=0;j<routerParams.length;j++){const key=routerParams[j];cloneRouter.param(key,router.params[key]);}}setRouterParams(Object.keys(router.params));}}else {const keys=[];pathToRegexp(router.opts.prefix||"",keys);const routerPrefixHasParam=router.opts.prefix&&keys.length;router.register(path||"([^/]*)",[],m,{end:false,ignoreCaptures:!hasPath&&!routerPrefixHasParam});}}return this};Router.prototype.prefix=function(prefix){prefix=prefix.replace(/\/$/,"");this.opts.prefix=prefix;for(let i=0;i<this.stack.length;i++){const route=this.stack[i];route.setPrefix(prefix);}return this};Router.prototype.routes=Router.prototype.middleware=function(){const router=this;let dispatch=function dispatch(ctx,next){debug("%s %s",ctx.method,ctx.path);const path=router.opts.routerPath||ctx.routerPath||ctx.path;const matched=router.match(path,ctx.method);let layerChain;if(ctx.matched){ctx.matched.push.apply(ctx.matched,matched.path);}else {ctx.matched=matched.path;}ctx.router=router;if(!matched.route)return next();const matchedLayers=matched.pathAndMethod;const mostSpecificLayer=matchedLayers[matchedLayers.length-1];ctx._matchedRoute=mostSpecificLayer.path;if(mostSpecificLayer.name){ctx._matchedRouteName=mostSpecificLayer.name;}layerChain=matchedLayers.reduce(function(memo,layer){memo.push(function(ctx,next){ctx.captures=layer.captures(path,ctx.captures);ctx.params=ctx.request.params=layer.params(path,ctx.captures,ctx.params);ctx.routerPath=layer.path;ctx.routerName=layer.name;ctx._matchedRoute=layer.path;if(layer.name){ctx._matchedRouteName=layer.name;}return next()});return memo.concat(layer.stack)},[]);return compose(layerChain)(ctx,next)};dispatch.router=this;return dispatch};Router.prototype.allowedMethods=function(options){options=options||{};const implemented=this.methods;return function allowedMethods(ctx,next){return next().then(function(){const allowed={};if(!ctx.status||ctx.status===404){for(let i=0;i<ctx.matched.length;i++){const route=ctx.matched[i];for(let j=0;j<route.methods.length;j++){const method=route.methods[j];allowed[method]=method;}}const allowedArr=Object.keys(allowed);if(!~implemented.indexOf(ctx.method)){if(options.throw){let notImplementedThrowable=typeof options.notImplemented==="function"?options.notImplemented():new HttpError.NotImplemented;throw notImplementedThrowable}else {ctx.status=501;ctx.set("Allow",allowedArr.join(", "));}}else if(allowedArr.length){if(ctx.method==="OPTIONS"){ctx.status=200;ctx.body="";ctx.set("Allow",allowedArr.join(", "));}else if(!allowed[ctx.method]){if(options.throw){let notAllowedThrowable=typeof options.methodNotAllowed==="function"?options.methodNotAllowed():new HttpError.MethodNotAllowed;throw notAllowedThrowable}else {ctx.status=405;ctx.set("Allow",allowedArr.join(", "));}}}}})}};Router.prototype.all=function(name,path,middleware){if(typeof path==="string"){middleware=Array.prototype.slice.call(arguments,2);}else {middleware=Array.prototype.slice.call(arguments,1);path=name;name=null;}this.register(path,methods,middleware,{name});return this};Router.prototype.redirect=function(source,destination,code){if(source[0]!=="/")source=this.url(source);if(destination[0]!=="/"&&!destination.includes("://"))destination=this.url(destination);return this.all(source,ctx=>{ctx.redirect(destination);ctx.status=code||301;})};Router.prototype.register=function(path,methods,middleware,opts){opts=opts||{};const router=this;const stack=this.stack;if(Array.isArray(path)){for(let i=0;i<path.length;i++){const curPath=path[i];router.register.call(router,curPath,methods,middleware,opts);}return this}const route=new Layer(path,methods,middleware,{end:opts.end===false?opts.end:true,name:opts.name,sensitive:opts.sensitive||this.opts.sensitive||false,strict:opts.strict||this.opts.strict||false,prefix:opts.prefix||this.opts.prefix||"",ignoreCaptures:opts.ignoreCaptures});if(this.opts.prefix){route.setPrefix(this.opts.prefix);}for(let i=0;i<Object.keys(this.params).length;i++){const param=Object.keys(this.params)[i];route.param(param,this.params[param]);}stack.push(route);debug("defined route %s %s",route.methods,route.path);return route};Router.prototype.route=function(name){const routes=this.stack;for(let len=routes.length,i=0;i<len;i++){if(routes[i].name&&routes[i].name===name)return routes[i]}return false};Router.prototype.url=function(name,params){const route=this.route(name);if(route){const args=Array.prototype.slice.call(arguments,1);return route.url.apply(route,args)}return new Error(`No route found for name: ${name}`)};Router.prototype.match=function(path,method){const layers=this.stack;let layer;const matched={path:[],pathAndMethod:[],route:false};for(let len=layers.length,i=0;i<len;i++){layer=layers[i];debug("test %s %s",layer.path,layer.regexp);if(layer.match(path)){matched.path.push(layer);if(layer.methods.length===0||~layer.methods.indexOf(method)){matched.pathAndMethod.push(layer);if(layer.methods.length)matched.route=true;}}}return matched};Router.prototype.param=function(param,middleware){this.params[param]=middleware;for(let i=0;i<this.stack.length;i++){const route=this.stack[i];route.param(param,middleware);}return this};Router.url=function(path){const args=Array.prototype.slice.call(arguments,1);return Layer.prototype.url.apply({path},args)};

var KoaRouter = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
  __proto__: null,
  'default': router
}, [router]));

var utils$7 = {};

const path$2=require$$0__default;const WIN_SLASH="\\\\/";const WIN_NO_SLASH=`[^${WIN_SLASH}]`;const DOT_LITERAL="\\.";const PLUS_LITERAL="\\+";const QMARK_LITERAL="\\?";const SLASH_LITERAL="\\/";const ONE_CHAR="(?=.)";const QMARK="[^/]";const END_ANCHOR=`(?:${SLASH_LITERAL}|$)`;const START_ANCHOR=`(?:^|${SLASH_LITERAL})`;const DOTS_SLASH=`${DOT_LITERAL}{1,2}${END_ANCHOR}`;const NO_DOT=`(?!${DOT_LITERAL})`;const NO_DOTS=`(?!${START_ANCHOR}${DOTS_SLASH})`;const NO_DOT_SLASH=`(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;const NO_DOTS_SLASH=`(?!${DOTS_SLASH})`;const QMARK_NO_DOT=`[^.${SLASH_LITERAL}]`;const STAR$1=`${QMARK}*?`;const POSIX_CHARS={DOT_LITERAL,PLUS_LITERAL,QMARK_LITERAL,SLASH_LITERAL,ONE_CHAR,QMARK,END_ANCHOR,DOTS_SLASH,NO_DOT,NO_DOTS,NO_DOT_SLASH,NO_DOTS_SLASH,QMARK_NO_DOT,STAR: STAR$1,START_ANCHOR};const WINDOWS_CHARS={...POSIX_CHARS,SLASH_LITERAL:`[${WIN_SLASH}]`,QMARK:WIN_NO_SLASH,STAR:`${WIN_NO_SLASH}*?`,DOTS_SLASH:`${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,NO_DOT:`(?!${DOT_LITERAL})`,NO_DOTS:`(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,NO_DOT_SLASH:`(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,NO_DOTS_SLASH:`(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,QMARK_NO_DOT:`[^.${WIN_SLASH}]`,START_ANCHOR:`(?:^|[${WIN_SLASH}])`,END_ANCHOR:`(?:[${WIN_SLASH}]|$)`};const POSIX_REGEX_SOURCE$1={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var constants$4={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE: POSIX_REGEX_SOURCE$1,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:path$2.sep,extglobChars(chars){return {"!":{type:"negate",open:"(?:(?!(?:",close:`))${chars.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(win32){return win32===true?WINDOWS_CHARS:POSIX_CHARS}};

(function(exports){const path=require$$0__default;const win32=process.platform==="win32";const{REGEX_BACKSLASH,REGEX_REMOVE_BACKSLASH,REGEX_SPECIAL_CHARS,REGEX_SPECIAL_CHARS_GLOBAL}=constants$4;exports.isObject=val=>val!==null&&typeof val==="object"&&!Array.isArray(val);exports.hasRegexChars=str=>REGEX_SPECIAL_CHARS.test(str);exports.isRegexChar=str=>str.length===1&&exports.hasRegexChars(str);exports.escapeRegex=str=>str.replace(REGEX_SPECIAL_CHARS_GLOBAL,"\\$1");exports.toPosixSlashes=str=>str.replace(REGEX_BACKSLASH,"/");exports.removeBackslashes=str=>{return str.replace(REGEX_REMOVE_BACKSLASH,match=>{return match==="\\"?"":match})};exports.supportsLookbehinds=()=>{const segs=process.version.slice(1).split(".").map(Number);if(segs.length===3&&segs[0]>=9||segs[0]===8&&segs[1]>=10){return true}return false};exports.isWindows=options=>{if(options&&typeof options.windows==="boolean"){return options.windows}return win32===true||path.sep==="\\"};exports.escapeLast=(input,char,lastIdx)=>{const idx=input.lastIndexOf(char,lastIdx);if(idx===-1)return input;if(input[idx-1]==="\\")return exports.escapeLast(input,char,idx-1);return `${input.slice(0,idx)}\\${input.slice(idx)}`};exports.removePrefix=(input,state={})=>{let output=input;if(output.startsWith("./")){output=output.slice(2);state.prefix="./";}return output};exports.wrapOutput=(input,state={},options={})=>{const prepend=options.contains?"":"^";const append=options.contains?"":"$";let output=`${prepend}(?:${input})${append}`;if(state.negated===true){output=`(?:^(?!${output}).*$)`;}return output};})(utils$7);

const utils$6=utils$7;const{CHAR_ASTERISK,CHAR_AT,CHAR_BACKWARD_SLASH,CHAR_COMMA: CHAR_COMMA$1,CHAR_DOT: CHAR_DOT$1,CHAR_EXCLAMATION_MARK,CHAR_FORWARD_SLASH,CHAR_LEFT_CURLY_BRACE: CHAR_LEFT_CURLY_BRACE$1,CHAR_LEFT_PARENTHESES: CHAR_LEFT_PARENTHESES$1,CHAR_LEFT_SQUARE_BRACKET: CHAR_LEFT_SQUARE_BRACKET$1,CHAR_PLUS,CHAR_QUESTION_MARK,CHAR_RIGHT_CURLY_BRACE: CHAR_RIGHT_CURLY_BRACE$1,CHAR_RIGHT_PARENTHESES: CHAR_RIGHT_PARENTHESES$1,CHAR_RIGHT_SQUARE_BRACKET: CHAR_RIGHT_SQUARE_BRACKET$1}=constants$4;const isPathSeparator=code=>{return code===CHAR_FORWARD_SLASH||code===CHAR_BACKWARD_SLASH};const depth=token=>{if(token.isPrefix!==true){token.depth=token.isGlobstar?Infinity:1;}};const scan$1=(input,options)=>{const opts=options||{};const length=input.length-1;const scanToEnd=opts.parts===true||opts.scanToEnd===true;const slashes=[];const tokens=[];const parts=[];let str=input;let index=-1;let start=0;let lastIndex=0;let isBrace=false;let isBracket=false;let isGlob=false;let isExtglob=false;let isGlobstar=false;let braceEscaped=false;let backslashes=false;let negated=false;let negatedExtglob=false;let finished=false;let braces=0;let prev;let code;let token={value:"",depth:0,isGlob:false};const eos=()=>index>=length;const peek=()=>str.charCodeAt(index+1);const advance=()=>{prev=code;return str.charCodeAt(++index)};while(index<length){code=advance();let next;if(code===CHAR_BACKWARD_SLASH){backslashes=token.backslashes=true;code=advance();if(code===CHAR_LEFT_CURLY_BRACE$1){braceEscaped=true;}continue}if(braceEscaped===true||code===CHAR_LEFT_CURLY_BRACE$1){braces++;while(eos()!==true&&(code=advance())){if(code===CHAR_BACKWARD_SLASH){backslashes=token.backslashes=true;advance();continue}if(code===CHAR_LEFT_CURLY_BRACE$1){braces++;continue}if(braceEscaped!==true&&code===CHAR_DOT$1&&(code=advance())===CHAR_DOT$1){isBrace=token.isBrace=true;isGlob=token.isGlob=true;finished=true;if(scanToEnd===true){continue}break}if(braceEscaped!==true&&code===CHAR_COMMA$1){isBrace=token.isBrace=true;isGlob=token.isGlob=true;finished=true;if(scanToEnd===true){continue}break}if(code===CHAR_RIGHT_CURLY_BRACE$1){braces--;if(braces===0){braceEscaped=false;isBrace=token.isBrace=true;finished=true;break}}}if(scanToEnd===true){continue}break}if(code===CHAR_FORWARD_SLASH){slashes.push(index);tokens.push(token);token={value:"",depth:0,isGlob:false};if(finished===true)continue;if(prev===CHAR_DOT$1&&index===start+1){start+=2;continue}lastIndex=index+1;continue}if(opts.noext!==true){const isExtglobChar=code===CHAR_PLUS||code===CHAR_AT||code===CHAR_ASTERISK||code===CHAR_QUESTION_MARK||code===CHAR_EXCLAMATION_MARK;if(isExtglobChar===true&&peek()===CHAR_LEFT_PARENTHESES$1){isGlob=token.isGlob=true;isExtglob=token.isExtglob=true;finished=true;if(code===CHAR_EXCLAMATION_MARK&&index===start){negatedExtglob=true;}if(scanToEnd===true){while(eos()!==true&&(code=advance())){if(code===CHAR_BACKWARD_SLASH){backslashes=token.backslashes=true;code=advance();continue}if(code===CHAR_RIGHT_PARENTHESES$1){isGlob=token.isGlob=true;finished=true;break}}continue}break}}if(code===CHAR_ASTERISK){if(prev===CHAR_ASTERISK)isGlobstar=token.isGlobstar=true;isGlob=token.isGlob=true;finished=true;if(scanToEnd===true){continue}break}if(code===CHAR_QUESTION_MARK){isGlob=token.isGlob=true;finished=true;if(scanToEnd===true){continue}break}if(code===CHAR_LEFT_SQUARE_BRACKET$1){while(eos()!==true&&(next=advance())){if(next===CHAR_BACKWARD_SLASH){backslashes=token.backslashes=true;advance();continue}if(next===CHAR_RIGHT_SQUARE_BRACKET$1){isBracket=token.isBracket=true;isGlob=token.isGlob=true;finished=true;break}}if(scanToEnd===true){continue}break}if(opts.nonegate!==true&&code===CHAR_EXCLAMATION_MARK&&index===start){negated=token.negated=true;start++;continue}if(opts.noparen!==true&&code===CHAR_LEFT_PARENTHESES$1){isGlob=token.isGlob=true;if(scanToEnd===true){while(eos()!==true&&(code=advance())){if(code===CHAR_LEFT_PARENTHESES$1){backslashes=token.backslashes=true;code=advance();continue}if(code===CHAR_RIGHT_PARENTHESES$1){finished=true;break}}continue}break}if(isGlob===true){finished=true;if(scanToEnd===true){continue}break}}if(opts.noext===true){isExtglob=false;isGlob=false;}let base=str;let prefix="";let glob="";if(start>0){prefix=str.slice(0,start);str=str.slice(start);lastIndex-=start;}if(base&&isGlob===true&&lastIndex>0){base=str.slice(0,lastIndex);glob=str.slice(lastIndex);}else if(isGlob===true){base="";glob=str;}else {base=str;}if(base&&base!==""&&base!=="/"&&base!==str){if(isPathSeparator(base.charCodeAt(base.length-1))){base=base.slice(0,-1);}}if(opts.unescape===true){if(glob)glob=utils$6.removeBackslashes(glob);if(base&&backslashes===true){base=utils$6.removeBackslashes(base);}}const state={prefix,input,start,base,glob,isBrace,isBracket,isGlob,isExtglob,isGlobstar,negated,negatedExtglob};if(opts.tokens===true){state.maxDepth=0;if(!isPathSeparator(code)){tokens.push(token);}state.tokens=tokens;}if(opts.parts===true||opts.tokens===true){let prevIndex;for(let idx=0;idx<slashes.length;idx++){const n=prevIndex?prevIndex+1:start;const i=slashes[idx];const value=input.slice(n,i);if(opts.tokens){if(idx===0&&start!==0){tokens[idx].isPrefix=true;tokens[idx].value=prefix;}else {tokens[idx].value=value;}depth(tokens[idx]);state.maxDepth+=tokens[idx].depth;}if(idx!==0||value!==""){parts.push(value);}prevIndex=i;}if(prevIndex&&prevIndex+1<input.length){const value=input.slice(prevIndex+1);parts.push(value);if(opts.tokens){tokens[tokens.length-1].value=value;depth(tokens[tokens.length-1]);state.maxDepth+=tokens[tokens.length-1].depth;}}state.slashes=slashes;state.parts=parts;}return state};var scan_1=scan$1;

const constants$3=constants$4;const utils$5=utils$7;const{MAX_LENGTH: MAX_LENGTH$1,POSIX_REGEX_SOURCE,REGEX_NON_SPECIAL_CHARS,REGEX_SPECIAL_CHARS_BACKREF,REPLACEMENTS}=constants$3;const expandRange=(args,options)=>{if(typeof options.expandRange==="function"){return options.expandRange(...args,options)}args.sort();const value=`[${args.join("-")}]`;try{new RegExp(value);}catch(ex){return args.map(v=>utils$5.escapeRegex(v)).join("..")}return value};const syntaxError=(type,char)=>{return `Missing ${type}: "${char}" - use "\\\\${char}" to match literal characters`};const parse$4=(input,options)=>{if(typeof input!=="string"){throw new TypeError("Expected a string")}input=REPLACEMENTS[input]||input;const opts={...options};const max=typeof opts.maxLength==="number"?Math.min(MAX_LENGTH$1,opts.maxLength):MAX_LENGTH$1;let len=input.length;if(len>max){throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`)}const bos={type:"bos",value:"",output:opts.prepend||""};const tokens=[bos];const capture=opts.capture?"":"?:";const win32=utils$5.isWindows(options);const PLATFORM_CHARS=constants$3.globChars(win32);const EXTGLOB_CHARS=constants$3.extglobChars(PLATFORM_CHARS);const{DOT_LITERAL,PLUS_LITERAL,SLASH_LITERAL,ONE_CHAR,DOTS_SLASH,NO_DOT,NO_DOT_SLASH,NO_DOTS_SLASH,QMARK,QMARK_NO_DOT,STAR,START_ANCHOR}=PLATFORM_CHARS;const globstar=opts=>{return `(${capture}(?:(?!${START_ANCHOR}${opts.dot?DOTS_SLASH:DOT_LITERAL}).)*?)`};const nodot=opts.dot?"":NO_DOT;const qmarkNoDot=opts.dot?QMARK:QMARK_NO_DOT;let star=opts.bash===true?globstar(opts):STAR;if(opts.capture){star=`(${star})`;}if(typeof opts.noext==="boolean"){opts.noextglob=opts.noext;}const state={input,index:-1,start:0,dot:opts.dot===true,consumed:"",output:"",prefix:"",backtrack:false,negated:false,brackets:0,braces:0,parens:0,quotes:0,globstar:false,tokens};input=utils$5.removePrefix(input,state);len=input.length;const extglobs=[];const braces=[];const stack=[];let prev=bos;let value;const eos=()=>state.index===len-1;const peek=state.peek=(n=1)=>input[state.index+n];const advance=state.advance=()=>input[++state.index]||"";const remaining=()=>input.slice(state.index+1);const consume=(value="",num=0)=>{state.consumed+=value;state.index+=num;};const append=token=>{state.output+=token.output!=null?token.output:token.value;consume(token.value);};const negate=()=>{let count=1;while(peek()==="!"&&(peek(2)!=="("||peek(3)==="?")){advance();state.start++;count++;}if(count%2===0){return false}state.negated=true;state.start++;return true};const increment=type=>{state[type]++;stack.push(type);};const decrement=type=>{state[type]--;stack.pop();};const push=tok=>{if(prev.type==="globstar"){const isBrace=state.braces>0&&(tok.type==="comma"||tok.type==="brace");const isExtglob=tok.extglob===true||extglobs.length&&(tok.type==="pipe"||tok.type==="paren");if(tok.type!=="slash"&&tok.type!=="paren"&&!isBrace&&!isExtglob){state.output=state.output.slice(0,-prev.output.length);prev.type="star";prev.value="*";prev.output=star;state.output+=prev.output;}}if(extglobs.length&&tok.type!=="paren"){extglobs[extglobs.length-1].inner+=tok.value;}if(tok.value||tok.output)append(tok);if(prev&&prev.type==="text"&&tok.type==="text"){prev.value+=tok.value;prev.output=(prev.output||"")+tok.value;return}tok.prev=prev;tokens.push(tok);prev=tok;};const extglobOpen=(type,value)=>{const token={...EXTGLOB_CHARS[value],conditions:1,inner:""};token.prev=prev;token.parens=state.parens;token.output=state.output;const output=(opts.capture?"(":"")+token.open;increment("parens");push({type,value,output:state.output?"":ONE_CHAR});push({type:"paren",extglob:true,value:advance(),output});extglobs.push(token);};const extglobClose=token=>{let output=token.close+(opts.capture?")":"");let rest;if(token.type==="negate"){let extglobStar=star;if(token.inner&&token.inner.length>1&&token.inner.includes("/")){extglobStar=globstar(opts);}if(extglobStar!==star||eos()||/^\)+$/.test(remaining())){output=token.close=`)$))${extglobStar}`;}if(token.inner.includes("*")&&(rest=remaining())&&/^\.[^\\/.]+$/.test(rest)){output=token.close=`)${rest})${extglobStar})`;}if(token.prev.type==="bos"){state.negatedExtglob=true;}}push({type:"paren",extglob:true,value,output});decrement("parens");};if(opts.fastpaths!==false&&!/(^[*!]|[/()[\]{}"])/.test(input)){let backslashes=false;let output=input.replace(REGEX_SPECIAL_CHARS_BACKREF,(m,esc,chars,first,rest,index)=>{if(first==="\\"){backslashes=true;return m}if(first==="?"){if(esc){return esc+first+(rest?QMARK.repeat(rest.length):"")}if(index===0){return qmarkNoDot+(rest?QMARK.repeat(rest.length):"")}return QMARK.repeat(chars.length)}if(first==="."){return DOT_LITERAL.repeat(chars.length)}if(first==="*"){if(esc){return esc+first+(rest?star:"")}return star}return esc?m:`\\${m}`});if(backslashes===true){if(opts.unescape===true){output=output.replace(/\\/g,"");}else {output=output.replace(/\\+/g,m=>{return m.length%2===0?"\\\\":m?"\\":""});}}if(output===input&&opts.contains===true){state.output=input;return state}state.output=utils$5.wrapOutput(output,state,options);return state}while(!eos()){value=advance();if(value==="\0"){continue}if(value==="\\"){const next=peek();if(next==="/"&&opts.bash!==true){continue}if(next==="."||next===";"){continue}if(!next){value+="\\";push({type:"text",value});continue}const match=/^\\+/.exec(remaining());let slashes=0;if(match&&match[0].length>2){slashes=match[0].length;state.index+=slashes;if(slashes%2!==0){value+="\\";}}if(opts.unescape===true){value=advance();}else {value+=advance();}if(state.brackets===0){push({type:"text",value});continue}}if(state.brackets>0&&(value!=="]"||prev.value==="["||prev.value==="[^")){if(opts.posix!==false&&value===":"){const inner=prev.value.slice(1);if(inner.includes("[")){prev.posix=true;if(inner.includes(":")){const idx=prev.value.lastIndexOf("[");const pre=prev.value.slice(0,idx);const rest=prev.value.slice(idx+2);const posix=POSIX_REGEX_SOURCE[rest];if(posix){prev.value=pre+posix;state.backtrack=true;advance();if(!bos.output&&tokens.indexOf(prev)===1){bos.output=ONE_CHAR;}continue}}}}if(value==="["&&peek()!==":"||value==="-"&&peek()==="]"){value=`\\${value}`;}if(value==="]"&&(prev.value==="["||prev.value==="[^")){value=`\\${value}`;}if(opts.posix===true&&value==="!"&&prev.value==="["){value="^";}prev.value+=value;append({value});continue}if(state.quotes===1&&value!=="\""){value=utils$5.escapeRegex(value);prev.value+=value;append({value});continue}if(value==="\""){state.quotes=state.quotes===1?0:1;if(opts.keepQuotes===true){push({type:"text",value});}continue}if(value==="("){increment("parens");push({type:"paren",value});continue}if(value===")"){if(state.parens===0&&opts.strictBrackets===true){throw new SyntaxError(syntaxError("opening","("))}const extglob=extglobs[extglobs.length-1];if(extglob&&state.parens===extglob.parens+1){extglobClose(extglobs.pop());continue}push({type:"paren",value,output:state.parens?")":"\\)"});decrement("parens");continue}if(value==="["){if(opts.nobracket===true||!remaining().includes("]")){if(opts.nobracket!==true&&opts.strictBrackets===true){throw new SyntaxError(syntaxError("closing","]"))}value=`\\${value}`;}else {increment("brackets");}push({type:"bracket",value});continue}if(value==="]"){if(opts.nobracket===true||prev&&prev.type==="bracket"&&prev.value.length===1){push({type:"text",value,output:`\\${value}`});continue}if(state.brackets===0){if(opts.strictBrackets===true){throw new SyntaxError(syntaxError("opening","["))}push({type:"text",value,output:`\\${value}`});continue}decrement("brackets");const prevValue=prev.value.slice(1);if(prev.posix!==true&&prevValue[0]==="^"&&!prevValue.includes("/")){value=`/${value}`;}prev.value+=value;append({value});if(opts.literalBrackets===false||utils$5.hasRegexChars(prevValue)){continue}const escaped=utils$5.escapeRegex(prev.value);state.output=state.output.slice(0,-prev.value.length);if(opts.literalBrackets===true){state.output+=escaped;prev.value=escaped;continue}prev.value=`(${capture}${escaped}|${prev.value})`;state.output+=prev.value;continue}if(value==="{"&&opts.nobrace!==true){increment("braces");const open={type:"brace",value,output:"(",outputIndex:state.output.length,tokensIndex:state.tokens.length};braces.push(open);push(open);continue}if(value==="}"){const brace=braces[braces.length-1];if(opts.nobrace===true||!brace){push({type:"text",value,output:value});continue}let output=")";if(brace.dots===true){const arr=tokens.slice();const range=[];for(let i=arr.length-1;i>=0;i--){tokens.pop();if(arr[i].type==="brace"){break}if(arr[i].type!=="dots"){range.unshift(arr[i].value);}}output=expandRange(range,opts);state.backtrack=true;}if(brace.comma!==true&&brace.dots!==true){const out=state.output.slice(0,brace.outputIndex);const toks=state.tokens.slice(brace.tokensIndex);brace.value=brace.output="\\{";value=output="\\}";state.output=out;for(const t of toks){state.output+=t.output||t.value;}}push({type:"brace",value,output});decrement("braces");braces.pop();continue}if(value==="|"){if(extglobs.length>0){extglobs[extglobs.length-1].conditions++;}push({type:"text",value});continue}if(value===","){let output=value;const brace=braces[braces.length-1];if(brace&&stack[stack.length-1]==="braces"){brace.comma=true;output="|";}push({type:"comma",value,output});continue}if(value==="/"){if(prev.type==="dot"&&state.index===state.start+1){state.start=state.index+1;state.consumed="";state.output="";tokens.pop();prev=bos;continue}push({type:"slash",value,output:SLASH_LITERAL});continue}if(value==="."){if(state.braces>0&&prev.type==="dot"){if(prev.value===".")prev.output=DOT_LITERAL;const brace=braces[braces.length-1];prev.type="dots";prev.output+=value;prev.value+=value;brace.dots=true;continue}if(state.braces+state.parens===0&&prev.type!=="bos"&&prev.type!=="slash"){push({type:"text",value,output:DOT_LITERAL});continue}push({type:"dot",value,output:DOT_LITERAL});continue}if(value==="?"){const isGroup=prev&&prev.value==="(";if(!isGroup&&opts.noextglob!==true&&peek()==="("&&peek(2)!=="?"){extglobOpen("qmark",value);continue}if(prev&&prev.type==="paren"){const next=peek();let output=value;if(next==="<"&&!utils$5.supportsLookbehinds()){throw new Error("Node.js v10 or higher is required for regex lookbehinds")}if(prev.value==="("&&!/[!=<:]/.test(next)||next==="<"&&!/<([!=]|\w+>)/.test(remaining())){output=`\\${value}`;}push({type:"text",value,output});continue}if(opts.dot!==true&&(prev.type==="slash"||prev.type==="bos")){push({type:"qmark",value,output:QMARK_NO_DOT});continue}push({type:"qmark",value,output:QMARK});continue}if(value==="!"){if(opts.noextglob!==true&&peek()==="("){if(peek(2)!=="?"||!/[!=<:]/.test(peek(3))){extglobOpen("negate",value);continue}}if(opts.nonegate!==true&&state.index===0){negate();continue}}if(value==="+"){if(opts.noextglob!==true&&peek()==="("&&peek(2)!=="?"){extglobOpen("plus",value);continue}if(prev&&prev.value==="("||opts.regex===false){push({type:"plus",value,output:PLUS_LITERAL});continue}if(prev&&(prev.type==="bracket"||prev.type==="paren"||prev.type==="brace")||state.parens>0){push({type:"plus",value});continue}push({type:"plus",value:PLUS_LITERAL});continue}if(value==="@"){if(opts.noextglob!==true&&peek()==="("&&peek(2)!=="?"){push({type:"at",extglob:true,value,output:""});continue}push({type:"text",value});continue}if(value!=="*"){if(value==="$"||value==="^"){value=`\\${value}`;}const match=REGEX_NON_SPECIAL_CHARS.exec(remaining());if(match){value+=match[0];state.index+=match[0].length;}push({type:"text",value});continue}if(prev&&(prev.type==="globstar"||prev.star===true)){prev.type="star";prev.star=true;prev.value+=value;prev.output=star;state.backtrack=true;state.globstar=true;consume(value);continue}let rest=remaining();if(opts.noextglob!==true&&/^\([^?]/.test(rest)){extglobOpen("star",value);continue}if(prev.type==="star"){if(opts.noglobstar===true){consume(value);continue}const prior=prev.prev;const before=prior.prev;const isStart=prior.type==="slash"||prior.type==="bos";const afterStar=before&&(before.type==="star"||before.type==="globstar");if(opts.bash===true&&(!isStart||rest[0]&&rest[0]!=="/")){push({type:"star",value,output:""});continue}const isBrace=state.braces>0&&(prior.type==="comma"||prior.type==="brace");const isExtglob=extglobs.length&&(prior.type==="pipe"||prior.type==="paren");if(!isStart&&prior.type!=="paren"&&!isBrace&&!isExtglob){push({type:"star",value,output:""});continue}while(rest.slice(0,3)==="/**"){const after=input[state.index+4];if(after&&after!=="/"){break}rest=rest.slice(3);consume("/**",3);}if(prior.type==="bos"&&eos()){prev.type="globstar";prev.value+=value;prev.output=globstar(opts);state.output=prev.output;state.globstar=true;consume(value);continue}if(prior.type==="slash"&&prior.prev.type!=="bos"&&!afterStar&&eos()){state.output=state.output.slice(0,-(prior.output+prev.output).length);prior.output=`(?:${prior.output}`;prev.type="globstar";prev.output=globstar(opts)+(opts.strictSlashes?")":"|$)");prev.value+=value;state.globstar=true;state.output+=prior.output+prev.output;consume(value);continue}if(prior.type==="slash"&&prior.prev.type!=="bos"&&rest[0]==="/"){const end=rest[1]!==void 0?"|$":"";state.output=state.output.slice(0,-(prior.output+prev.output).length);prior.output=`(?:${prior.output}`;prev.type="globstar";prev.output=`${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;prev.value+=value;state.output+=prior.output+prev.output;state.globstar=true;consume(value+advance());push({type:"slash",value:"/",output:""});continue}if(prior.type==="bos"&&rest[0]==="/"){prev.type="globstar";prev.value+=value;prev.output=`(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;state.output=prev.output;state.globstar=true;consume(value+advance());push({type:"slash",value:"/",output:""});continue}state.output=state.output.slice(0,-prev.output.length);prev.type="globstar";prev.output=globstar(opts);prev.value+=value;state.output+=prev.output;state.globstar=true;consume(value);continue}const token={type:"star",value,output:star};if(opts.bash===true){token.output=".*?";if(prev.type==="bos"||prev.type==="slash"){token.output=nodot+token.output;}push(token);continue}if(prev&&(prev.type==="bracket"||prev.type==="paren")&&opts.regex===true){token.output=value;push(token);continue}if(state.index===state.start||prev.type==="slash"||prev.type==="dot"){if(prev.type==="dot"){state.output+=NO_DOT_SLASH;prev.output+=NO_DOT_SLASH;}else if(opts.dot===true){state.output+=NO_DOTS_SLASH;prev.output+=NO_DOTS_SLASH;}else {state.output+=nodot;prev.output+=nodot;}if(peek()!=="*"){state.output+=ONE_CHAR;prev.output+=ONE_CHAR;}}push(token);}while(state.brackets>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError("closing","]"));state.output=utils$5.escapeLast(state.output,"[");decrement("brackets");}while(state.parens>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError("closing",")"));state.output=utils$5.escapeLast(state.output,"(");decrement("parens");}while(state.braces>0){if(opts.strictBrackets===true)throw new SyntaxError(syntaxError("closing","}"));state.output=utils$5.escapeLast(state.output,"{");decrement("braces");}if(opts.strictSlashes!==true&&(prev.type==="star"||prev.type==="bracket")){push({type:"maybe_slash",value:"",output:`${SLASH_LITERAL}?`});}if(state.backtrack===true){state.output="";for(const token of state.tokens){state.output+=token.output!=null?token.output:token.value;if(token.suffix){state.output+=token.suffix;}}}return state};parse$4.fastpaths=(input,options)=>{const opts={...options};const max=typeof opts.maxLength==="number"?Math.min(MAX_LENGTH$1,opts.maxLength):MAX_LENGTH$1;const len=input.length;if(len>max){throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`)}input=REPLACEMENTS[input]||input;const win32=utils$5.isWindows(options);const{DOT_LITERAL,SLASH_LITERAL,ONE_CHAR,DOTS_SLASH,NO_DOT,NO_DOTS,NO_DOTS_SLASH,STAR,START_ANCHOR}=constants$3.globChars(win32);const nodot=opts.dot?NO_DOTS:NO_DOT;const slashDot=opts.dot?NO_DOTS_SLASH:NO_DOT;const capture=opts.capture?"":"?:";const state={negated:false,prefix:""};let star=opts.bash===true?".*?":STAR;if(opts.capture){star=`(${star})`;}const globstar=opts=>{if(opts.noglobstar===true)return star;return `(${capture}(?:(?!${START_ANCHOR}${opts.dot?DOTS_SLASH:DOT_LITERAL}).)*?)`};const create=str=>{switch(str){case"*":return `${nodot}${ONE_CHAR}${star}`;case".*":return `${DOT_LITERAL}${ONE_CHAR}${star}`;case"*.*":return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;case"*/*":return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;case"**":return nodot+globstar(opts);case"**/*":return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;case"**/*.*":return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;case"**/.*":return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;default:{const match=/^(.*?)\.(\w+)$/.exec(str);if(!match)return;const source=create(match[1]);if(!source)return;return source+DOT_LITERAL+match[2]}}};const output=utils$5.removePrefix(input,state);let source=create(output);if(source&&opts.strictSlashes!==true){source+=`${SLASH_LITERAL}?`;}return source};var parse_1$1=parse$4;

const path$1=require$$0__default;const scan=scan_1;const parse$3=parse_1$1;const utils$4=utils$7;const constants$2=constants$4;const isObject$1=val=>val&&typeof val==="object"&&!Array.isArray(val);const picomatch$3=(glob,options,returnState=false)=>{if(Array.isArray(glob)){const fns=glob.map(input=>picomatch$3(input,options,returnState));const arrayMatcher=str=>{for(const isMatch of fns){const state=isMatch(str);if(state)return state}return false};return arrayMatcher}const isState=isObject$1(glob)&&glob.tokens&&glob.input;if(glob===""||typeof glob!=="string"&&!isState){throw new TypeError("Expected pattern to be a non-empty string")}const opts=options||{};const posix=utils$4.isWindows(options);const regex=isState?picomatch$3.compileRe(glob,options):picomatch$3.makeRe(glob,options,false,true);const state=regex.state;delete regex.state;let isIgnored=()=>false;if(opts.ignore){const ignoreOpts={...options,ignore:null,onMatch:null,onResult:null};isIgnored=picomatch$3(opts.ignore,ignoreOpts,returnState);}const matcher=(input,returnObject=false)=>{const{isMatch,match,output}=picomatch$3.test(input,regex,options,{glob,posix});const result={glob,state,regex,posix,input,output,match,isMatch};if(typeof opts.onResult==="function"){opts.onResult(result);}if(isMatch===false){result.isMatch=false;return returnObject?result:false}if(isIgnored(input)){if(typeof opts.onIgnore==="function"){opts.onIgnore(result);}result.isMatch=false;return returnObject?result:false}if(typeof opts.onMatch==="function"){opts.onMatch(result);}return returnObject?result:true};if(returnState){matcher.state=state;}return matcher};picomatch$3.test=(input,regex,options,{glob,posix}={})=>{if(typeof input!=="string"){throw new TypeError("Expected input to be a string")}if(input===""){return {isMatch:false,output:""}}const opts=options||{};const format=opts.format||(posix?utils$4.toPosixSlashes:null);let match=input===glob;let output=match&&format?format(input):input;if(match===false){output=format?format(input):input;match=output===glob;}if(match===false||opts.capture===true){if(opts.matchBase===true||opts.basename===true){match=picomatch$3.matchBase(input,regex,options,posix);}else {match=regex.exec(output);}}return {isMatch:Boolean(match),match,output}};picomatch$3.matchBase=(input,glob,options,posix=utils$4.isWindows(options))=>{const regex=glob instanceof RegExp?glob:picomatch$3.makeRe(glob,options);return regex.test(path$1.basename(input))};picomatch$3.isMatch=(str,patterns,options)=>picomatch$3(patterns,options)(str);picomatch$3.parse=(pattern,options)=>{if(Array.isArray(pattern))return pattern.map(p=>picomatch$3.parse(p,options));return parse$3(pattern,{...options,fastpaths:false})};picomatch$3.scan=(input,options)=>scan(input,options);picomatch$3.compileRe=(state,options,returnOutput=false,returnState=false)=>{if(returnOutput===true){return state.output}const opts=options||{};const prepend=opts.contains?"":"^";const append=opts.contains?"":"$";let source=`${prepend}(?:${state.output})${append}`;if(state&&state.negated===true){source=`^(?!${source}).*$`;}const regex=picomatch$3.toRegex(source,options);if(returnState===true){regex.state=state;}return regex};picomatch$3.makeRe=(input,options={},returnOutput=false,returnState=false)=>{if(!input||typeof input!=="string"){throw new TypeError("Expected a non-empty string")}let parsed={negated:false,fastpaths:true};if(options.fastpaths!==false&&(input[0]==="."||input[0]==="*")){parsed.output=parse$3.fastpaths(input,options);}if(!parsed.output){parsed=parse$3(input,options);}return picomatch$3.compileRe(parsed,options,returnOutput,returnState)};picomatch$3.toRegex=(source,options)=>{try{const opts=options||{};return new RegExp(source,opts.flags||(opts.nocase?"i":""))}catch(err){if(options&&options.debug===true)throw err;return /$^/}};picomatch$3.constants=constants$2;var picomatch_1=picomatch$3;

var picomatch$2=picomatch_1;

const fs$3=_fs__default;const{Readable}=require$$1;const sysPath$3=require$$0__default;const{promisify: promisify$3}=require$$9;const picomatch$1=picomatch$2;const readdir$1=promisify$3(fs$3.readdir);const stat$3=promisify$3(fs$3.stat);const lstat$2=promisify$3(fs$3.lstat);const realpath$1=promisify$3(fs$3.realpath);const BANG$2="!";const RECURSIVE_ERROR_CODE="READDIRP_RECURSIVE_ERROR";const NORMAL_FLOW_ERRORS=new Set(["ENOENT","EPERM","EACCES","ELOOP",RECURSIVE_ERROR_CODE]);const FILE_TYPE="files";const DIR_TYPE="directories";const FILE_DIR_TYPE="files_directories";const EVERYTHING_TYPE="all";const ALL_TYPES=[FILE_TYPE,DIR_TYPE,FILE_DIR_TYPE,EVERYTHING_TYPE];const isNormalFlowError=error=>NORMAL_FLOW_ERRORS.has(error.code);const[maj,min]=process.versions.node.split(".").slice(0,2).map(n=>Number.parseInt(n,10));const wantBigintFsStats=process.platform==="win32"&&(maj>10||maj===10&&min>=5);const normalizeFilter=filter=>{if(filter===undefined)return;if(typeof filter==="function")return filter;if(typeof filter==="string"){const glob=picomatch$1(filter.trim());return entry=>glob(entry.basename)}if(Array.isArray(filter)){const positive=[];const negative=[];for(const item of filter){const trimmed=item.trim();if(trimmed.charAt(0)===BANG$2){negative.push(picomatch$1(trimmed.slice(1)));}else {positive.push(picomatch$1(trimmed));}}if(negative.length>0){if(positive.length>0){return entry=>positive.some(f=>f(entry.basename))&&!negative.some(f=>f(entry.basename))}return entry=>!negative.some(f=>f(entry.basename))}return entry=>positive.some(f=>f(entry.basename))}};class ReaddirpStream extends Readable{static get defaultOptions(){return {root:".",fileFilter:path=>true,directoryFilter:path=>true,type:FILE_TYPE,lstat:false,depth:2147483648,alwaysStat:false}}constructor(options={}){super({objectMode:true,autoDestroy:true,highWaterMark:options.highWaterMark||4096});const opts={...ReaddirpStream.defaultOptions,...options};const{root,type}=opts;this._fileFilter=normalizeFilter(opts.fileFilter);this._directoryFilter=normalizeFilter(opts.directoryFilter);const statMethod=opts.lstat?lstat$2:stat$3;if(wantBigintFsStats){this._stat=path=>statMethod(path,{bigint:true});}else {this._stat=statMethod;}this._maxDepth=opts.depth;this._wantsDir=[DIR_TYPE,FILE_DIR_TYPE,EVERYTHING_TYPE].includes(type);this._wantsFile=[FILE_TYPE,FILE_DIR_TYPE,EVERYTHING_TYPE].includes(type);this._wantsEverything=type===EVERYTHING_TYPE;this._root=sysPath$3.resolve(root);this._isDirent="Dirent"in fs$3&&!opts.alwaysStat;this._statsProp=this._isDirent?"dirent":"stats";this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent};this.parents=[this._exploreDir(root,1)];this.reading=false;this.parent=undefined;}async _read(batch){if(this.reading)return;this.reading=true;try{while(!this.destroyed&&batch>0){const{path,depth,files=[]}=this.parent||{};if(files.length>0){const slice=files.splice(0,batch).map(dirent=>this._formatEntry(dirent,path));for(const entry of await Promise.all(slice)){if(this.destroyed)return;const entryType=await this._getEntryType(entry);if(entryType==="directory"&&this._directoryFilter(entry)){if(depth<=this._maxDepth){this.parents.push(this._exploreDir(entry.fullPath,depth+1));}if(this._wantsDir){this.push(entry);batch--;}}else if((entryType==="file"||this._includeAsFile(entry))&&this._fileFilter(entry)){if(this._wantsFile){this.push(entry);batch--;}}}}else {const parent=this.parents.pop();if(!parent){this.push(null);break}this.parent=await parent;if(this.destroyed)return}}}catch(error){this.destroy(error);}finally{this.reading=false;}}async _exploreDir(path,depth){let files;try{files=await readdir$1(path,this._rdOptions);}catch(error){this._onError(error);}return {files,depth,path}}async _formatEntry(dirent,path){let entry;try{const basename=this._isDirent?dirent.name:dirent;const fullPath=sysPath$3.resolve(sysPath$3.join(path,basename));entry={path:sysPath$3.relative(this._root,fullPath),fullPath,basename};entry[this._statsProp]=this._isDirent?dirent:await this._stat(fullPath);}catch(err){this._onError(err);}return entry}_onError(err){if(isNormalFlowError(err)&&!this.destroyed){this.emit("warn",err);}else {this.destroy(err);}}async _getEntryType(entry){const stats=entry&&entry[this._statsProp];if(!stats){return}if(stats.isFile()){return "file"}if(stats.isDirectory()){return "directory"}if(stats&&stats.isSymbolicLink()){const full=entry.fullPath;try{const entryRealPath=await realpath$1(full);const entryRealPathStats=await lstat$2(entryRealPath);if(entryRealPathStats.isFile()){return "file"}if(entryRealPathStats.isDirectory()){const len=entryRealPath.length;if(full.startsWith(entryRealPath)&&full.substr(len,1)===sysPath$3.sep){const recursiveError=new Error(`Circular symlink detected: "${full}" points to "${entryRealPath}"`);recursiveError.code=RECURSIVE_ERROR_CODE;return this._onError(recursiveError)}return "directory"}}catch(error){this._onError(error);}}}_includeAsFile(entry){const stats=entry&&entry[this._statsProp];return stats&&this._wantsEverything&&!stats.isDirectory()}}const readdirp$1=(root,options={})=>{let type=options.entryType||options.type;if(type==="both")type=FILE_DIR_TYPE;if(type)options.type=type;if(!root){throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)")}else if(typeof root!=="string"){throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)")}else if(type&&!ALL_TYPES.includes(type)){throw new Error(`readdirp: Invalid type passed. Use one of ${ALL_TYPES.join(", ")}`)}options.root=root;return new ReaddirpStream(options)};const readdirpPromise=(root,options={})=>{return new Promise((resolve,reject)=>{const files=[];readdirp$1(root,options).on("data",entry=>files.push(entry)).on("end",()=>resolve(files)).on("error",error=>reject(error));})};readdirp$1.promise=readdirpPromise;readdirp$1.ReaddirpStream=ReaddirpStream;readdirp$1.default=readdirp$1;var readdirp_1=readdirp$1;

var anymatch$2 = {exports: {}};

var normalizePath$2=function(path,stripTrailing){if(typeof path!=="string"){throw new TypeError("expected path to be a string")}if(path==="\\"||path==="/")return "/";var len=path.length;if(len<=1)return path;var prefix="";if(len>4&&path[3]==="\\"){var ch=path[2];if((ch==="?"||ch===".")&&path.slice(0,2)==="\\\\"){path=path.slice(2);prefix="//";}}var segs=path.split(/[/\\]+/);if(stripTrailing!==false&&segs[segs.length-1]===""){segs.pop();}return prefix+segs.join("/")};

Object.defineProperty(anymatch$2.exports,"__esModule",{value:true});const picomatch=picomatch$2;const normalizePath$1=normalizePath$2;const BANG$1="!";const DEFAULT_OPTIONS={returnIndex:false};const arrify$1=item=>Array.isArray(item)?item:[item];const createPattern=(matcher,options)=>{if(typeof matcher==="function"){return matcher}if(typeof matcher==="string"){const glob=picomatch(matcher,options);return string=>matcher===string||glob(string)}if(matcher instanceof RegExp){return string=>matcher.test(string)}return string=>false};const matchPatterns=(patterns,negPatterns,args,returnIndex)=>{const isList=Array.isArray(args);const _path=isList?args[0]:args;if(!isList&&typeof _path!=="string"){throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(_path))}const path=normalizePath$1(_path);for(let index=0;index<negPatterns.length;index++){const nglob=negPatterns[index];if(nglob(path)){return returnIndex?-1:false}}const applied=isList&&[path].concat(args.slice(1));for(let index=0;index<patterns.length;index++){const pattern=patterns[index];if(isList?pattern(...applied):pattern(path)){return returnIndex?index:true}}return returnIndex?-1:false};const anymatch$1=(matchers,testString,options=DEFAULT_OPTIONS)=>{if(matchers==null){throw new TypeError("anymatch: specify first argument")}const opts=typeof options==="boolean"?{returnIndex:options}:options;const returnIndex=opts.returnIndex||false;const mtchers=arrify$1(matchers);const negatedGlobs=mtchers.filter(item=>typeof item==="string"&&item.charAt(0)===BANG$1).map(item=>item.slice(1)).map(item=>picomatch(item,opts));const patterns=mtchers.filter(item=>typeof item!=="string"||typeof item==="string"&&item.charAt(0)!==BANG$1).map(matcher=>createPattern(matcher,opts));if(testString==null){return (testString,ri=false)=>{const returnIndex=typeof ri==="boolean"?ri:false;return matchPatterns(patterns,negatedGlobs,testString,returnIndex)}}return matchPatterns(patterns,negatedGlobs,testString,returnIndex)};anymatch$1.default=anymatch$1;anymatch$2.exports=anymatch$1;getDefaultExportFromCjs(anymatch$2.exports);

var isExtglob$1=function isExtglob(str){if(typeof str!=="string"||str===""){return false}var match;while(match=/(\\).|([@?!+*]\(.*\))/g.exec(str)){if(match[2])return true;str=str.slice(match.index+match[0].length);}return false};

var isExtglob=isExtglob$1;var chars={"{":"}","(":")","[":"]"};var strictRegex=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/;var relaxedRegex=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;var isGlob$2=function isGlob(str,options){if(typeof str!=="string"||str===""){return false}if(isExtglob(str)){return true}var regex=strictRegex;var match;if(options&&options.strict===false){regex=relaxedRegex;}while(match=regex.exec(str)){if(match[2])return true;var idx=match.index+match[0].length;var open=match[1];var close=open?chars[open]:null;if(open&&close){var n=str.indexOf(close,idx);if(n!==-1){idx=n+1;}}str=str.slice(idx);}return false};

var isGlob$1=isGlob$2;var pathPosixDirname=require$$0__default.posix.dirname;var isWin32=require$$0$5.platform()==="win32";var slash="/";var backslash=/\\/g;var enclosure=/[\{\[].*[\}\]]$/;var globby=/(^|[^\\])([\{\[]|\([^\)]+$)/;var escaped=/\\([\!\*\?\|\[\]\(\)\{\}])/g;var globParent$1=function globParent(str,opts){var options=Object.assign({flipBackslashes:true},opts);if(options.flipBackslashes&&isWin32&&str.indexOf(slash)<0){str=str.replace(backslash,slash);}if(enclosure.test(str)){str+=slash;}str+="a";do{str=pathPosixDirname(str);}while(isGlob$1(str)||globby.test(str));return str.replace(escaped,"$1")};

var utils$3 = {};

(function(exports){exports.isInteger=num=>{if(typeof num==="number"){return Number.isInteger(num)}if(typeof num==="string"&&num.trim()!==""){return Number.isInteger(Number(num))}return false};exports.find=(node,type)=>node.nodes.find(node=>node.type===type);exports.exceedsLimit=(min,max,step=1,limit)=>{if(limit===false)return false;if(!exports.isInteger(min)||!exports.isInteger(max))return false;return (Number(max)-Number(min))/Number(step)>=limit};exports.escapeNode=(block,n=0,type)=>{let node=block.nodes[n];if(!node)return;if(type&&node.type===type||node.type==="open"||node.type==="close"){if(node.escaped!==true){node.value="\\"+node.value;node.escaped=true;}}};exports.encloseBrace=node=>{if(node.type!=="brace")return false;if(node.commas>>0+node.ranges>>0===0){node.invalid=true;return true}return false};exports.isInvalidBrace=block=>{if(block.type!=="brace")return false;if(block.invalid===true||block.dollar)return true;if(block.commas>>0+block.ranges>>0===0){block.invalid=true;return true}if(block.open!==true||block.close!==true){block.invalid=true;return true}return false};exports.isOpenOrClose=node=>{if(node.type==="open"||node.type==="close"){return true}return node.open===true||node.close===true};exports.reduce=nodes=>nodes.reduce((acc,node)=>{if(node.type==="text")acc.push(node.value);if(node.type==="range")node.type="text";return acc},[]);exports.flatten=(...args)=>{const result=[];const flat=arr=>{for(let i=0;i<arr.length;i++){let ele=arr[i];Array.isArray(ele)?flat(ele):ele!==void 0&&result.push(ele);}return result};flat(args);return result};})(utils$3);

const utils$2=utils$3;var stringify$5=(ast,options={})=>{let stringify=(node,parent={})=>{let invalidBlock=options.escapeInvalid&&utils$2.isInvalidBrace(parent);let invalidNode=node.invalid===true&&options.escapeInvalid===true;let output="";if(node.value){if((invalidBlock||invalidNode)&&utils$2.isOpenOrClose(node)){return "\\"+node.value}return node.value}if(node.value){return node.value}if(node.nodes){for(let child of node.nodes){output+=stringify(child);}}return output};return stringify(ast)};

var isNumber$2=function(num){if(typeof num==="number"){return num-num===0}if(typeof num==="string"&&num.trim()!==""){return Number.isFinite?Number.isFinite(+num):isFinite(+num)}return false};

const isNumber$1=isNumber$2;const toRegexRange$1=(min,max,options)=>{if(isNumber$1(min)===false){throw new TypeError("toRegexRange: expected the first argument to be a number")}if(max===void 0||min===max){return String(min)}if(isNumber$1(max)===false){throw new TypeError("toRegexRange: expected the second argument to be a number.")}let opts={relaxZeros:true,...options};if(typeof opts.strictZeros==="boolean"){opts.relaxZeros=opts.strictZeros===false;}let relax=String(opts.relaxZeros);let shorthand=String(opts.shorthand);let capture=String(opts.capture);let wrap=String(opts.wrap);let cacheKey=min+":"+max+"="+relax+shorthand+capture+wrap;if(toRegexRange$1.cache.hasOwnProperty(cacheKey)){return toRegexRange$1.cache[cacheKey].result}let a=Math.min(min,max);let b=Math.max(min,max);if(Math.abs(a-b)===1){let result=min+"|"+max;if(opts.capture){return `(${result})`}if(opts.wrap===false){return result}return `(?:${result})`}let isPadded=hasPadding(min)||hasPadding(max);let state={min,max,a,b};let positives=[];let negatives=[];if(isPadded){state.isPadded=isPadded;state.maxLen=String(state.max).length;}if(a<0){let newMin=b<0?Math.abs(b):1;negatives=splitToPatterns(newMin,Math.abs(a),state,opts);a=state.a=0;}if(b>=0){positives=splitToPatterns(a,b,state,opts);}state.negatives=negatives;state.positives=positives;state.result=collatePatterns(negatives,positives);if(opts.capture===true){state.result=`(${state.result})`;}else if(opts.wrap!==false&&positives.length+negatives.length>1){state.result=`(?:${state.result})`;}toRegexRange$1.cache[cacheKey]=state;return state.result};function collatePatterns(neg,pos,options){let onlyNegative=filterPatterns(neg,pos,"-",false)||[];let onlyPositive=filterPatterns(pos,neg,"",false)||[];let intersected=filterPatterns(neg,pos,"-?",true)||[];let subpatterns=onlyNegative.concat(intersected).concat(onlyPositive);return subpatterns.join("|")}function splitToRanges(min,max){let nines=1;let zeros=1;let stop=countNines(min,nines);let stops=new Set([max]);while(min<=stop&&stop<=max){stops.add(stop);nines+=1;stop=countNines(min,nines);}stop=countZeros(max+1,zeros)-1;while(min<stop&&stop<=max){stops.add(stop);zeros+=1;stop=countZeros(max+1,zeros)-1;}stops=[...stops];stops.sort(compare);return stops}function rangeToPattern(start,stop,options){if(start===stop){return {pattern:start,count:[],digits:0}}let zipped=zip(start,stop);let digits=zipped.length;let pattern="";let count=0;for(let i=0;i<digits;i++){let[startDigit,stopDigit]=zipped[i];if(startDigit===stopDigit){pattern+=startDigit;}else if(startDigit!=="0"||stopDigit!=="9"){pattern+=toCharacterClass(startDigit,stopDigit);}else {count++;}}if(count){pattern+=options.shorthand===true?"\\d":"[0-9]";}return {pattern,count:[count],digits}}function splitToPatterns(min,max,tok,options){let ranges=splitToRanges(min,max);let tokens=[];let start=min;let prev;for(let i=0;i<ranges.length;i++){let max=ranges[i];let obj=rangeToPattern(String(start),String(max),options);let zeros="";if(!tok.isPadded&&prev&&prev.pattern===obj.pattern){if(prev.count.length>1){prev.count.pop();}prev.count.push(obj.count[0]);prev.string=prev.pattern+toQuantifier(prev.count);start=max+1;continue}if(tok.isPadded){zeros=padZeros(max,tok,options);}obj.string=zeros+obj.pattern+toQuantifier(obj.count);tokens.push(obj);start=max+1;prev=obj;}return tokens}function filterPatterns(arr,comparison,prefix,intersection,options){let result=[];for(let ele of arr){let{string}=ele;if(!intersection&&!contains(comparison,"string",string)){result.push(prefix+string);}if(intersection&&contains(comparison,"string",string)){result.push(prefix+string);}}return result}function zip(a,b){let arr=[];for(let i=0;i<a.length;i++)arr.push([a[i],b[i]]);return arr}function compare(a,b){return a>b?1:b>a?-1:0}function contains(arr,key,val){return arr.some(ele=>ele[key]===val)}function countNines(min,len){return Number(String(min).slice(0,-len)+"9".repeat(len))}function countZeros(integer,zeros){return integer-integer%Math.pow(10,zeros)}function toQuantifier(digits){let[start=0,stop=""]=digits;if(stop||start>1){return `{${start+(stop?","+stop:"")}}`}return ""}function toCharacterClass(a,b,options){return `[${a}${b-a===1?"":"-"}${b}]`}function hasPadding(str){return /^-?(0+)\d/.test(str)}function padZeros(value,tok,options){if(!tok.isPadded){return value}let diff=Math.abs(tok.maxLen-String(value).length);let relax=options.relaxZeros!==false;switch(diff){case 0:return "";case 1:return relax?"0?":"0";case 2:return relax?"0{0,2}":"00";default:{return relax?`0{0,${diff}}`:`0{${diff}}`}}}toRegexRange$1.cache={};toRegexRange$1.clearCache=()=>toRegexRange$1.cache={};var toRegexRange_1=toRegexRange$1;

const util=require$$9;const toRegexRange=toRegexRange_1;const isObject=val=>val!==null&&typeof val==="object"&&!Array.isArray(val);const transform=toNumber=>{return value=>toNumber===true?Number(value):String(value)};const isValidValue=value=>{return typeof value==="number"||typeof value==="string"&&value!==""};const isNumber=num=>Number.isInteger(+num);const zeros=input=>{let value=`${input}`;let index=-1;if(value[0]==="-")value=value.slice(1);if(value==="0")return false;while(value[++index]==="0");return index>0};const stringify$4=(start,end,options)=>{if(typeof start==="string"||typeof end==="string"){return true}return options.stringify===true};const pad=(input,maxLength,toNumber)=>{if(maxLength>0){let dash=input[0]==="-"?"-":"";if(dash)input=input.slice(1);input=dash+input.padStart(dash?maxLength-1:maxLength,"0");}if(toNumber===false){return String(input)}return input};const toMaxLen=(input,maxLength)=>{let negative=input[0]==="-"?"-":"";if(negative){input=input.slice(1);maxLength--;}while(input.length<maxLength)input="0"+input;return negative?"-"+input:input};const toSequence=(parts,options)=>{parts.negatives.sort((a,b)=>a<b?-1:a>b?1:0);parts.positives.sort((a,b)=>a<b?-1:a>b?1:0);let prefix=options.capture?"":"?:";let positives="";let negatives="";let result;if(parts.positives.length){positives=parts.positives.join("|");}if(parts.negatives.length){negatives=`-(${prefix}${parts.negatives.join("|")})`;}if(positives&&negatives){result=`${positives}|${negatives}`;}else {result=positives||negatives;}if(options.wrap){return `(${prefix}${result})`}return result};const toRange=(a,b,isNumbers,options)=>{if(isNumbers){return toRegexRange(a,b,{wrap:false,...options})}let start=String.fromCharCode(a);if(a===b)return start;let stop=String.fromCharCode(b);return `[${start}-${stop}]`};const toRegex=(start,end,options)=>{if(Array.isArray(start)){let wrap=options.wrap===true;let prefix=options.capture?"":"?:";return wrap?`(${prefix}${start.join("|")})`:start.join("|")}return toRegexRange(start,end,options)};const rangeError=(...args)=>{return new RangeError("Invalid range arguments: "+util.inspect(...args))};const invalidRange=(start,end,options)=>{if(options.strictRanges===true)throw rangeError([start,end]);return []};const invalidStep=(step,options)=>{if(options.strictRanges===true){throw new TypeError(`Expected step "${step}" to be a number`)}return []};const fillNumbers=(start,end,step=1,options={})=>{let a=Number(start);let b=Number(end);if(!Number.isInteger(a)||!Number.isInteger(b)){if(options.strictRanges===true)throw rangeError([start,end]);return []}if(a===0)a=0;if(b===0)b=0;let descending=a>b;let startString=String(start);let endString=String(end);let stepString=String(step);step=Math.max(Math.abs(step),1);let padded=zeros(startString)||zeros(endString)||zeros(stepString);let maxLen=padded?Math.max(startString.length,endString.length,stepString.length):0;let toNumber=padded===false&&stringify$4(start,end,options)===false;let format=options.transform||transform(toNumber);if(options.toRegex&&step===1){return toRange(toMaxLen(start,maxLen),toMaxLen(end,maxLen),true,options)}let parts={negatives:[],positives:[]};let push=num=>parts[num<0?"negatives":"positives"].push(Math.abs(num));let range=[];let index=0;while(descending?a>=b:a<=b){if(options.toRegex===true&&step>1){push(a);}else {range.push(pad(format(a,index),maxLen,toNumber));}a=descending?a-step:a+step;index++;}if(options.toRegex===true){return step>1?toSequence(parts,options):toRegex(range,null,{wrap:false,...options})}return range};const fillLetters=(start,end,step=1,options={})=>{if(!isNumber(start)&&start.length>1||!isNumber(end)&&end.length>1){return invalidRange(start,end,options)}let format=options.transform||(val=>String.fromCharCode(val));let a=`${start}`.charCodeAt(0);let b=`${end}`.charCodeAt(0);let descending=a>b;let min=Math.min(a,b);let max=Math.max(a,b);if(options.toRegex&&step===1){return toRange(min,max,false,options)}let range=[];let index=0;while(descending?a>=b:a<=b){range.push(format(a,index));a=descending?a-step:a+step;index++;}if(options.toRegex===true){return toRegex(range,null,{wrap:false,options})}return range};const fill$2=(start,end,step,options={})=>{if(end==null&&isValidValue(start)){return [start]}if(!isValidValue(start)||!isValidValue(end)){return invalidRange(start,end,options)}if(typeof step==="function"){return fill$2(start,end,1,{transform:step})}if(isObject(step)){return fill$2(start,end,0,step)}let opts={...options};if(opts.capture===true)opts.wrap=true;step=step||opts.step||1;if(!isNumber(step)){if(step!=null&&!isObject(step))return invalidStep(step,opts);return fill$2(start,end,1,step)}if(isNumber(start)&&isNumber(end)){return fillNumbers(start,end,step,opts)}return fillLetters(start,end,Math.max(Math.abs(step),1),opts)};var fillRange=fill$2;

const fill$1=fillRange;const utils$1=utils$3;const compile$1=(ast,options={})=>{let walk=(node,parent={})=>{let invalidBlock=utils$1.isInvalidBrace(parent);let invalidNode=node.invalid===true&&options.escapeInvalid===true;let invalid=invalidBlock===true||invalidNode===true;let prefix=options.escapeInvalid===true?"\\":"";let output="";if(node.isOpen===true){return prefix+node.value}if(node.isClose===true){return prefix+node.value}if(node.type==="open"){return invalid?prefix+node.value:"("}if(node.type==="close"){return invalid?prefix+node.value:")"}if(node.type==="comma"){return node.prev.type==="comma"?"":invalid?node.value:"|"}if(node.value){return node.value}if(node.nodes&&node.ranges>0){let args=utils$1.reduce(node.nodes);let range=fill$1(...args,{...options,wrap:false,toRegex:true});if(range.length!==0){return args.length>1&&range.length>1?`(${range})`:range}}if(node.nodes){for(let child of node.nodes){output+=walk(child,node);}}return output};return walk(ast)};var compile_1=compile$1;

const fill=fillRange;const stringify$3=stringify$5;const utils=utils$3;const append=(queue="",stash="",enclose=false)=>{let result=[];queue=[].concat(queue);stash=[].concat(stash);if(!stash.length)return queue;if(!queue.length){return enclose?utils.flatten(stash).map(ele=>`{${ele}}`):stash}for(let item of queue){if(Array.isArray(item)){for(let value of item){result.push(append(value,stash,enclose));}}else {for(let ele of stash){if(enclose===true&&typeof ele==="string")ele=`{${ele}}`;result.push(Array.isArray(ele)?append(item,ele,enclose):item+ele);}}}return utils.flatten(result)};const expand$1=(ast,options={})=>{let rangeLimit=options.rangeLimit===void 0?1000:options.rangeLimit;let walk=(node,parent={})=>{node.queue=[];let p=parent;let q=parent.queue;while(p.type!=="brace"&&p.type!=="root"&&p.parent){p=p.parent;q=p.queue;}if(node.invalid||node.dollar){q.push(append(q.pop(),stringify$3(node,options)));return}if(node.type==="brace"&&node.invalid!==true&&node.nodes.length===2){q.push(append(q.pop(),["{}"]));return}if(node.nodes&&node.ranges>0){let args=utils.reduce(node.nodes);if(utils.exceedsLimit(...args,options.step,rangeLimit)){throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.")}let range=fill(...args,options);if(range.length===0){range=stringify$3(node,options);}q.push(append(q.pop(),range));node.nodes=[];return}let enclose=utils.encloseBrace(node);let queue=node.queue;let block=node;while(block.type!=="brace"&&block.type!=="root"&&block.parent){block=block.parent;queue=block.queue;}for(let i=0;i<node.nodes.length;i++){let child=node.nodes[i];if(child.type==="comma"&&node.type==="brace"){if(i===1)queue.push("");queue.push("");continue}if(child.type==="close"){q.push(append(q.pop(),queue,enclose));continue}if(child.value&&child.type!=="open"){queue.push(append(queue.pop(),child.value));continue}if(child.nodes){walk(child,node);}}return queue};return utils.flatten(walk(ast))};var expand_1=expand$1;

var constants$1={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:"\"",CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};

const stringify$2=stringify$5;const{MAX_LENGTH,CHAR_BACKSLASH,CHAR_BACKTICK,CHAR_COMMA,CHAR_DOT,CHAR_LEFT_PARENTHESES,CHAR_RIGHT_PARENTHESES,CHAR_LEFT_CURLY_BRACE,CHAR_RIGHT_CURLY_BRACE,CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET,CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE,CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE}=constants$1;const parse$2=(input,options={})=>{if(typeof input!=="string"){throw new TypeError("Expected a string")}let opts=options||{};let max=typeof opts.maxLength==="number"?Math.min(MAX_LENGTH,opts.maxLength):MAX_LENGTH;if(input.length>max){throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`)}let ast={type:"root",input,nodes:[]};let stack=[ast];let block=ast;let prev=ast;let brackets=0;let length=input.length;let index=0;let depth=0;let value;const advance=()=>input[index++];const push=node=>{if(node.type==="text"&&prev.type==="dot"){prev.type="text";}if(prev&&prev.type==="text"&&node.type==="text"){prev.value+=node.value;return}block.nodes.push(node);node.parent=block;node.prev=prev;prev=node;return node};push({type:"bos"});while(index<length){block=stack[stack.length-1];value=advance();if(value===CHAR_ZERO_WIDTH_NOBREAK_SPACE||value===CHAR_NO_BREAK_SPACE){continue}if(value===CHAR_BACKSLASH){push({type:"text",value:(options.keepEscaping?value:"")+advance()});continue}if(value===CHAR_RIGHT_SQUARE_BRACKET){push({type:"text",value:"\\"+value});continue}if(value===CHAR_LEFT_SQUARE_BRACKET){brackets++;let next;while(index<length&&(next=advance())){value+=next;if(next===CHAR_LEFT_SQUARE_BRACKET){brackets++;continue}if(next===CHAR_BACKSLASH){value+=advance();continue}if(next===CHAR_RIGHT_SQUARE_BRACKET){brackets--;if(brackets===0){break}}}push({type:"text",value});continue}if(value===CHAR_LEFT_PARENTHESES){block=push({type:"paren",nodes:[]});stack.push(block);push({type:"text",value});continue}if(value===CHAR_RIGHT_PARENTHESES){if(block.type!=="paren"){push({type:"text",value});continue}block=stack.pop();push({type:"text",value});block=stack[stack.length-1];continue}if(value===CHAR_DOUBLE_QUOTE||value===CHAR_SINGLE_QUOTE||value===CHAR_BACKTICK){let open=value;let next;if(options.keepQuotes!==true){value="";}while(index<length&&(next=advance())){if(next===CHAR_BACKSLASH){value+=next+advance();continue}if(next===open){if(options.keepQuotes===true)value+=next;break}value+=next;}push({type:"text",value});continue}if(value===CHAR_LEFT_CURLY_BRACE){depth++;let dollar=prev.value&&prev.value.slice(-1)==="$"||block.dollar===true;let brace={type:"brace",open:true,close:false,dollar,depth,commas:0,ranges:0,nodes:[]};block=push(brace);stack.push(block);push({type:"open",value});continue}if(value===CHAR_RIGHT_CURLY_BRACE){if(block.type!=="brace"){push({type:"text",value});continue}let type="close";block=stack.pop();block.close=true;push({type,value});depth--;block=stack[stack.length-1];continue}if(value===CHAR_COMMA&&depth>0){if(block.ranges>0){block.ranges=0;let open=block.nodes.shift();block.nodes=[open,{type:"text",value:stringify$2(block)}];}push({type:"comma",value});block.commas++;continue}if(value===CHAR_DOT&&depth>0&&block.commas===0){let siblings=block.nodes;if(depth===0||siblings.length===0){push({type:"text",value});continue}if(prev.type==="dot"){block.range=[];prev.value+=value;prev.type="range";if(block.nodes.length!==3&&block.nodes.length!==5){block.invalid=true;block.ranges=0;prev.type="text";continue}block.ranges++;block.args=[];continue}if(prev.type==="range"){siblings.pop();let before=siblings[siblings.length-1];before.value+=prev.value+value;prev=before;block.ranges--;continue}push({type:"dot",value});continue}push({type:"text",value});}do{block=stack.pop();if(block.type!=="root"){block.nodes.forEach(node=>{if(!node.nodes){if(node.type==="open")node.isOpen=true;if(node.type==="close")node.isClose=true;if(!node.nodes)node.type="text";node.invalid=true;}});let parent=stack[stack.length-1];let index=parent.nodes.indexOf(block);parent.nodes.splice(index,1,...block.nodes);}}while(stack.length>0);push({type:"eos"});return ast};var parse_1=parse$2;

const stringify$1=stringify$5;const compile=compile_1;const expand=expand_1;const parse$1=parse_1;const braces$1=(input,options={})=>{let output=[];if(Array.isArray(input)){for(let pattern of input){let result=braces$1.create(pattern,options);if(Array.isArray(result)){output.push(...result);}else {output.push(result);}}}else {output=[].concat(braces$1.create(input,options));}if(options&&options.expand===true&&options.nodupes===true){output=[...new Set(output)];}return output};braces$1.parse=(input,options={})=>parse$1(input,options);braces$1.stringify=(input,options={})=>{if(typeof input==="string"){return stringify$1(braces$1.parse(input,options),options)}return stringify$1(input,options)};braces$1.compile=(input,options={})=>{if(typeof input==="string"){input=braces$1.parse(input,options);}return compile(input,options)};braces$1.expand=(input,options={})=>{if(typeof input==="string"){input=braces$1.parse(input,options);}let result=expand(input,options);if(options.noempty===true){result=result.filter(Boolean);}if(options.nodupes===true){result=[...new Set(result)];}return result};braces$1.create=(input,options={})=>{if(input===""||input.length<3){return [input]}return options.expand!==true?braces$1.compile(input,options):braces$1.expand(input,options)};var braces_1=braces$1;

var require$$0 = ["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"];

var binaryExtensions$1=require$$0;

const path=require$$0__default;const binaryExtensions=binaryExtensions$1;const extensions=new Set(binaryExtensions);var isBinaryPath$1=filePath=>extensions.has(path.extname(filePath).slice(1).toLowerCase());

var constants = {};

(function(exports){const{sep}=require$$0__default;const{platform}=process;const os=require$$0$5;exports.EV_ALL="all";exports.EV_READY="ready";exports.EV_ADD="add";exports.EV_CHANGE="change";exports.EV_ADD_DIR="addDir";exports.EV_UNLINK="unlink";exports.EV_UNLINK_DIR="unlinkDir";exports.EV_RAW="raw";exports.EV_ERROR="error";exports.STR_DATA="data";exports.STR_END="end";exports.STR_CLOSE="close";exports.FSEVENT_CREATED="created";exports.FSEVENT_MODIFIED="modified";exports.FSEVENT_DELETED="deleted";exports.FSEVENT_MOVED="moved";exports.FSEVENT_CLONED="cloned";exports.FSEVENT_UNKNOWN="unknown";exports.FSEVENT_TYPE_FILE="file";exports.FSEVENT_TYPE_DIRECTORY="directory";exports.FSEVENT_TYPE_SYMLINK="symlink";exports.KEY_LISTENERS="listeners";exports.KEY_ERR="errHandlers";exports.KEY_RAW="rawEmitters";exports.HANDLER_KEYS=[exports.KEY_LISTENERS,exports.KEY_ERR,exports.KEY_RAW];exports.DOT_SLASH=`.${sep}`;exports.BACK_SLASH_RE=/\\/g;exports.DOUBLE_SLASH_RE=/\/\//;exports.SLASH_OR_BACK_SLASH_RE=/[/\\]/;exports.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;exports.REPLACER_RE=/^\.[/\\]/;exports.SLASH="/";exports.SLASH_SLASH="//";exports.BRACE_START="{";exports.BANG="!";exports.ONE_DOT=".";exports.TWO_DOTS="..";exports.STAR="*";exports.GLOBSTAR="**";exports.ROOT_GLOBSTAR="/**/*";exports.SLASH_GLOBSTAR="/**";exports.DIR_SUFFIX="Dir";exports.ANYMATCH_OPTS={dot:true};exports.STRING_TYPE="string";exports.FUNCTION_TYPE="function";exports.EMPTY_STR="";exports.EMPTY_FN=()=>{};exports.IDENTITY_FN=val=>val;exports.isWindows=platform==="win32";exports.isMacos=platform==="darwin";exports.isLinux=platform==="linux";exports.isIBMi=os.type()==="OS400";})(constants);

const fs$2=_fs__default;const sysPath$2=require$$0__default;const{promisify: promisify$2}=require$$9;const isBinaryPath=isBinaryPath$1;const{isWindows: isWindows$1,isLinux,EMPTY_FN: EMPTY_FN$2,EMPTY_STR: EMPTY_STR$1,KEY_LISTENERS,KEY_ERR,KEY_RAW,HANDLER_KEYS,EV_CHANGE: EV_CHANGE$2,EV_ADD: EV_ADD$2,EV_ADD_DIR: EV_ADD_DIR$2,EV_ERROR: EV_ERROR$2,STR_DATA: STR_DATA$1,STR_END: STR_END$2,BRACE_START: BRACE_START$1,STAR}=constants;const THROTTLE_MODE_WATCH="watch";const open=promisify$2(fs$2.open);const stat$2=promisify$2(fs$2.stat);const lstat$1=promisify$2(fs$2.lstat);const close=promisify$2(fs$2.close);const fsrealpath=promisify$2(fs$2.realpath);const statMethods$1={lstat: lstat$1,stat: stat$2};const foreach=(val,fn)=>{if(val instanceof Set){val.forEach(fn);}else {fn(val);}};const addAndConvert=(main,prop,item)=>{let container=main[prop];if(!(container instanceof Set)){main[prop]=container=new Set([container]);}container.add(item);};const clearItem=cont=>key=>{const set=cont[key];if(set instanceof Set){set.clear();}else {delete cont[key];}};const delFromSet=(main,prop,item)=>{const container=main[prop];if(container instanceof Set){container.delete(item);}else if(container===item){delete main[prop];}};const isEmptySet=val=>val instanceof Set?val.size===0:!val;const FsWatchInstances=new Map;function createFsWatchInstance(path,options,listener,errHandler,emitRaw){const handleEvent=(rawEvent,evPath)=>{listener(path);emitRaw(rawEvent,evPath,{watchedPath:path});if(evPath&&path!==evPath){fsWatchBroadcast(sysPath$2.resolve(path,evPath),KEY_LISTENERS,sysPath$2.join(path,evPath));}};try{return fs$2.watch(path,options,handleEvent)}catch(error){errHandler(error);}}const fsWatchBroadcast=(fullPath,type,val1,val2,val3)=>{const cont=FsWatchInstances.get(fullPath);if(!cont)return;foreach(cont[type],listener=>{listener(val1,val2,val3);});};const setFsWatchListener=(path,fullPath,options,handlers)=>{const{listener,errHandler,rawEmitter}=handlers;let cont=FsWatchInstances.get(fullPath);let watcher;if(!options.persistent){watcher=createFsWatchInstance(path,options,listener,errHandler,rawEmitter);return watcher.close.bind(watcher)}if(cont){addAndConvert(cont,KEY_LISTENERS,listener);addAndConvert(cont,KEY_ERR,errHandler);addAndConvert(cont,KEY_RAW,rawEmitter);}else {watcher=createFsWatchInstance(path,options,fsWatchBroadcast.bind(null,fullPath,KEY_LISTENERS),errHandler,fsWatchBroadcast.bind(null,fullPath,KEY_RAW));if(!watcher)return;watcher.on(EV_ERROR$2,async error=>{const broadcastErr=fsWatchBroadcast.bind(null,fullPath,KEY_ERR);cont.watcherUnusable=true;if(isWindows$1&&error.code==="EPERM"){try{const fd=await open(path,"r");await close(fd);broadcastErr(error);}catch(err){}}else {broadcastErr(error);}});cont={listeners:listener,errHandlers:errHandler,rawEmitters:rawEmitter,watcher};FsWatchInstances.set(fullPath,cont);}return ()=>{delFromSet(cont,KEY_LISTENERS,listener);delFromSet(cont,KEY_ERR,errHandler);delFromSet(cont,KEY_RAW,rawEmitter);if(isEmptySet(cont.listeners)){cont.watcher.close();FsWatchInstances.delete(fullPath);HANDLER_KEYS.forEach(clearItem(cont));cont.watcher=undefined;Object.freeze(cont);}}};const FsWatchFileInstances=new Map;const setFsWatchFileListener=(path,fullPath,options,handlers)=>{const{listener,rawEmitter}=handlers;let cont=FsWatchFileInstances.get(fullPath);const copts=cont&&cont.options;if(copts&&(copts.persistent<options.persistent||copts.interval>options.interval)){fs$2.unwatchFile(fullPath);cont=undefined;}if(cont){addAndConvert(cont,KEY_LISTENERS,listener);addAndConvert(cont,KEY_RAW,rawEmitter);}else {cont={listeners:listener,rawEmitters:rawEmitter,options,watcher:fs$2.watchFile(fullPath,options,(curr,prev)=>{foreach(cont.rawEmitters,rawEmitter=>{rawEmitter(EV_CHANGE$2,fullPath,{curr,prev});});const currmtime=curr.mtimeMs;if(curr.size!==prev.size||currmtime>prev.mtimeMs||currmtime===0){foreach(cont.listeners,listener=>listener(path,curr));}})};FsWatchFileInstances.set(fullPath,cont);}return ()=>{delFromSet(cont,KEY_LISTENERS,listener);delFromSet(cont,KEY_RAW,rawEmitter);if(isEmptySet(cont.listeners)){FsWatchFileInstances.delete(fullPath);fs$2.unwatchFile(fullPath);cont.options=cont.watcher=undefined;Object.freeze(cont);}}};class NodeFsHandler$1{constructor(fsW){this.fsw=fsW;this._boundHandleError=error=>fsW._handleError(error);}_watchWithNodeFs(path,listener){const opts=this.fsw.options;const directory=sysPath$2.dirname(path);const basename=sysPath$2.basename(path);const parent=this.fsw._getWatchedDir(directory);parent.add(basename);const absolutePath=sysPath$2.resolve(path);const options={persistent:opts.persistent};if(!listener)listener=EMPTY_FN$2;let closer;if(opts.usePolling){options.interval=opts.enableBinaryInterval&&isBinaryPath(basename)?opts.binaryInterval:opts.interval;closer=setFsWatchFileListener(path,absolutePath,options,{listener,rawEmitter:this.fsw._emitRaw});}else {closer=setFsWatchListener(path,absolutePath,options,{listener,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});}return closer}_handleFile(file,stats,initialAdd){if(this.fsw.closed){return}const dirname=sysPath$2.dirname(file);const basename=sysPath$2.basename(file);const parent=this.fsw._getWatchedDir(dirname);let prevStats=stats;if(parent.has(basename))return;const listener=async(path,newStats)=>{if(!this.fsw._throttle(THROTTLE_MODE_WATCH,file,5))return;if(!newStats||newStats.mtimeMs===0){try{const newStats=await stat$2(file);if(this.fsw.closed)return;const at=newStats.atimeMs;const mt=newStats.mtimeMs;if(!at||at<=mt||mt!==prevStats.mtimeMs){this.fsw._emit(EV_CHANGE$2,file,newStats);}if(isLinux&&prevStats.ino!==newStats.ino){this.fsw._closeFile(path);prevStats=newStats;this.fsw._addPathCloser(path,this._watchWithNodeFs(file,listener));}else {prevStats=newStats;}}catch(error){this.fsw._remove(dirname,basename);}}else if(parent.has(basename)){const at=newStats.atimeMs;const mt=newStats.mtimeMs;if(!at||at<=mt||mt!==prevStats.mtimeMs){this.fsw._emit(EV_CHANGE$2,file,newStats);}prevStats=newStats;}};const closer=this._watchWithNodeFs(file,listener);if(!(initialAdd&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(file)){if(!this.fsw._throttle(EV_ADD$2,file,0))return;this.fsw._emit(EV_ADD$2,file,stats);}return closer}async _handleSymlink(entry,directory,path,item){if(this.fsw.closed){return}const full=entry.fullPath;const dir=this.fsw._getWatchedDir(directory);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const linkPath=await fsrealpath(path);if(this.fsw.closed)return;if(dir.has(item)){if(this.fsw._symlinkPaths.get(full)!==linkPath){this.fsw._symlinkPaths.set(full,linkPath);this.fsw._emit(EV_CHANGE$2,path,entry.stats);}}else {dir.add(item);this.fsw._symlinkPaths.set(full,linkPath);this.fsw._emit(EV_ADD$2,path,entry.stats);}this.fsw._emitReady();return true}if(this.fsw._symlinkPaths.has(full)){return true}this.fsw._symlinkPaths.set(full,true);}_handleRead(directory,initialAdd,wh,target,dir,depth,throttler){directory=sysPath$2.join(directory,EMPTY_STR$1);if(!wh.hasGlob){throttler=this.fsw._throttle("readdir",directory,1000);if(!throttler)return}const previous=this.fsw._getWatchedDir(wh.path);const current=new Set;let stream=this.fsw._readdirp(directory,{fileFilter:entry=>wh.filterPath(entry),directoryFilter:entry=>wh.filterDir(entry),depth:0}).on(STR_DATA$1,async entry=>{if(this.fsw.closed){stream=undefined;return}const item=entry.path;let path=sysPath$2.join(directory,item);current.add(item);if(entry.stats.isSymbolicLink()&&(await this._handleSymlink(entry,directory,path,item))){return}if(this.fsw.closed){stream=undefined;return}if(item===target||!target&&!previous.has(item)){this.fsw._incrReadyCount();path=sysPath$2.join(dir,sysPath$2.relative(dir,path));this._addToNodeFs(path,initialAdd,wh,depth+1);}}).on(EV_ERROR$2,this._boundHandleError);return new Promise(resolve=>stream.once(STR_END$2,()=>{if(this.fsw.closed){stream=undefined;return}const wasThrottled=throttler?throttler.clear():false;resolve();previous.getChildren().filter(item=>{return item!==directory&&!current.has(item)&&(!wh.hasGlob||wh.filterPath({fullPath:sysPath$2.resolve(directory,item)}))}).forEach(item=>{this.fsw._remove(directory,item);});stream=undefined;if(wasThrottled)this._handleRead(directory,false,wh,target,dir,depth,throttler);}))}async _handleDir(dir,stats,initialAdd,depth,target,wh,realpath){const parentDir=this.fsw._getWatchedDir(sysPath$2.dirname(dir));const tracked=parentDir.has(sysPath$2.basename(dir));if(!(initialAdd&&this.fsw.options.ignoreInitial)&&!target&&!tracked){if(!wh.hasGlob||wh.globFilter(dir))this.fsw._emit(EV_ADD_DIR$2,dir,stats);}parentDir.add(sysPath$2.basename(dir));this.fsw._getWatchedDir(dir);let throttler;let closer;const oDepth=this.fsw.options.depth;if((oDepth==null||depth<=oDepth)&&!this.fsw._symlinkPaths.has(realpath)){if(!target){await this._handleRead(dir,initialAdd,wh,target,dir,depth,throttler);if(this.fsw.closed)return}closer=this._watchWithNodeFs(dir,(dirPath,stats)=>{if(stats&&stats.mtimeMs===0)return;this._handleRead(dirPath,false,wh,target,dir,depth,throttler);});}return closer}async _addToNodeFs(path,initialAdd,priorWh,depth,target){const ready=this.fsw._emitReady;if(this.fsw._isIgnored(path)||this.fsw.closed){ready();return false}const wh=this.fsw._getWatchHelpers(path,depth);if(!wh.hasGlob&&priorWh){wh.hasGlob=priorWh.hasGlob;wh.globFilter=priorWh.globFilter;wh.filterPath=entry=>priorWh.filterPath(entry);wh.filterDir=entry=>priorWh.filterDir(entry);}try{const stats=await statMethods$1[wh.statMethod](wh.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(wh.watchPath,stats)){ready();return false}const follow=this.fsw.options.followSymlinks&&!path.includes(STAR)&&!path.includes(BRACE_START$1);let closer;if(stats.isDirectory()){const absPath=sysPath$2.resolve(path);const targetPath=follow?await fsrealpath(path):path;if(this.fsw.closed)return;closer=await this._handleDir(wh.watchPath,stats,initialAdd,depth,target,wh,targetPath);if(this.fsw.closed)return;if(absPath!==targetPath&&targetPath!==undefined){this.fsw._symlinkPaths.set(absPath,targetPath);}}else if(stats.isSymbolicLink()){const targetPath=follow?await fsrealpath(path):path;if(this.fsw.closed)return;const parent=sysPath$2.dirname(wh.watchPath);this.fsw._getWatchedDir(parent).add(wh.watchPath);this.fsw._emit(EV_ADD$2,wh.watchPath,stats);closer=await this._handleDir(parent,stats,initialAdd,depth,path,wh,targetPath);if(this.fsw.closed)return;if(targetPath!==undefined){this.fsw._symlinkPaths.set(sysPath$2.resolve(path),targetPath);}}else {closer=this._handleFile(wh.watchPath,stats,initialAdd);}ready();this.fsw._addPathCloser(path,closer);return false}catch(error){if(this.fsw._handleError(error)){ready();return path}}}}var nodefsHandler=NodeFsHandler$1;

var fseventsHandler = {exports: {}};

const fs$1=_fs__default;const sysPath$1=require$$0__default;const{promisify: promisify$1}=require$$9;let fsevents;try{fsevents=require("fsevents");}catch(error){if(process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR)console.error(error);}if(fsevents){const mtch=process.version.match(/v(\d+)\.(\d+)/);if(mtch&&mtch[1]&&mtch[2]){const maj=Number.parseInt(mtch[1],10);const min=Number.parseInt(mtch[2],10);if(maj===8&&min<16){fsevents=undefined;}}}const{EV_ADD: EV_ADD$1,EV_CHANGE: EV_CHANGE$1,EV_ADD_DIR: EV_ADD_DIR$1,EV_UNLINK: EV_UNLINK$1,EV_ERROR: EV_ERROR$1,STR_DATA,STR_END: STR_END$1,FSEVENT_CREATED,FSEVENT_MODIFIED,FSEVENT_DELETED,FSEVENT_MOVED,FSEVENT_UNKNOWN,FSEVENT_TYPE_FILE,FSEVENT_TYPE_DIRECTORY,FSEVENT_TYPE_SYMLINK,ROOT_GLOBSTAR,DIR_SUFFIX,DOT_SLASH,FUNCTION_TYPE: FUNCTION_TYPE$1,EMPTY_FN: EMPTY_FN$1,IDENTITY_FN}=constants;const Depth=value=>isNaN(value)?{}:{depth:value};const stat$1=promisify$1(fs$1.stat);const lstat=promisify$1(fs$1.lstat);const realpath=promisify$1(fs$1.realpath);const statMethods={stat: stat$1,lstat};const FSEventsWatchers=new Map;const consolidateThreshhold=10;const wrongEventFlags=new Set([69888,70400,71424,72704,73472,131328,131840,262912]);const createFSEventsInstance=(path,callback)=>{const stop=fsevents.watch(path,callback);return {stop}};function setFSEventsListener(path,realPath,listener,rawEmitter){let watchPath=sysPath$1.extname(realPath)?sysPath$1.dirname(realPath):realPath;const parentPath=sysPath$1.dirname(watchPath);let cont=FSEventsWatchers.get(watchPath);if(couldConsolidate(parentPath)){watchPath=parentPath;}const resolvedPath=sysPath$1.resolve(path);const hasSymlink=resolvedPath!==realPath;const filteredListener=(fullPath,flags,info)=>{if(hasSymlink)fullPath=fullPath.replace(realPath,resolvedPath);if(fullPath===resolvedPath||!fullPath.indexOf(resolvedPath+sysPath$1.sep))listener(fullPath,flags,info);};let watchedParent=false;for(const watchedPath of FSEventsWatchers.keys()){if(realPath.indexOf(sysPath$1.resolve(watchedPath)+sysPath$1.sep)===0){watchPath=watchedPath;cont=FSEventsWatchers.get(watchPath);watchedParent=true;break}}if(cont||watchedParent){cont.listeners.add(filteredListener);}else {cont={listeners:new Set([filteredListener]),rawEmitter,watcher:createFSEventsInstance(watchPath,(fullPath,flags)=>{if(!cont.listeners.size)return;const info=fsevents.getInfo(fullPath,flags);cont.listeners.forEach(list=>{list(fullPath,flags,info);});cont.rawEmitter(info.event,fullPath,info);})};FSEventsWatchers.set(watchPath,cont);}return ()=>{const lst=cont.listeners;lst.delete(filteredListener);if(!lst.size){FSEventsWatchers.delete(watchPath);if(cont.watcher)return cont.watcher.stop().then(()=>{cont.rawEmitter=cont.watcher=undefined;Object.freeze(cont);})}}}const couldConsolidate=path=>{let count=0;for(const watchPath of FSEventsWatchers.keys()){if(watchPath.indexOf(path)===0){count++;if(count>=consolidateThreshhold){return true}}}return false};const canUse=()=>fsevents&&FSEventsWatchers.size<128;const calcDepth=(path,root)=>{let i=0;while(!path.indexOf(root)&&(path=sysPath$1.dirname(path))!==root)i++;return i};const sameTypes=(info,stats)=>info.type===FSEVENT_TYPE_DIRECTORY&&stats.isDirectory()||info.type===FSEVENT_TYPE_SYMLINK&&stats.isSymbolicLink()||info.type===FSEVENT_TYPE_FILE&&stats.isFile();class FsEventsHandler$1{constructor(fsw){this.fsw=fsw;}checkIgnored(path,stats){const ipaths=this.fsw._ignoredPaths;if(this.fsw._isIgnored(path,stats)){ipaths.add(path);if(stats&&stats.isDirectory()){ipaths.add(path+ROOT_GLOBSTAR);}return true}ipaths.delete(path);ipaths.delete(path+ROOT_GLOBSTAR);}addOrChange(path,fullPath,realPath,parent,watchedDir,item,info,opts){const event=watchedDir.has(item)?EV_CHANGE$1:EV_ADD$1;this.handleEvent(event,path,fullPath,realPath,parent,watchedDir,item,info,opts);}async checkExists(path,fullPath,realPath,parent,watchedDir,item,info,opts){try{const stats=await stat$1(path);if(this.fsw.closed)return;if(sameTypes(info,stats)){this.addOrChange(path,fullPath,realPath,parent,watchedDir,item,info,opts);}else {this.handleEvent(EV_UNLINK$1,path,fullPath,realPath,parent,watchedDir,item,info,opts);}}catch(error){if(error.code==="EACCES"){this.addOrChange(path,fullPath,realPath,parent,watchedDir,item,info,opts);}else {this.handleEvent(EV_UNLINK$1,path,fullPath,realPath,parent,watchedDir,item,info,opts);}}}handleEvent(event,path,fullPath,realPath,parent,watchedDir,item,info,opts){if(this.fsw.closed||this.checkIgnored(path))return;if(event===EV_UNLINK$1){const isDirectory=info.type===FSEVENT_TYPE_DIRECTORY;if(isDirectory||watchedDir.has(item)){this.fsw._remove(parent,item,isDirectory);}}else {if(event===EV_ADD$1){if(info.type===FSEVENT_TYPE_DIRECTORY)this.fsw._getWatchedDir(path);if(info.type===FSEVENT_TYPE_SYMLINK&&opts.followSymlinks){const curDepth=opts.depth===undefined?undefined:calcDepth(fullPath,realPath)+1;return this._addToFsEvents(path,false,true,curDepth)}this.fsw._getWatchedDir(parent).add(item);}const eventName=info.type===FSEVENT_TYPE_DIRECTORY?event+DIR_SUFFIX:event;this.fsw._emit(eventName,path);if(eventName===EV_ADD_DIR$1)this._addToFsEvents(path,false,true);}}_watchWithFsEvents(watchPath,realPath,transform,globFilter){if(this.fsw.closed||this.fsw._isIgnored(watchPath))return;const opts=this.fsw.options;const watchCallback=async(fullPath,flags,info)=>{if(this.fsw.closed)return;if(opts.depth!==undefined&&calcDepth(fullPath,realPath)>opts.depth)return;const path=transform(sysPath$1.join(watchPath,sysPath$1.relative(watchPath,fullPath)));if(globFilter&&!globFilter(path))return;const parent=sysPath$1.dirname(path);const item=sysPath$1.basename(path);const watchedDir=this.fsw._getWatchedDir(info.type===FSEVENT_TYPE_DIRECTORY?path:parent);if(wrongEventFlags.has(flags)||info.event===FSEVENT_UNKNOWN){if(typeof opts.ignored===FUNCTION_TYPE$1){let stats;try{stats=await stat$1(path);}catch(error){}if(this.fsw.closed)return;if(this.checkIgnored(path,stats))return;if(sameTypes(info,stats)){this.addOrChange(path,fullPath,realPath,parent,watchedDir,item,info,opts);}else {this.handleEvent(EV_UNLINK$1,path,fullPath,realPath,parent,watchedDir,item,info,opts);}}else {this.checkExists(path,fullPath,realPath,parent,watchedDir,item,info,opts);}}else {switch(info.event){case FSEVENT_CREATED:case FSEVENT_MODIFIED:return this.addOrChange(path,fullPath,realPath,parent,watchedDir,item,info,opts);case FSEVENT_DELETED:case FSEVENT_MOVED:return this.checkExists(path,fullPath,realPath,parent,watchedDir,item,info,opts);}}};const closer=setFSEventsListener(watchPath,realPath,watchCallback,this.fsw._emitRaw);this.fsw._emitReady();return closer}async _handleFsEventsSymlink(linkPath,fullPath,transform,curDepth){if(this.fsw.closed||this.fsw._symlinkPaths.has(fullPath))return;this.fsw._symlinkPaths.set(fullPath,true);this.fsw._incrReadyCount();try{const linkTarget=await realpath(linkPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(linkTarget)){return this.fsw._emitReady()}this.fsw._incrReadyCount();this._addToFsEvents(linkTarget||linkPath,path=>{let aliasedPath=linkPath;if(linkTarget&&linkTarget!==DOT_SLASH){aliasedPath=path.replace(linkTarget,linkPath);}else if(path!==DOT_SLASH){aliasedPath=sysPath$1.join(linkPath,path);}return transform(aliasedPath)},false,curDepth);}catch(error){if(this.fsw._handleError(error)){return this.fsw._emitReady()}}}emitAdd(newPath,stats,processPath,opts,forceAdd){const pp=processPath(newPath);const isDir=stats.isDirectory();const dirObj=this.fsw._getWatchedDir(sysPath$1.dirname(pp));const base=sysPath$1.basename(pp);if(isDir)this.fsw._getWatchedDir(pp);if(dirObj.has(base))return;dirObj.add(base);if(!opts.ignoreInitial||forceAdd===true){this.fsw._emit(isDir?EV_ADD_DIR$1:EV_ADD$1,pp,stats);}}initWatch(realPath,path,wh,processPath){if(this.fsw.closed)return;const closer=this._watchWithFsEvents(wh.watchPath,sysPath$1.resolve(realPath||wh.watchPath),processPath,wh.globFilter);this.fsw._addPathCloser(path,closer);}async _addToFsEvents(path,transform,forceAdd,priorDepth){if(this.fsw.closed){return}const opts=this.fsw.options;const processPath=typeof transform===FUNCTION_TYPE$1?transform:IDENTITY_FN;const wh=this.fsw._getWatchHelpers(path);try{const stats=await statMethods[wh.statMethod](wh.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(wh.watchPath,stats)){throw null}if(stats.isDirectory()){if(!wh.globFilter)this.emitAdd(processPath(path),stats,processPath,opts,forceAdd);if(priorDepth&&priorDepth>opts.depth)return;this.fsw._readdirp(wh.watchPath,{fileFilter:entry=>wh.filterPath(entry),directoryFilter:entry=>wh.filterDir(entry),...Depth(opts.depth-(priorDepth||0))}).on(STR_DATA,entry=>{if(this.fsw.closed){return}if(entry.stats.isDirectory()&&!wh.filterPath(entry))return;const joinedPath=sysPath$1.join(wh.watchPath,entry.path);const{fullPath}=entry;if(wh.followSymlinks&&entry.stats.isSymbolicLink()){const curDepth=opts.depth===undefined?undefined:calcDepth(joinedPath,sysPath$1.resolve(wh.watchPath))+1;this._handleFsEventsSymlink(joinedPath,fullPath,processPath,curDepth);}else {this.emitAdd(joinedPath,entry.stats,processPath,opts,forceAdd);}}).on(EV_ERROR$1,EMPTY_FN$1).on(STR_END$1,()=>{this.fsw._emitReady();});}else {this.emitAdd(wh.watchPath,stats,processPath,opts,forceAdd);this.fsw._emitReady();}}catch(error){if(!error||this.fsw._handleError(error)){this.fsw._emitReady();this.fsw._emitReady();}}if(opts.persistent&&forceAdd!==true){if(typeof transform===FUNCTION_TYPE$1){this.initWatch(undefined,path,wh,processPath);}else {let realPath;try{realPath=await realpath(wh.watchPath);}catch(e){}this.initWatch(realPath,path,wh,processPath);}}}}fseventsHandler.exports=FsEventsHandler$1;fseventsHandler.exports.canUse=canUse;

const{EventEmitter}=require$$0$7;const fs=_fs__default;const sysPath=require$$0__default;const{promisify}=require$$9;const readdirp=readdirp_1;const anymatch=anymatch$2.exports.default;const globParent=globParent$1;const isGlob=isGlob$2;const braces=braces_1;const normalizePath=normalizePath$2;const NodeFsHandler=nodefsHandler;const FsEventsHandler=fseventsHandler.exports;const{EV_ALL,EV_READY,EV_ADD,EV_CHANGE,EV_UNLINK,EV_ADD_DIR,EV_UNLINK_DIR,EV_RAW,EV_ERROR,STR_CLOSE,STR_END,BACK_SLASH_RE,DOUBLE_SLASH_RE,SLASH_OR_BACK_SLASH_RE,DOT_RE,REPLACER_RE,SLASH,SLASH_SLASH,BRACE_START,BANG,ONE_DOT,TWO_DOTS,GLOBSTAR,SLASH_GLOBSTAR,ANYMATCH_OPTS,STRING_TYPE,FUNCTION_TYPE,EMPTY_STR,EMPTY_FN,isWindows,isMacos,isIBMi}=constants;const stat=promisify(fs.stat);const readdir=promisify(fs.readdir);const arrify=(value=[])=>Array.isArray(value)?value:[value];const flatten=(list,result=[])=>{list.forEach(item=>{if(Array.isArray(item)){flatten(item,result);}else {result.push(item);}});return result};const unifyPaths=paths_=>{const paths=flatten(arrify(paths_));if(!paths.every(p=>typeof p===STRING_TYPE)){throw new TypeError(`Non-string provided as watch path: ${paths}`)}return paths.map(normalizePathToUnix)};const toUnix=string=>{let str=string.replace(BACK_SLASH_RE,SLASH);let prepend=false;if(str.startsWith(SLASH_SLASH)){prepend=true;}while(str.match(DOUBLE_SLASH_RE)){str=str.replace(DOUBLE_SLASH_RE,SLASH);}if(prepend){str=SLASH+str;}return str};const normalizePathToUnix=path=>toUnix(sysPath.normalize(toUnix(path)));const normalizeIgnored=(cwd=EMPTY_STR)=>path=>{if(typeof path!==STRING_TYPE)return path;return normalizePathToUnix(sysPath.isAbsolute(path)?path:sysPath.join(cwd,path))};const getAbsolutePath=(path,cwd)=>{if(sysPath.isAbsolute(path)){return path}if(path.startsWith(BANG)){return BANG+sysPath.join(cwd,path.slice(1))}return sysPath.join(cwd,path)};const undef=(opts,key)=>opts[key]===undefined;class DirEntry{constructor(dir,removeWatcher){this.path=dir;this._removeWatcher=removeWatcher;this.items=new Set;}add(item){const{items}=this;if(!items)return;if(item!==ONE_DOT&&item!==TWO_DOTS)items.add(item);}async remove(item){const{items}=this;if(!items)return;items.delete(item);if(items.size>0)return;const dir=this.path;try{await readdir(dir);}catch(err){if(this._removeWatcher){this._removeWatcher(sysPath.dirname(dir),sysPath.basename(dir));}}}has(item){const{items}=this;if(!items)return;return items.has(item)}getChildren(){const{items}=this;if(!items)return;return [...items.values()]}dispose(){this.items.clear();delete this.path;delete this._removeWatcher;delete this.items;Object.freeze(this);}}const STAT_METHOD_F="stat";const STAT_METHOD_L="lstat";class WatchHelper{constructor(path,watchPath,follow,fsw){this.fsw=fsw;this.path=path=path.replace(REPLACER_RE,EMPTY_STR);this.watchPath=watchPath;this.fullWatchPath=sysPath.resolve(watchPath);this.hasGlob=watchPath!==path;if(path===EMPTY_STR)this.hasGlob=false;this.globSymlink=this.hasGlob&&follow?undefined:false;this.globFilter=this.hasGlob?anymatch(path,undefined,ANYMATCH_OPTS):false;this.dirParts=this.getDirParts(path);this.dirParts.forEach(parts=>{if(parts.length>1)parts.pop();});this.followSymlinks=follow;this.statMethod=follow?STAT_METHOD_F:STAT_METHOD_L;}checkGlobSymlink(entry){if(this.globSymlink===undefined){this.globSymlink=entry.fullParentDir===this.fullWatchPath?false:{realPath:entry.fullParentDir,linkPath:this.fullWatchPath};}if(this.globSymlink){return entry.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath)}return entry.fullPath}entryPath(entry){return sysPath.join(this.watchPath,sysPath.relative(this.watchPath,this.checkGlobSymlink(entry)))}filterPath(entry){const{stats}=entry;if(stats&&stats.isSymbolicLink())return this.filterDir(entry);const resolvedPath=this.entryPath(entry);const matchesGlob=this.hasGlob&&typeof this.globFilter===FUNCTION_TYPE?this.globFilter(resolvedPath):true;return matchesGlob&&this.fsw._isntIgnored(resolvedPath,stats)&&this.fsw._hasReadPermissions(stats)}getDirParts(path){if(!this.hasGlob)return [];const parts=[];const expandedPath=path.includes(BRACE_START)?braces.expand(path):[path];expandedPath.forEach(path=>{parts.push(sysPath.relative(this.watchPath,path).split(SLASH_OR_BACK_SLASH_RE));});return parts}filterDir(entry){if(this.hasGlob){const entryParts=this.getDirParts(this.checkGlobSymlink(entry));let globstar=false;this.unmatchedGlob=!this.dirParts.some(parts=>{return parts.every((part,i)=>{if(part===GLOBSTAR)globstar=true;return globstar||!entryParts[0][i]||anymatch(part,entryParts[0][i],ANYMATCH_OPTS)})});}return !this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(entry),entry.stats)}}class FSWatcher extends EventEmitter{constructor(_opts){super();const opts={};if(_opts)Object.assign(opts,_opts);this._watched=new Map;this._closers=new Map;this._ignoredPaths=new Set;this._throttled=new Map;this._symlinkPaths=new Map;this._streams=new Set;this.closed=false;if(undef(opts,"persistent"))opts.persistent=true;if(undef(opts,"ignoreInitial"))opts.ignoreInitial=false;if(undef(opts,"ignorePermissionErrors"))opts.ignorePermissionErrors=false;if(undef(opts,"interval"))opts.interval=100;if(undef(opts,"binaryInterval"))opts.binaryInterval=300;if(undef(opts,"disableGlobbing"))opts.disableGlobbing=false;opts.enableBinaryInterval=opts.binaryInterval!==opts.interval;if(undef(opts,"useFsEvents"))opts.useFsEvents=!opts.usePolling;const canUseFsEvents=FsEventsHandler.canUse();if(!canUseFsEvents)opts.useFsEvents=false;if(undef(opts,"usePolling")&&!opts.useFsEvents){opts.usePolling=isMacos;}if(isIBMi){opts.usePolling=true;}const envPoll=process.env.CHOKIDAR_USEPOLLING;if(envPoll!==undefined){const envLower=envPoll.toLowerCase();if(envLower==="false"||envLower==="0"){opts.usePolling=false;}else if(envLower==="true"||envLower==="1"){opts.usePolling=true;}else {opts.usePolling=!!envLower;}}const envInterval=process.env.CHOKIDAR_INTERVAL;if(envInterval){opts.interval=Number.parseInt(envInterval,10);}if(undef(opts,"atomic"))opts.atomic=!opts.usePolling&&!opts.useFsEvents;if(opts.atomic)this._pendingUnlinks=new Map;if(undef(opts,"followSymlinks"))opts.followSymlinks=true;if(undef(opts,"awaitWriteFinish"))opts.awaitWriteFinish=false;if(opts.awaitWriteFinish===true)opts.awaitWriteFinish={};const awf=opts.awaitWriteFinish;if(awf){if(!awf.stabilityThreshold)awf.stabilityThreshold=2000;if(!awf.pollInterval)awf.pollInterval=100;this._pendingWrites=new Map;}if(opts.ignored)opts.ignored=arrify(opts.ignored);let readyCalls=0;this._emitReady=()=>{readyCalls++;if(readyCalls>=this._readyCount){this._emitReady=EMPTY_FN;this._readyEmitted=true;process.nextTick(()=>this.emit(EV_READY));}};this._emitRaw=(...args)=>this.emit(EV_RAW,...args);this._readyEmitted=false;this.options=opts;if(opts.useFsEvents){this._fsEventsHandler=new FsEventsHandler(this);}else {this._nodeFsHandler=new NodeFsHandler(this);}Object.freeze(opts);}add(paths_,_origAdd,_internal){const{cwd,disableGlobbing}=this.options;this.closed=false;let paths=unifyPaths(paths_);if(cwd){paths=paths.map(path=>{const absPath=getAbsolutePath(path,cwd);if(disableGlobbing||!isGlob(path)){return absPath}return normalizePath(absPath)});}paths=paths.filter(path=>{if(path.startsWith(BANG)){this._ignoredPaths.add(path.slice(1));return false}this._ignoredPaths.delete(path);this._ignoredPaths.delete(path+SLASH_GLOBSTAR);this._userIgnored=undefined;return true});if(this.options.useFsEvents&&this._fsEventsHandler){if(!this._readyCount)this._readyCount=paths.length;if(this.options.persistent)this._readyCount*=2;paths.forEach(path=>this._fsEventsHandler._addToFsEvents(path));}else {if(!this._readyCount)this._readyCount=0;this._readyCount+=paths.length;Promise.all(paths.map(async path=>{const res=await this._nodeFsHandler._addToNodeFs(path,!_internal,0,0,_origAdd);if(res)this._emitReady();return res})).then(results=>{if(this.closed)return;results.filter(item=>item).forEach(item=>{this.add(sysPath.dirname(item),sysPath.basename(_origAdd||item));});});}return this}unwatch(paths_){if(this.closed)return this;const paths=unifyPaths(paths_);const{cwd}=this.options;paths.forEach(path=>{if(!sysPath.isAbsolute(path)&&!this._closers.has(path)){if(cwd)path=sysPath.join(cwd,path);path=sysPath.resolve(path);}this._closePath(path);this._ignoredPaths.add(path);if(this._watched.has(path)){this._ignoredPaths.add(path+SLASH_GLOBSTAR);}this._userIgnored=undefined;});return this}close(){if(this.closed)return this._closePromise;this.closed=true;this.removeAllListeners();const closers=[];this._closers.forEach(closerList=>closerList.forEach(closer=>{const promise=closer();if(promise instanceof Promise)closers.push(promise);}));this._streams.forEach(stream=>stream.destroy());this._userIgnored=undefined;this._readyCount=0;this._readyEmitted=false;this._watched.forEach(dirent=>dirent.dispose());["closers","watched","streams","symlinkPaths","throttled"].forEach(key=>{this[`_${key}`].clear();});this._closePromise=closers.length?Promise.all(closers).then(()=>undefined):Promise.resolve();return this._closePromise}getWatched(){const watchList={};this._watched.forEach((entry,dir)=>{const key=this.options.cwd?sysPath.relative(this.options.cwd,dir):dir;watchList[key||ONE_DOT]=entry.getChildren().sort();});return watchList}emitWithAll(event,args){this.emit(...args);if(event!==EV_ERROR)this.emit(EV_ALL,...args);}async _emit(event,path,val1,val2,val3){if(this.closed)return;const opts=this.options;if(isWindows)path=sysPath.normalize(path);if(opts.cwd)path=sysPath.relative(opts.cwd,path);const args=[event,path];if(val3!==undefined)args.push(val1,val2,val3);else if(val2!==undefined)args.push(val1,val2);else if(val1!==undefined)args.push(val1);const awf=opts.awaitWriteFinish;let pw;if(awf&&(pw=this._pendingWrites.get(path))){pw.lastChange=new Date;return this}if(opts.atomic){if(event===EV_UNLINK){this._pendingUnlinks.set(path,args);setTimeout(()=>{this._pendingUnlinks.forEach((entry,path)=>{this.emit(...entry);this.emit(EV_ALL,...entry);this._pendingUnlinks.delete(path);});},typeof opts.atomic==="number"?opts.atomic:100);return this}if(event===EV_ADD&&this._pendingUnlinks.has(path)){event=args[0]=EV_CHANGE;this._pendingUnlinks.delete(path);}}if(awf&&(event===EV_ADD||event===EV_CHANGE)&&this._readyEmitted){const awfEmit=(err,stats)=>{if(err){event=args[0]=EV_ERROR;args[1]=err;this.emitWithAll(event,args);}else if(stats){if(args.length>2){args[2]=stats;}else {args.push(stats);}this.emitWithAll(event,args);}};this._awaitWriteFinish(path,awf.stabilityThreshold,event,awfEmit);return this}if(event===EV_CHANGE){const isThrottled=!this._throttle(EV_CHANGE,path,50);if(isThrottled)return this}if(opts.alwaysStat&&val1===undefined&&(event===EV_ADD||event===EV_ADD_DIR||event===EV_CHANGE)){const fullPath=opts.cwd?sysPath.join(opts.cwd,path):path;let stats;try{stats=await stat(fullPath);}catch(err){}if(!stats||this.closed)return;args.push(stats);}this.emitWithAll(event,args);return this}_handleError(error){const code=error&&error.code;if(error&&code!=="ENOENT"&&code!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||code!=="EPERM"&&code!=="EACCES")){this.emit(EV_ERROR,error);}return error||this.closed}_throttle(actionType,path,timeout){if(!this._throttled.has(actionType)){this._throttled.set(actionType,new Map);}const action=this._throttled.get(actionType);const actionPath=action.get(path);if(actionPath){actionPath.count++;return false}let timeoutObject;const clear=()=>{const item=action.get(path);const count=item?item.count:0;action.delete(path);clearTimeout(timeoutObject);if(item)clearTimeout(item.timeoutObject);return count};timeoutObject=setTimeout(clear,timeout);const thr={timeoutObject,clear,count:0};action.set(path,thr);return thr}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(path,threshold,event,awfEmit){let timeoutHandler;let fullPath=path;if(this.options.cwd&&!sysPath.isAbsolute(path)){fullPath=sysPath.join(this.options.cwd,path);}const now=new Date;const awaitWriteFinish=prevStat=>{fs.stat(fullPath,(err,curStat)=>{if(err||!this._pendingWrites.has(path)){if(err&&err.code!=="ENOENT")awfEmit(err);return}const now=Number(new Date);if(prevStat&&curStat.size!==prevStat.size){this._pendingWrites.get(path).lastChange=now;}const pw=this._pendingWrites.get(path);const df=now-pw.lastChange;if(df>=threshold){this._pendingWrites.delete(path);awfEmit(undefined,curStat);}else {timeoutHandler=setTimeout(awaitWriteFinish,this.options.awaitWriteFinish.pollInterval,curStat);}});};if(!this._pendingWrites.has(path)){this._pendingWrites.set(path,{lastChange:now,cancelWait:()=>{this._pendingWrites.delete(path);clearTimeout(timeoutHandler);return event}});timeoutHandler=setTimeout(awaitWriteFinish,this.options.awaitWriteFinish.pollInterval);}}_getGlobIgnored(){return [...this._ignoredPaths.values()]}_isIgnored(path,stats){if(this.options.atomic&&DOT_RE.test(path))return true;if(!this._userIgnored){const{cwd}=this.options;const ign=this.options.ignored;const ignored=ign&&ign.map(normalizeIgnored(cwd));const paths=arrify(ignored).filter(path=>typeof path===STRING_TYPE&&!isGlob(path)).map(path=>path+SLASH_GLOBSTAR);const list=this._getGlobIgnored().map(normalizeIgnored(cwd)).concat(ignored,paths);this._userIgnored=anymatch(list,undefined,ANYMATCH_OPTS);}return this._userIgnored([path,stats])}_isntIgnored(path,stat){return !this._isIgnored(path,stat)}_getWatchHelpers(path,depth){const watchPath=depth||this.options.disableGlobbing||!isGlob(path)?path:globParent(path);const follow=this.options.followSymlinks;return new WatchHelper(path,watchPath,follow,this)}_getWatchedDir(directory){if(!this._boundRemove)this._boundRemove=this._remove.bind(this);const dir=sysPath.resolve(directory);if(!this._watched.has(dir))this._watched.set(dir,new DirEntry(dir,this._boundRemove));return this._watched.get(dir)}_hasReadPermissions(stats){if(this.options.ignorePermissionErrors)return true;const md=stats&&Number.parseInt(stats.mode,10);const st=md&511;const it=Number.parseInt(st.toString(8)[0],10);return Boolean(4&it)}_remove(directory,item,isDirectory){const path=sysPath.join(directory,item);const fullPath=sysPath.resolve(path);isDirectory=isDirectory!=null?isDirectory:this._watched.has(path)||this._watched.has(fullPath);if(!this._throttle("remove",path,100))return;if(!isDirectory&&!this.options.useFsEvents&&this._watched.size===1){this.add(directory,item,true);}const wp=this._getWatchedDir(path);const nestedDirectoryChildren=wp.getChildren();nestedDirectoryChildren.forEach(nested=>this._remove(path,nested));const parent=this._getWatchedDir(directory);const wasTracked=parent.has(item);parent.remove(item);if(this._symlinkPaths.has(fullPath)){this._symlinkPaths.delete(fullPath);}let relPath=path;if(this.options.cwd)relPath=sysPath.relative(this.options.cwd,path);if(this.options.awaitWriteFinish&&this._pendingWrites.has(relPath)){const event=this._pendingWrites.get(relPath).cancelWait();if(event===EV_ADD)return}this._watched.delete(path);this._watched.delete(fullPath);const eventName=isDirectory?EV_UNLINK_DIR:EV_UNLINK;if(wasTracked&&!this._isIgnored(path))this._emit(eventName,path);if(!this.options.useFsEvents){this._closePath(path);}}_closePath(path){this._closeFile(path);const dir=sysPath.dirname(path);this._getWatchedDir(dir).remove(sysPath.basename(path));}_closeFile(path){const closers=this._closers.get(path);if(!closers)return;closers.forEach(closer=>closer());this._closers.delete(path);}_addPathCloser(path,closer){if(!closer)return;let list=this._closers.get(path);if(!list){list=[];this._closers.set(path,list);}list.push(closer);}_readdirp(root,opts){if(this.closed)return;const options={type:EV_ALL,alwaysStat:true,lstat:true,...opts};let stream=readdirp(root,options);this._streams.add(stream);stream.once(STR_CLOSE,()=>{stream=undefined;});stream.once(STR_END,()=>{if(stream){this._streams.delete(stream);stream=undefined;}});return stream}}const watch=(paths,options)=>{const watcher=new FSWatcher(options);watcher.add(paths);return watcher};var watch_1=watch;

const LOADER_ROOT_ROUTE_NAMESPACE="29af6f1b-7584-484a-b627-8b25d47021ec";let activeLoader;class Loader{constructor(options){_defineProperty(this,"framework",void 0);_defineProperty(this,"owner",void 0);_defineProperty(this,"server",void 0);_defineProperty(this,"controllersPath",void 0);_defineProperty(this,"trackedControllers",void 0);_defineProperty(this,"watcher",void 0);_defineProperty(this,"routers",void 0);_defineProperty(this,"routes",void 0);_defineProperty(this,"BuiltinModuleAPI",{load:Module.prototype.load,require:Module.prototype.require});this.framework=options.framework;this.owner=options.owner;this.server=options.server;this.controllersPath=options.controllersPath;this.trackedControllers=[];this.routers={};this.routes={};}get inDevMode(){return this.framework.inDevMode}async scanForControllers(postInitial=false){let trackingControllersCount=0;let discoveredControllers=this.trackedControllers;for(let controllerFile of await cinnamonInternals$1.fs.listRecursively(this.controllersPath)){if(controllerFile.endsWith(".ts")){const existingController=discoveredControllers.find(controller=>controller.path===controllerFile);const dateModified=await cinnamonInternals$1.fs.getLastModification(controllerFile);if(!existingController){discoveredControllers.push({path:controllerFile,dateModified,dirty:true});trackingControllersCount++;}else {if(!existingController.dateModified||dateModified.getTime()>existingController.dateModified.getTime()){existingController.dateModified=dateModified;existingController.dirty=true;}trackingControllersCount++;}}}if(postInitial){this.framework.getModule(Logger.prototype).info(`Changes detected. Reloaded ${trackingControllersCount} controller${trackingControllersCount!==1?"s":""}.`);}this.trackedControllers=discoveredControllers;return trackingControllersCount}async registerControllers(){this.unhookWithKoa();Object.keys(this.routes).forEach(route=>delete this.routes[route]);Object.keys(this.routers).forEach(router=>delete this.routers[router]);for(const controller of this.trackedControllers){const requireFn=this.inDevMode?this.hotRequire:this.BuiltinModuleAPI.require;if(activeLoader!=null){throw new Error("Attempted to lock already locked activeLoader interface.\n"+"This might happen if you run two web servers in development mode simultaneously.")}activeLoader=this;requireFn.call(this,controller.path);activeLoader=undefined;controller.dirty=false;}this.hookWithKoa();if(this.inDevMode){if(this.watcher){await this.watcher.close();}this.watcher=watch_1(this.trackedControllers.map(controller=>controller.path),{persistent:true,ignoreInitial:true});this.watcher.on("all",()=>{setTimeout(()=>{this.scanForControllers(true).then(_=>this.registerControllers());},100);});}}static loadRoute(routeData){if(!activeLoader){throw new Error("Attempted to lock missing activeLoader interface.\n"+"This would imply that a route attempted to register with a loader when that loader wasn't expecting it.")}if(Object.keys(activeLoader.routes).includes(routeData.identifier)){throw new Error("Duplicate route ID registered; this should be impossible.\n"+"Please ensure all route IDs are unique.")}activeLoader.routes[routeData.identifier]=routeData;}static loadController(controllerId,group){if(!activeLoader){throw new Error("Attempted to lock missing activeLoader interface.\n"+"This would imply that a controller attempted to register with a loader when that loader wasn't expecting it.")}if(Object.keys(activeLoader.routers).includes(controllerId)){throw new Error("Duplicate router for controller ID registered; this should be impossible.\n"+"Please ensure each controller has one and only one router.")}const prefix=`/${group.map(item=>item.replace(/^\/|\/$/g,"")).join("/")}`;const controllerRouter=new KoaRouter({prefix});for(const route of Object.values(activeLoader.routes).filter(route=>route.controller===controllerId)){let routePath=route.path.replace(/\/$/g,"");if(!routePath.startsWith("/"))routePath=`/${routePath}`;const registerKoaRoute=controllerRouter[route.method.toLowerCase()];registerKoaRoute.call(controllerRouter,route.identifier,routePath,...route.middleware,route.handler);}activeLoader.routers[controllerId]=controllerRouter;}static loadMiddleware(routeId,fn){if(!activeLoader){throw new Error("Attempted to lock missing activeLoader interface.\n"+"This would imply that a controller attempted to register with a loader when that loader wasn't expecting it.")}if(!activeLoader.routes[routeId]){throw new Error("Attempted to register middleware for invalid route.")}activeLoader.routes[routeId].middleware.push(fn);}hotRequire(request,caller){if(!caller)caller=require.main;const exports=this.BuiltinModuleAPI.require.call(caller,request);const controller=this.trackedControllers.find(controller=>controller.path===request);let modulePath;try{modulePath=Module._resolveFilename(request,caller);}catch(ex){return exports}if(!controller)return exports;if(modulePath){delete require.cache[modulePath];}return exports}hookWithKoa(){const routers=this.routers;this.server.use(co_1.wrap(function*(ctx,next){for(const handler of Object.values(routers)){yield handler.routes()(ctx,async()=>{});yield handler.allowedMethods()(ctx,async()=>{});}yield next();}));const self=this;this.server.use(co_1.wrap(function*(ctx,next){const start=new Date().getTime();yield next();const responseTimeMs=new Date().getTime()-start;const statusCode=ctx.status;if(!self.owner.isLoggingEnabled&&statusCode<500)return;let status=`[${statusCode}]`;if(statusCode>=100&&statusCode<200)status=source.cyanBright(status);else if(statusCode>=200&&statusCode<300)status=source.greenBright(status);else if(statusCode>=300&&statusCode<400)status=source.blueBright(status);else if(statusCode>=400&&statusCode<500)status=source.redBright(status);else if(statusCode>=500)status=source.bgRedBright(status);if(statusCode<400)self.owner.logger.debug(`${status} ${ctx.method} ${ctx.path} (${responseTimeMs}ms) - ${ctx.headers["user-agent"]}`);else self.owner.logger.error(`${status} ${ctx.method} ${ctx.path} (${responseTimeMs}ms) - ${ctx.headers["user-agent"]}`);}));}unhookWithKoa(){this.server.middleware=[];}}

var Method;(function(Method){Method["GET"]="GET";Method["HEAD"]="HEAD";Method["TRACE"]="TRACE";Method["POST"]="POST";Method["PUT"]="PUT";Method["DELETE"]="DELETE";Method["OPTIONS"]="OPTIONS";Method["PATCH"]="PATCH";})(Method||(Method={}));

var getRandomValues;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=="undefined"&&typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto);if(!getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return getRandomValues(rnds8)}

var REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

function validate(uuid){return typeof uuid==="string"&&REGEX.test(uuid)}

var byteToHex=[];for(var i=0;i<256;++i){byteToHex.push((i+256).toString(16).substr(1));}function stringify(arr){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!validate(uuid)){throw TypeError("Stringified UUID is invalid")}return uuid}

function parse(uuid){if(!validate(uuid)){throw TypeError("Invalid UUID")}var v;var arr=new Uint8Array(16);arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24;arr[1]=v>>>16&255;arr[2]=v>>>8&255;arr[3]=v&255;arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8;arr[5]=v&255;arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8;arr[7]=v&255;arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8;arr[9]=v&255;arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255;arr[11]=v/4294967296&255;arr[12]=v>>>24&255;arr[13]=v>>>16&255;arr[14]=v>>>8&255;arr[15]=v&255;return arr}

function stringToBytes(str){str=unescape(encodeURIComponent(str));var bytes=[];for(var i=0;i<str.length;++i){bytes.push(str.charCodeAt(i));}return bytes}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";var URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if(typeof value==="string"){value=stringToBytes(value);}if(typeof namespace==="string"){namespace=parse(namespace);}if(namespace.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}var bytes=new Uint8Array(16+value.length);bytes.set(namespace);bytes.set(value,namespace.length);bytes=hashfunc(bytes);bytes[6]=bytes[6]&15|version;bytes[8]=bytes[8]&63|128;if(buf){offset=offset||0;for(var i=0;i<16;++i){buf[offset+i]=bytes[i];}return buf}return stringify(bytes)}try{generateUUID.name=name;}catch(err){}generateUUID.DNS=DNS;generateUUID.URL=URL;return generateUUID}

function v4(options,buf,offset){options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){offset=offset||0;for(var i=0;i<16;++i){buf[offset+i]=rnds[i];}return buf}return stringify(rnds)}

function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:return x^y^z;case 2:return x&y^x&z^y&z;case 3:return x^y^z;}}function ROTL(x,n){return x<<n|x>>>32-n}function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782];var H=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof bytes==="string"){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i){bytes.push(msg.charCodeAt(i));}}else if(!Array.isArray(bytes)){bytes=Array.prototype.slice.call(bytes);}bytes.push(128);var l=bytes.length/4+2;var N=Math.ceil(l/16);var M=new Array(N);for(var _i=0;_i<N;++_i){var arr=new Uint32Array(16);for(var j=0;j<16;++j){arr[j]=bytes[_i*64+j*4]<<24|bytes[_i*64+j*4+1]<<16|bytes[_i*64+j*4+2]<<8|bytes[_i*64+j*4+3];}M[_i]=arr;}M[N-1][14]=(bytes.length-1)*8/Math.pow(2,32);M[N-1][14]=Math.floor(M[N-1][14]);M[N-1][15]=(bytes.length-1)*8&4294967295;for(var _i2=0;_i2<N;++_i2){var W=new Uint32Array(80);for(var t=0;t<16;++t){W[t]=M[_i2][t];}for(var _t=16;_t<80;++_t){W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);}var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];for(var _t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20);var T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d;d=c;c=ROTL(b,30)>>>0;b=a;a=T;}H[0]=H[0]+a>>>0;H[1]=H[1]+b>>>0;H[2]=H[2]+c>>>0;H[3]=H[3]+d>>>0;H[4]=H[4]+e>>>0;}return [H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,H[0]&255,H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,H[1]&255,H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,H[2]&255,H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,H[3]&255,H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,H[4]&255]}

var v5=v35("v5",80,sha1);var uuidv5 = v5;

function Controller(...group){return function(target){if(!activeLoader)throw new Error("Failed to identify the active loader.");if(!target._loaderId){activeLoader.framework.getModule(Logger.prototype).warn(`Empty controller ${target.name} detected. Skipping loading.`);return}const classIdentifier=target._loaderId;const controller=uuidv5(classIdentifier,LOADER_ROOT_ROUTE_NAMESPACE);Loader.loadController(controller,group);}}

function Route(method,path){return function(target,propertyKey,descriptor){if(!target.constructor._loaderId){target.constructor._loaderId=v4();}const functionName=propertyKey;const handler=descriptor===null||descriptor===void 0?void 0:descriptor.value;if(handler==null)return;const controller=uuidv5(target.constructor._loaderId,LOADER_ROOT_ROUTE_NAMESPACE);const identifier=uuidv5(functionName,controller);if(activeLoader){Loader.loadRoute({identifier,controller,method,path,handler,middleware:[]});}else throw new Error("Failed to identify the active loader.")}}

function Middleware(fn){return function(target,propertyKey){if(!activeLoader)throw new Error("Failed to identify the active loader.");const classIdentifier=target.constructor._loaderId;const methodIdentifier=propertyKey;if(!classIdentifier||!methodIdentifier){activeLoader.framework.getModule(Logger.prototype).warn(`Attempted to register middleware on invalid route.`);return}const classNamespace=uuidv5(classIdentifier,LOADER_ROOT_ROUTE_NAMESPACE);const identifier=uuidv5(methodIdentifier,classNamespace);Loader.loadMiddleware(identifier,fn);}}

var WebServerModuleState;(function(WebServerModuleState){WebServerModuleState[WebServerModuleState["INITIAL"]=0]="INITIAL";WebServerModuleState[WebServerModuleState["READY"]=1]="READY";WebServerModuleState[WebServerModuleState["ONLINE"]=2]="ONLINE";WebServerModuleState[WebServerModuleState["ERRORED"]=3]="ERRORED";})(WebServerModuleState||(WebServerModuleState={}));class WebServer extends CinnamonModule{constructor(framework,controllersPath){super(framework);_defineProperty(this,"controllersPath",void 0);_defineProperty(this,"controllersLoader",void 0);_defineProperty(this,"currentState",void 0);_defineProperty(this,"enableLogging",void 0);_defineProperty(this,"server",void 0);_defineProperty(this,"underlyingServer",void 0);_defineProperty(this,"activeConnections",void 0);this.controllersPath=controllersPath;this.server=new Koa;this.underlyingServer=undefined;this.activeConnections={};this.currentState=WebServerModuleState.INITIAL;this.enableLogging=false;this.controllersLoader=new Loader({framework,owner:this,server:this.server,controllersPath:this.controllersPath});}get logger(){return this.framework.getModule(Logger.prototype)}get isLoggingEnabled(){return this.enableLogging}async initialize(){this.logger.frameworkDebug("WebServer module is loading route controllers now.");if(!(await cinnamonInternals$1.fs.directoryExists(this.controllersPath))){this.logger.error(`Unable to load web server controllers due to missing controllers directory: ${cinnamonInternals$1.fs.toAbsolutePath(this.controllersPath)}`);await this.framework.terminate(true);return}const trackingControllersCount=await this.controllersLoader.scanForControllers();this.logger.info(`Found ${trackingControllersCount} controller${trackingControllersCount!==1?"s":""}.`,"webserver");await this.controllersLoader.registerControllers();this.logger.frameworkDebug("The internal web server is ready to be started.");this.currentState=WebServerModuleState.READY;}async start(options){var _options$enable_loggi;if(this.enableLogging!==((_options$enable_loggi=options.enable_logging)!==null&&_options$enable_loggi!==void 0?_options$enable_loggi:false)){var _options$enable_loggi2;this.enableLogging=(_options$enable_loggi2=options.enable_logging)!==null&&_options$enable_loggi2!==void 0?_options$enable_loggi2:false;}if(this.currentState!=WebServerModuleState.READY){let reason="because it is in an invalid state.";if(this.currentState===WebServerModuleState.ONLINE)reason="because it is already running.";throw new Error(`The web server cannot be started ${reason}`)}return new Promise((resolve,_reject)=>{const reject=reason=>{this.currentState=WebServerModuleState.ERRORED;_reject(reason);};try{this.underlyingServer=this.server.listen(options.port,options.host,()=>{var _this$underlyingServe;if(this.underlyingServer==null)return reject("Failed to start web server!");this.logger.info(`Listening for web requests on: http://${options.host}:${options.port}/`);(_this$underlyingServe=this.underlyingServer)===null||_this$underlyingServe===void 0?void 0:_this$underlyingServe.on("connection",connection=>{const key=`${connection.remoteAddress}:${connection.remotePort}`;this.activeConnections[key]=connection;connection.on("close",()=>delete this.activeConnections[key]);});this.currentState=WebServerModuleState.READY;return resolve()});}catch(ex){reject(ex);}})}async terminate(){return new Promise((resolve,reject)=>{try{var _this$underlyingServe2;(_this$underlyingServe2=this.underlyingServer)===null||_this$underlyingServe2===void 0?void 0:_this$underlyingServe2.close(err=>{if(err)return reject(err);for(const key in this.activeConnections)this.activeConnections[key].destroy();this.currentState=WebServerModuleState.INITIAL;return resolve()});}catch(ex){reject(ex);}})}}

const CINNAMON_CORE_DEBUG_MODE=true;class Cinnamon{static get defaultInstance(){return Cinnamon._defaultInstance}constructor(props){var _props$devMode,_props$appName;_defineProperty(this,"devMode",void 0);_defineProperty(this,"appName",void 0);_defineProperty(this,"modules",void 0);this.devMode=(_props$devMode=props.devMode)!==null&&_props$devMode!==void 0?_props$devMode:false;this.appName=(_props$appName=props.appName)!==null&&_props$appName!==void 0?_props$appName:"cinnamon";this.modules=[];if(!Cinnamon._defaultInstance)Cinnamon._defaultInstance=this;}get inDevMode(){return this.devMode}hasModule(moduleType){try{return this.getModule(moduleType)}catch(ex){return false}}getModule(moduleType){const module=this.modules.find(module=>module.constructor.name===moduleType.constructor.name);if(module!=null)return module;else throw new Error("(!) Attempted to access unknown module: "+moduleType)}registerModule(module){if(this.hasModule(module))this.modules.splice(this.modules.indexOf(module),1);this.modules.push(module);}static async initialize(options){if(!(await cinnamonInternals$1.fs.fileExists("./cinnamon.toml"))){console.error(`(!) cinnamon.toml not found in ${process.cwd()}`);console.error(`(!) Please make sure your current working directory is the project's root directory and that your project's cinnamon.toml exists.`);return process.exit(1)}console.log("Initializing Cinnamon...");const projectConfigFile=await promisify$4(_fs.readFile)("./cinnamon.toml","utf-8");let projectConfig;try{projectConfig=Object.assign({framework:{core:{development_mode:false},app:{name:"cinnamon"},http:{host:"0.0.0.0",port:5213,enable_logging:false},structure:{controllers:"src/controllers/",models:"src/models/"}},app:{}},toml.parse(projectConfigFile));}catch(ex){console.error(`(!) Failed to parse cinnamon.toml:`);console.error(`(!) ...parsing failed on line ${ex.line}, at column ${ex.column}: ${ex.message}`);return process.exit(2)}let forceDevMode=false;if(process.env.NODE_ENV&&process.env.NODE_ENV.toLowerCase()==="development"){forceDevMode=true;projectConfig.framework.core.development_mode=forceDevMode;}const framework=new Cinnamon({devMode:forceDevMode?forceDevMode:projectConfig.framework.core.development_mode,appName:projectConfig.framework.app.name});framework.registerModule(new Config(framework,projectConfig.app,options===null||options===void 0?void 0:options.appConfigSchema));framework.registerModule(new Logger(framework,framework.devMode,{showFrameworkDebugMessages:CINNAMON_CORE_DEBUG_MODE}));framework.getModule(Logger.prototype).info("Starting Cinnamon...");if(framework.devMode)framework.getModule(Logger.prototype).warn("Application running in DEVELOPMENT mode.");try{framework.getModule(Logger.prototype).info("Initializing web service controllers...");const controllersPath=cinnamonInternals$1.fs.toAbsolutePath(projectConfig.framework.structure.controllers);if(!(await cinnamonInternals$1.fs.directoryExists(controllersPath))){framework.getModule(Logger.prototype).error(`(!) The specified controllers path does not exist: ${projectConfig.framework.structure.controllers}`);framework.getModule(Logger.prototype).error(`(!) Full resolved path: ${controllersPath}`);process.exit(3);}framework.registerModule(new WebServer(framework,controllersPath));await framework.getModule(WebServer.prototype).initialize();framework.getModule(Logger.prototype).info("Successfully initialized web service controllers.");if(Cinnamon.defaultInstance==framework)initializeCoreModules({Config:framework.getModule(Config.prototype),Logger:framework.getModule(Logger.prototype)});await framework.getModule(WebServer.prototype).start(projectConfig.framework.http);return framework}catch(ex){framework.getModule(Logger.prototype).error("Failed to start Cinnamon. If you believe this is a framework error, please open an issue in the "+"Cinnamon project repository.\n"+"(Apollo Software only): please consider opening an issue with the Internal Projects team."+"\n"+"https://github.com/apollosoftwarexyz/cinnamon/issues/new\n");framework.getModule(Logger.prototype).error(ex.message);console.error("");console.error(ex);process.exit(1);}}async terminate(inErrorState=false){await this.getModule(WebServer.prototype).terminate();process.exit(inErrorState?1:0);}}_defineProperty(Cinnamon,"_defaultInstance",void 0);

export { createValidator as $, index as Chalk, CinnamonModule, Config$1 as Config, Controller, Koa, Logger$1 as Logger, Method, Middleware, Route, ValidationResult, Validator, createValidator, Cinnamon as default, initializeCoreModules };
